2025-04-11 10:23:10,407 [INFO] Приложение запущено
2025-04-11 10:23:10,487 [DEBUG] Using selector: EpollSelector
2025-04-11 10:23:11,995 [INFO] select pg_catalog.version()
2025-04-11 10:23:11,995 [INFO] [raw sql] ()
2025-04-11 10:23:11,996 [INFO] select current_schema()
2025-04-11 10:23:11,996 [INFO] [raw sql] ()
2025-04-11 10:23:11,997 [INFO] show standard_conforming_strings
2025-04-11 10:23:11,997 [INFO] [raw sql] ()
2025-04-11 10:23:11,997 [INFO] BEGIN (implicit)
2025-04-11 10:23:12,000 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,000 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,002 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,002 [INFO] [cached since 0.002592s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,003 [INFO] [cached since 0.003102s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,003 [INFO] [cached since 0.003605s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,004 [INFO] [cached since 0.004077s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,004 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,004 [INFO] [cached since 0.004571s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,004 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,004 [INFO] [cached since 0.005006s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,005 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:23:12,005 [INFO] [cached since 0.005329s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:23:12,005 [INFO] COMMIT
2025-04-11 10:23:12,006 [INFO] BEGIN (implicit)
2025-04-11 10:23:12,024 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:23:12,024 [INFO] [generated in 0.00041s] ()
2025-04-11 10:23:12,027 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:23:12,027 [INFO] [generated in 0.00013s] ()
2025-04-11 10:23:12,028 [INFO] ROLLBACK
2025-04-11 10:23:12,028 [INFO] Start polling
2025-04-11 10:23:12,156 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:23:30,455 [INFO] BEGIN (implicit)
2025-04-11 10:23:30,455 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:23:30,455 [INFO] [generated in 0.00014s] ('main',)
2025-04-11 10:23:31,012 [INFO] ROLLBACK
2025-04-11 10:23:31,012 [INFO] Update id=734890204 is handled. Duration 558 ms by bot id=7443088052
2025-04-11 10:23:32,390 [INFO] BEGIN (implicit)
2025-04-11 10:23:32,391 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:23:32,391 [INFO] [cached since 1.935s ago] ('catalog',)
2025-04-11 10:23:32,392 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:23:32,392 [INFO] [cached since 20.37s ago] ()
2025-04-11 10:23:32,750 [INFO] ROLLBACK
2025-04-11 10:23:32,751 [INFO] Update id=734890205 is handled. Duration 360 ms by bot id=7443088052
2025-04-11 10:23:33,872 [INFO] BEGIN (implicit)
2025-04-11 10:23:33,874 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:23:33,874 [INFO] [generated in 0.00013s] (5,)
2025-04-11 10:23:33,877 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:23:33,877 [INFO] [generated in 0.00016s] (1,)
2025-04-11 10:23:33,879 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:23:33,879 [INFO] [generated in 0.00022s] (5,)
2025-04-11 10:23:34,253 [INFO] ROLLBACK
2025-04-11 10:23:34,254 [INFO] Update id=734890206 is handled. Duration 381 ms by bot id=7443088052
2025-04-11 10:23:37,139 [INFO] BEGIN (implicit)
2025-04-11 10:23:37,139 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:23:37,139 [INFO] [cached since 6.684s ago] ('catalog',)
2025-04-11 10:23:37,140 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:23:37,140 [INFO] [cached since 25.12s ago] ()
2025-04-11 10:23:37,579 [INFO] ROLLBACK
2025-04-11 10:23:37,579 [INFO] Update id=734890207 is handled. Duration 440 ms by bot id=7443088052
2025-04-11 10:23:38,999 [INFO] BEGIN (implicit)
2025-04-11 10:23:38,999 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:23:39,000 [INFO] [cached since 5.125s ago] (7,)
2025-04-11 10:23:39,001 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:23:39,001 [INFO] [cached since 5.124s ago] (1,)
2025-04-11 10:23:39,001 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:23:39,001 [INFO] [cached since 5.122s ago] (7,)
2025-04-11 10:23:39,306 [INFO] ROLLBACK
2025-04-11 10:23:39,307 [INFO] Update id=734890208 is handled. Duration 308 ms by bot id=7443088052
2025-04-11 10:23:42,505 [INFO] BEGIN (implicit)
2025-04-11 10:23:42,506 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:23:42,506 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-11 10:23:42,508 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:23:42,508 [INFO] [generated in 0.00011s] (6903748145, 3)
2025-04-11 10:23:42,510 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:23:42,510 [INFO] [generated in 0.00011s] (6903748145, 3, 1)
2025-04-11 10:23:42,511 [INFO] COMMIT
2025-04-11 10:23:42,732 [INFO] Update id=734890209 is handled. Duration 227 ms by bot id=7443088052
2025-04-11 10:23:44,595 [INFO] BEGIN (implicit)
2025-04-11 10:23:44,595 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:23:44,595 [INFO] [cached since 14.14s ago] ('catalog',)
2025-04-11 10:23:44,596 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:23:44,596 [INFO] [cached since 32.57s ago] ()
2025-04-11 10:23:44,866 [INFO] ROLLBACK
2025-04-11 10:23:44,867 [INFO] Update id=734890210 is handled. Duration 271 ms by bot id=7443088052
2025-04-11 10:23:47,865 [INFO] BEGIN (implicit)
2025-04-11 10:23:47,866 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:23:47,866 [INFO] [cached since 13.99s ago] (6,)
2025-04-11 10:23:47,867 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:23:47,867 [INFO] [cached since 13.99s ago] (1,)
2025-04-11 10:23:47,867 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:23:47,867 [INFO] [cached since 13.99s ago] (6,)
2025-04-11 10:23:48,219 [INFO] ROLLBACK
2025-04-11 10:23:48,219 [INFO] Update id=734890211 is handled. Duration 354 ms by bot id=7443088052
2025-04-11 10:23:52,459 [INFO] BEGIN (implicit)
2025-04-11 10:23:52,459 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:23:52,459 [INFO] [cached since 9.953s ago] (6903748145,)
2025-04-11 10:23:52,460 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:23:52,460 [INFO] [cached since 9.952s ago] (6903748145, 2)
2025-04-11 10:23:52,461 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:23:52,461 [INFO] [cached since 9.951s ago] (6903748145, 2, 1)
2025-04-11 10:23:52,461 [INFO] COMMIT
2025-04-11 10:23:52,714 [INFO] Update id=734890212 is handled. Duration 255 ms by bot id=7443088052
2025-04-11 10:23:57,575 [INFO] BEGIN (implicit)
2025-04-11 10:23:57,575 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:23:57,576 [INFO] [cached since 27.12s ago] ('catalog',)
2025-04-11 10:23:57,577 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:23:57,577 [INFO] [cached since 45.55s ago] ()
2025-04-11 10:23:57,887 [INFO] ROLLBACK
2025-04-11 10:23:57,888 [INFO] Update id=734890213 is handled. Duration 312 ms by bot id=7443088052
2025-04-11 10:23:59,130 [INFO] BEGIN (implicit)
2025-04-11 10:23:59,130 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:23:59,130 [INFO] [cached since 25.26s ago] (8,)
2025-04-11 10:23:59,131 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:23:59,131 [INFO] [cached since 25.25s ago] (1,)
2025-04-11 10:23:59,132 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:23:59,132 [INFO] [cached since 25.25s ago] (8,)
2025-04-11 10:23:59,454 [INFO] ROLLBACK
2025-04-11 10:23:59,454 [INFO] Update id=734890214 is handled. Duration 324 ms by bot id=7443088052
2025-04-11 10:24:03,387 [INFO] BEGIN (implicit)
2025-04-11 10:24:03,388 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:24:03,388 [INFO] [cached since 20.88s ago] (6903748145,)
2025-04-11 10:24:03,389 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:24:03,389 [INFO] [cached since 20.88s ago] (6903748145, 6)
2025-04-11 10:24:03,389 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:24:03,389 [INFO] [cached since 20.88s ago] (6903748145, 6, 1)
2025-04-11 10:24:03,390 [INFO] COMMIT
2025-04-11 10:24:03,638 [INFO] Update id=734890215 is handled. Duration 251 ms by bot id=7443088052
2025-04-11 10:24:04,743 [INFO] BEGIN (implicit)
2025-04-11 10:24:04,745 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:24:04,745 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-11 10:24:05,124 [INFO] ROLLBACK
2025-04-11 10:24:05,124 [INFO] Update id=734890216 is handled. Duration 381 ms by bot id=7443088052
2025-04-11 10:24:21,632 [INFO] BEGIN (implicit)
2025-04-11 10:24:21,633 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:24:21,633 [INFO] [cached since 39.13s ago] (6903748145,)
2025-04-11 10:24:21,894 [INFO] ROLLBACK
2025-04-11 10:24:21,894 [INFO] Update id=734890217 is handled. Duration 262 ms by bot id=7443088052
2025-04-11 10:24:23,484 [INFO] BEGIN (implicit)
2025-04-11 10:24:23,484 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:24:23,484 [INFO] [cached since 40.98s ago] (6903748145,)
2025-04-11 10:24:23,684 [INFO] ROLLBACK
2025-04-11 10:24:23,685 [INFO] Update id=734890218 is handled. Duration 201 ms by bot id=7443088052
2025-04-11 10:24:24,978 [INFO] BEGIN (implicit)
2025-04-11 10:24:24,979 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:24:24,979 [INFO] [cached since 42.47s ago] (6903748145,)
2025-04-11 10:24:24,980 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:24:24,980 [INFO] [cached since 20.24s ago] (6903748145,)
2025-04-11 10:24:24,981 [INFO] INSERT INTO "order" (user_id, delivery_address, total_price, status, created, updated) VALUES ($1::BIGINT, $2::VARCHAR, $3::NUMERIC(5, 2), $4::VARCHAR, now(), now()) RETURNING "order".id, "order".created, "order".updated
2025-04-11 10:24:24,981 [INFO] [generated in 0.00013s] (6903748145, '30.088782, 31.298302', Decimal('144.00'), 'оформлен')
2025-04-11 10:24:24,983 [INFO] UPDATE product SET quantity=$1::INTEGER, updated=now() WHERE product.id = $2::INTEGER
2025-04-11 10:24:24,983 [INFO] [generated in 0.00012s] [(0, 2), (1, 6)]
2025-04-11 10:24:24,985 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:24:24,985 [INFO] [generated in 0.00012s] (6903748145, 3)
2025-04-11 10:24:24,986 [INFO] COMMIT
2025-04-11 10:24:25,103 [INFO] BEGIN (implicit)
2025-04-11 10:24:25,104 [INFO] INSERT INTO order_item (order_id, product_id, quantity, created, updated) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3::TIMESTAMP WITHOUT TIME ZONE, p4::TIMESTAMP WITHOUT TIME ZONE FROM (VALUES ($1::INTEGER, $2::INTEGER, $3::INTEGER, now(), now(), 0), ($4::INTEGER, $5::INTEGER, $6::INTEGER, now(), now(), 1)) AS imp_sen(p0, p1, p2, p3, p4, sen_counter) ORDER BY sen_counter RETURNING order_item.id, order_item.created, order_item.updated, order_item.id AS id__1
2025-04-11 10:24:25,104 [INFO] [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] (10, 2, 1, 10, 6, 1)
2025-04-11 10:24:25,105 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT
2025-04-11 10:24:25,106 [INFO] [generated in 0.00010s] (6903748145,)
2025-04-11 10:24:25,106 [INFO] COMMIT
2025-04-11 10:24:25,687 [INFO] Update id=734890219 is handled. Duration 709 ms by bot id=7443088052
2025-04-11 10:31:09,145 [INFO] Приложение запущено
2025-04-11 10:31:09,151 [DEBUG] Using selector: EpollSelector
2025-04-11 10:31:09,578 [INFO] select pg_catalog.version()
2025-04-11 10:31:09,578 [INFO] [raw sql] ()
2025-04-11 10:31:09,579 [INFO] select current_schema()
2025-04-11 10:31:09,579 [INFO] [raw sql] ()
2025-04-11 10:31:09,580 [INFO] show standard_conforming_strings
2025-04-11 10:31:09,580 [INFO] [raw sql] ()
2025-04-11 10:31:09,580 [INFO] BEGIN (implicit)
2025-04-11 10:31:09,583 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,583 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,585 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,585 [INFO] [cached since 0.002327s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,586 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,586 [INFO] [cached since 0.003084s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,586 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,586 [INFO] [cached since 0.003636s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,587 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,587 [INFO] [cached since 0.004118s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,587 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,587 [INFO] [cached since 0.004602s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,588 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,588 [INFO] [cached since 0.004969s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,588 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:31:09,588 [INFO] [cached since 0.005238s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:31:09,588 [INFO] COMMIT
2025-04-11 10:31:09,589 [INFO] BEGIN (implicit)
2025-04-11 10:31:09,604 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:31:09,605 [INFO] [generated in 0.00018s] ()
2025-04-11 10:31:09,607 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:31:09,607 [INFO] [generated in 0.00023s] ()
2025-04-11 10:31:09,608 [INFO] ROLLBACK
2025-04-11 10:31:09,608 [INFO] Start polling
2025-04-11 10:31:09,694 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:31:46,452 [INFO] Update id=734890220 is handled. Duration 501 ms by bot id=7443088052
2025-04-11 10:32:13,688 [INFO] BEGIN (implicit)
2025-04-11 10:32:13,688 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:13,689 [INFO] [generated in 0.00014s] ('main',)
2025-04-11 10:32:13,844 [INFO] ROLLBACK
2025-04-11 10:32:13,845 [INFO] Update id=734890221 is handled. Duration 157 ms by bot id=7443088052
2025-04-11 10:32:18,441 [INFO] BEGIN (implicit)
2025-04-11 10:32:18,441 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:18,441 [INFO] [cached since 4.753s ago] ('catalog',)
2025-04-11 10:32:18,442 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:32:18,442 [INFO] [cached since 68.84s ago] ()
2025-04-11 10:32:18,802 [INFO] ROLLBACK
2025-04-11 10:32:18,803 [INFO] Update id=734890222 is handled. Duration 362 ms by bot id=7443088052
2025-04-11 10:32:19,576 [INFO] BEGIN (implicit)
2025-04-11 10:32:19,579 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:32:19,579 [INFO] [generated in 0.00014s] (6903748145,)
2025-04-11 10:32:19,580 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:19,580 [INFO] [cached since 5.892s ago] ('cart',)
2025-04-11 10:32:19,820 [INFO] ROLLBACK
2025-04-11 10:32:19,820 [INFO] Update id=734890223 is handled. Duration 244 ms by bot id=7443088052
2025-04-11 10:32:20,879 [INFO] BEGIN (implicit)
2025-04-11 10:32:20,880 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:20,880 [INFO] [cached since 7.191s ago] ('main',)
2025-04-11 10:32:21,221 [INFO] ROLLBACK
2025-04-11 10:32:21,222 [INFO] Update id=734890224 is handled. Duration 342 ms by bot id=7443088052
2025-04-11 10:32:24,261 [INFO] BEGIN (implicit)
2025-04-11 10:32:24,261 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:32:24,261 [INFO] [cached since 4.683s ago] (6903748145,)
2025-04-11 10:32:24,262 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:24,262 [INFO] [cached since 10.57s ago] ('cart',)
2025-04-11 10:32:24,640 [INFO] ROLLBACK
2025-04-11 10:32:24,640 [INFO] Update id=734890225 is handled. Duration 380 ms by bot id=7443088052
2025-04-11 10:32:25,487 [INFO] BEGIN (implicit)
2025-04-11 10:32:25,487 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:25,487 [INFO] [cached since 11.8s ago] ('main',)
2025-04-11 10:32:25,966 [INFO] ROLLBACK
2025-04-11 10:32:25,966 [INFO] Update id=734890226 is handled. Duration 479 ms by bot id=7443088052
2025-04-11 10:32:27,461 [INFO] BEGIN (implicit)
2025-04-11 10:32:27,461 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:32:27,461 [INFO] [cached since 13.77s ago] ('catalog',)
2025-04-11 10:32:27,462 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:32:27,462 [INFO] [cached since 77.86s ago] ()
2025-04-11 10:32:27,759 [INFO] ROLLBACK
2025-04-11 10:32:27,760 [INFO] Update id=734890227 is handled. Duration 299 ms by bot id=7443088052
2025-04-11 10:32:29,852 [INFO] BEGIN (implicit)
2025-04-11 10:32:29,854 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:32:29,854 [INFO] [generated in 0.00013s] (8,)
2025-04-11 10:32:29,856 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:32:29,856 [INFO] [generated in 0.00015s] (8,)
2025-04-11 10:32:29,857 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:32:29,857 [INFO] [generated in 0.00014s] (1,)
2025-04-11 10:32:30,328 [INFO] ROLLBACK
2025-04-11 10:32:30,328 [INFO] Update id=734890228 is handled. Duration 477 ms by bot id=7443088052
2025-04-11 10:32:31,942 [INFO] BEGIN (implicit)
2025-04-11 10:32:31,943 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:32:31,943 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-11 10:32:31,944 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:32:31,944 [INFO] [generated in 0.00011s] (6903748145, 4)
2025-04-11 10:32:31,946 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:32:31,946 [INFO] [generated in 0.00012s] (6903748145, 4, 1)
2025-04-11 10:32:31,947 [INFO] COMMIT
2025-04-11 10:32:32,173 [INFO] Update id=734890229 is handled. Duration 231 ms by bot id=7443088052
2025-04-11 10:32:34,102 [INFO] BEGIN (implicit)
2025-04-11 10:32:34,102 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:32:34,102 [INFO] [cached since 14.52s ago] (6903748145,)
2025-04-11 10:32:34,392 [INFO] ROLLBACK
2025-04-11 10:32:34,392 [INFO] Update id=734890230 is handled. Duration 290 ms by bot id=7443088052
2025-04-11 10:32:36,596 [INFO] BEGIN (implicit)
2025-04-11 10:32:36,597 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:32:36,597 [INFO] [cached since 4.654s ago] (6903748145,)
2025-04-11 10:32:36,725 [INFO] ROLLBACK
2025-04-11 10:32:36,726 [INFO] Update id=734890231 is handled. Duration 129 ms by bot id=7443088052
2025-04-11 10:32:38,311 [INFO] BEGIN (implicit)
2025-04-11 10:32:38,312 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:32:38,312 [INFO] [cached since 6.369s ago] (6903748145,)
2025-04-11 10:32:38,511 [INFO] ROLLBACK
2025-04-11 10:32:38,512 [INFO] Update id=734890232 is handled. Duration 201 ms by bot id=7443088052
2025-04-11 10:32:39,745 [INFO] BEGIN (implicit)
2025-04-11 10:32:39,746 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:32:39,746 [INFO] [cached since 7.803s ago] (6903748145,)
2025-04-11 10:32:39,747 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:32:39,747 [INFO] [cached since 20.17s ago] (6903748145,)
2025-04-11 10:32:39,748 [INFO] INSERT INTO "order" (user_id, delivery_address, total_price, status, created, updated) VALUES ($1::BIGINT, $2::VARCHAR, $3::NUMERIC(5, 2), $4::VARCHAR, now(), now()) RETURNING "order".id, "order".created, "order".updated
2025-04-11 10:32:39,748 [INFO] [generated in 0.00011s] (6903748145, '30.088782, 31.298302', Decimal('450.00'), 'оформлен')
2025-04-11 10:32:39,750 [INFO] UPDATE product SET quantity=$1::INTEGER, updated=now() WHERE product.id = $2::INTEGER
2025-04-11 10:32:39,750 [INFO] [generated in 0.00011s] (1, 4)
2025-04-11 10:32:39,751 [INFO] INSERT INTO order_item (order_id, product_id, quantity, created, updated) VALUES ($1::INTEGER, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING order_item.id, order_item.created, order_item.updated
2025-04-11 10:32:39,751 [INFO] [generated in 0.00015s] (11, 4, 1)
2025-04-11 10:32:39,753 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT
2025-04-11 10:32:39,753 [INFO] [generated in 0.00018s] (6903748145,)
2025-04-11 10:32:39,754 [INFO] COMMIT
2025-04-11 10:32:40,130 [INFO] Update id=734890233 is handled. Duration 385 ms by bot id=7443088052
2025-04-11 10:36:32,961 [INFO] Приложение запущено
2025-04-11 10:36:33,037 [DEBUG] Using selector: EpollSelector
2025-04-11 10:36:33,528 [INFO] select pg_catalog.version()
2025-04-11 10:36:33,528 [INFO] [raw sql] ()
2025-04-11 10:36:33,530 [INFO] select current_schema()
2025-04-11 10:36:33,530 [INFO] [raw sql] ()
2025-04-11 10:36:33,530 [INFO] show standard_conforming_strings
2025-04-11 10:36:33,530 [INFO] [raw sql] ()
2025-04-11 10:36:33,531 [INFO] BEGIN (implicit)
2025-04-11 10:36:33,533 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,533 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,535 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,535 [INFO] [cached since 0.00179s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,535 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,535 [INFO] [cached since 0.002368s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,536 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,536 [INFO] [cached since 0.002833s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,536 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,536 [INFO] [cached since 0.003266s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,536 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,537 [INFO] [cached since 0.003666s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,537 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,537 [INFO] [cached since 0.004074s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,537 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:36:33,537 [INFO] [cached since 0.004417s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:36:33,538 [INFO] COMMIT
2025-04-11 10:36:33,539 [INFO] BEGIN (implicit)
2025-04-11 10:36:33,554 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:36:33,554 [INFO] [generated in 0.00020s] ()
2025-04-11 10:36:33,556 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:36:33,557 [INFO] [generated in 0.00011s] ()
2025-04-11 10:36:33,557 [INFO] ROLLBACK
2025-04-11 10:36:33,557 [INFO] Start polling
2025-04-11 10:36:33,668 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:36:45,057 [INFO] BEGIN (implicit)
2025-04-11 10:36:45,057 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:36:45,058 [INFO] [generated in 0.00013s] ('main',)
2025-04-11 10:36:45,535 [INFO] ROLLBACK
2025-04-11 10:36:45,535 [INFO] Update id=734890234 is handled. Duration 479 ms by bot id=7443088052
2025-04-11 10:36:51,283 [INFO] BEGIN (implicit)
2025-04-11 10:36:51,283 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:36:51,283 [INFO] [cached since 6.226s ago] ('catalog',)
2025-04-11 10:36:51,284 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:36:51,284 [INFO] [cached since 17.73s ago] ()
2025-04-11 10:36:51,553 [INFO] ROLLBACK
2025-04-11 10:36:51,553 [INFO] Update id=734890235 is handled. Duration 270 ms by bot id=7443088052
2025-04-11 10:36:53,668 [INFO] BEGIN (implicit)
2025-04-11 10:36:53,670 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:36:53,670 [INFO] [generated in 0.00013s] (8,)
2025-04-11 10:36:53,672 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:36:53,672 [INFO] [generated in 0.00015s] (8,)
2025-04-11 10:36:53,674 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:36:53,674 [INFO] [generated in 0.00016s] (1,)
2025-04-11 10:36:54,024 [INFO] ROLLBACK
2025-04-11 10:36:54,024 [INFO] Update id=734890236 is handled. Duration 357 ms by bot id=7443088052
2025-04-11 10:36:55,901 [INFO] BEGIN (implicit)
2025-04-11 10:36:55,902 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:36:55,902 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-11 10:36:55,903 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:36:55,904 [INFO] [generated in 0.00012s] (6903748145, 6)
2025-04-11 10:36:55,905 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:36:55,905 [INFO] [generated in 0.00011s] (6903748145, 6, 1)
2025-04-11 10:36:55,906 [INFO] COMMIT
2025-04-11 10:36:56,139 [INFO] Update id=734890237 is handled. Duration 238 ms by bot id=7443088052
2025-04-11 10:36:57,228 [INFO] BEGIN (implicit)
2025-04-11 10:36:57,230 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:36:57,230 [INFO] [generated in 0.00014s] (6903748145,)
2025-04-11 10:36:57,512 [INFO] ROLLBACK
2025-04-11 10:36:57,513 [INFO] Update id=734890238 is handled. Duration 285 ms by bot id=7443088052
2025-04-11 10:37:01,282 [INFO] BEGIN (implicit)
2025-04-11 10:37:01,282 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:37:01,282 [INFO] [cached since 5.381s ago] (6903748145,)
2025-04-11 10:37:01,417 [INFO] ROLLBACK
2025-04-11 10:37:01,418 [INFO] Update id=734890239 is handled. Duration 136 ms by bot id=7443088052
2025-04-11 10:37:03,971 [INFO] BEGIN (implicit)
2025-04-11 10:37:03,971 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:37:03,971 [INFO] [cached since 8.069s ago] (6903748145,)
2025-04-11 10:37:04,184 [INFO] ROLLBACK
2025-04-11 10:37:04,185 [INFO] Update id=734890240 is handled. Duration 214 ms by bot id=7443088052
2025-04-11 10:37:05,490 [INFO] Update id=734890241 is handled. Duration 190 ms by bot id=7443088052
2025-04-11 10:37:15,981 [INFO] BEGIN (implicit)
2025-04-11 10:37:15,982 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:37:15,982 [INFO] [cached since 20.08s ago] (6903748145,)
2025-04-11 10:37:15,983 [INFO] UPDATE users SET first_name=$1::VARCHAR, last_name=$2::VARCHAR, phone=$3::VARCHAR, address=$4::VARCHAR, updated=now() WHERE users.user_id = $5::BIGINT
2025-04-11 10:37:15,983 [INFO] [generated in 0.00015s] ('Ильмир', 'Гильмияров', '+201234567890', 'Новобирблово', 6903748145)
2025-04-11 10:37:15,984 [INFO] COMMIT
2025-04-11 10:37:16,107 [INFO] BEGIN (implicit)
2025-04-11 10:37:16,107 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:37:16,107 [INFO] [cached since 18.88s ago] (6903748145,)
2025-04-11 10:37:16,109 [INFO] INSERT INTO "order" (user_id, delivery_address, total_price, status, created, updated) VALUES ($1::BIGINT, $2::VARCHAR, $3::NUMERIC(5, 2), $4::VARCHAR, now(), now()) RETURNING "order".id, "order".created, "order".updated
2025-04-11 10:37:16,109 [INFO] [generated in 0.00013s] (6903748145, 'Новобирблово', Decimal('65.00'), 'оформлен')
2025-04-11 10:37:16,111 [INFO] UPDATE product SET quantity=$1::INTEGER, updated=now() WHERE product.id = $2::INTEGER
2025-04-11 10:37:16,111 [INFO] [generated in 0.00012s] (0, 6)
2025-04-11 10:37:16,112 [INFO] INSERT INTO order_item (order_id, product_id, quantity, created, updated) VALUES ($1::INTEGER, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING order_item.id, order_item.created, order_item.updated
2025-04-11 10:37:16,112 [INFO] [generated in 0.00015s] (12, 6, 1)
2025-04-11 10:37:16,114 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT
2025-04-11 10:37:16,114 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-11 10:37:16,114 [INFO] COMMIT
2025-04-11 10:37:16,142 [INFO] Update id=734890242 is not handled. Duration 161 ms by bot id=7443088052
2025-04-11 10:37:16,143 [ERROR] Cause exception while process update id=734890242 by bot id=7443088052
AttributeError: 'tuple' object has no attribute 'id'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 236, in process_address
    f"📦 Новый заказ №{new_order.id}\n"
                       ^^^^^^^^^^^^
AttributeError: 'tuple' object has no attribute 'id'
2025-04-11 10:50:53,874 [INFO] Приложение запущено
2025-04-11 10:50:53,880 [DEBUG] Using selector: EpollSelector
2025-04-11 10:50:54,446 [INFO] select pg_catalog.version()
2025-04-11 10:50:54,446 [INFO] [raw sql] ()
2025-04-11 10:50:54,448 [INFO] select current_schema()
2025-04-11 10:50:54,448 [INFO] [raw sql] ()
2025-04-11 10:50:54,448 [INFO] show standard_conforming_strings
2025-04-11 10:50:54,448 [INFO] [raw sql] ()
2025-04-11 10:50:54,449 [INFO] BEGIN (implicit)
2025-04-11 10:50:54,451 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,451 [INFO] [generated in 0.00019s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,453 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,453 [INFO] [cached since 0.001759s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,453 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,453 [INFO] [cached since 0.002189s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,454 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,454 [INFO] [cached since 0.002557s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,454 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,454 [INFO] [cached since 0.002899s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,454 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,454 [INFO] [cached since 0.003221s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,455 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,455 [INFO] [cached since 0.003542s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,455 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:50:54,455 [INFO] [cached since 0.003792s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:50:54,455 [INFO] COMMIT
2025-04-11 10:50:54,456 [INFO] BEGIN (implicit)
2025-04-11 10:50:54,473 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:50:54,473 [INFO] [generated in 0.00017s] ()
2025-04-11 10:50:54,475 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:50:54,475 [INFO] [generated in 0.00012s] ()
2025-04-11 10:50:54,476 [INFO] ROLLBACK
2025-04-11 10:50:54,476 [INFO] Start polling
2025-04-11 10:50:54,635 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:51:07,579 [INFO] BEGIN (implicit)
2025-04-11 10:51:07,580 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:51:07,580 [INFO] [generated in 0.00014s] ('main',)
2025-04-11 10:51:07,948 [INFO] ROLLBACK
2025-04-11 10:51:07,949 [INFO] Update id=734890243 is handled. Duration 370 ms by bot id=7443088052
2025-04-11 10:51:09,551 [INFO] BEGIN (implicit)
2025-04-11 10:51:09,551 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:51:09,551 [INFO] [cached since 1.972s ago] ('catalog',)
2025-04-11 10:51:09,552 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:51:09,552 [INFO] [cached since 15.08s ago] ()
2025-04-11 10:51:09,925 [INFO] ROLLBACK
2025-04-11 10:51:09,925 [INFO] Update id=734890244 is handled. Duration 374 ms by bot id=7443088052
2025-04-11 10:51:11,925 [INFO] BEGIN (implicit)
2025-04-11 10:51:11,927 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:51:11,928 [INFO] [generated in 0.00013s] (8,)
2025-04-11 10:51:11,930 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:51:11,930 [INFO] [generated in 0.00016s] (1,)
2025-04-11 10:51:11,932 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:51:11,932 [INFO] [generated in 0.00019s] (8,)
2025-04-11 10:51:12,277 [INFO] ROLLBACK
2025-04-11 10:51:12,277 [INFO] Update id=734890245 is handled. Duration 352 ms by bot id=7443088052
2025-04-11 10:51:14,410 [INFO] BEGIN (implicit)
2025-04-11 10:51:14,411 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:51:14,411 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-11 10:51:14,412 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:51:14,413 [INFO] [generated in 0.00011s] (6903748145, 4)
2025-04-11 10:51:14,414 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:51:14,414 [INFO] [generated in 0.00010s] (6903748145, 4, 1)
2025-04-11 10:51:14,415 [INFO] COMMIT
2025-04-11 10:51:14,565 [INFO] Update id=734890246 is handled. Duration 155 ms by bot id=7443088052
2025-04-11 10:51:15,281 [INFO] BEGIN (implicit)
2025-04-11 10:51:15,281 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:51:15,281 [INFO] [cached since 3.354s ago] (8,)
2025-04-11 10:51:15,282 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:51:15,282 [INFO] [cached since 3.353s ago] (1,)
2025-04-11 10:51:15,283 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:51:15,283 [INFO] [cached since 3.351s ago] (8,)
2025-04-11 10:51:15,563 [INFO] ROLLBACK
2025-04-11 10:51:15,563 [INFO] Update id=734890247 is handled. Duration 282 ms by bot id=7443088052
2025-04-11 10:51:17,667 [INFO] BEGIN (implicit)
2025-04-11 10:51:17,667 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:51:17,667 [INFO] [cached since 10.09s ago] ('catalog',)
2025-04-11 10:51:17,668 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:51:17,668 [INFO] [cached since 23.19s ago] ()
2025-04-11 10:51:18,093 [INFO] ROLLBACK
2025-04-11 10:51:18,093 [INFO] Update id=734890248 is handled. Duration 427 ms by bot id=7443088052
2025-04-11 10:51:20,964 [INFO] BEGIN (implicit)
2025-04-11 10:51:20,965 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:51:20,965 [INFO] [cached since 9.037s ago] (6,)
2025-04-11 10:51:20,966 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:51:20,966 [INFO] [cached since 9.036s ago] (1,)
2025-04-11 10:51:20,966 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:51:20,967 [INFO] [cached since 9.035s ago] (6,)
2025-04-11 10:51:21,279 [INFO] ROLLBACK
2025-04-11 10:51:21,280 [INFO] Update id=734890249 is handled. Duration 315 ms by bot id=7443088052
2025-04-11 10:51:22,902 [INFO] BEGIN (implicit)
2025-04-11 10:51:22,902 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-11 10:51:22,902 [INFO] [cached since 15.32s ago] ('catalog',)
2025-04-11 10:51:22,903 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:51:22,903 [INFO] [cached since 28.43s ago] ()
2025-04-11 10:51:23,428 [INFO] ROLLBACK
2025-04-11 10:51:23,429 [INFO] Update id=734890250 is handled. Duration 526 ms by bot id=7443088052
2025-04-11 10:51:24,832 [INFO] BEGIN (implicit)
2025-04-11 10:51:24,833 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-11 10:51:24,833 [INFO] [cached since 12.91s ago] (5,)
2025-04-11 10:51:24,834 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 10:51:24,834 [INFO] [cached since 12.9s ago] (1,)
2025-04-11 10:51:24,835 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 10:51:24,835 [INFO] [cached since 12.9s ago] (5,)
2025-04-11 10:51:25,364 [INFO] ROLLBACK
2025-04-11 10:51:25,365 [INFO] Update id=734890251 is handled. Duration 533 ms by bot id=7443088052
2025-04-11 10:51:27,029 [INFO] BEGIN (implicit)
2025-04-11 10:51:27,029 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:51:27,029 [INFO] [cached since 12.62s ago] (6903748145,)
2025-04-11 10:51:27,030 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-11 10:51:27,030 [INFO] [cached since 12.62s ago] (6903748145, 1)
2025-04-11 10:51:27,031 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-11 10:51:27,031 [INFO] [cached since 12.62s ago] (6903748145, 1, 1)
2025-04-11 10:51:27,031 [INFO] COMMIT
2025-04-11 10:51:27,195 [INFO] Update id=734890252 is handled. Duration 166 ms by bot id=7443088052
2025-04-11 10:51:31,824 [INFO] BEGIN (implicit)
2025-04-11 10:51:31,826 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:51:31,826 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-11 10:51:32,309 [INFO] ROLLBACK
2025-04-11 10:51:32,310 [INFO] Update id=734890253 is handled. Duration 486 ms by bot id=7443088052
2025-04-11 10:51:36,262 [INFO] BEGIN (implicit)
2025-04-11 10:51:36,262 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:51:36,262 [INFO] [cached since 21.85s ago] (6903748145,)
2025-04-11 10:51:36,500 [INFO] ROLLBACK
2025-04-11 10:51:36,501 [INFO] Update id=734890254 is handled. Duration 239 ms by bot id=7443088052
2025-04-11 10:51:37,870 [INFO] BEGIN (implicit)
2025-04-11 10:51:37,870 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:51:37,870 [INFO] [cached since 23.46s ago] (6903748145,)
2025-04-11 10:51:38,076 [INFO] ROLLBACK
2025-04-11 10:51:38,077 [INFO] Update id=734890255 is handled. Duration 207 ms by bot id=7443088052
2025-04-11 10:51:41,277 [INFO] BEGIN (implicit)
2025-04-11 10:51:41,278 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-11 10:51:41,278 [INFO] [cached since 26.87s ago] (6903748145,)
2025-04-11 10:51:41,279 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-11 10:51:41,279 [INFO] [cached since 9.453s ago] (6903748145,)
2025-04-11 10:51:41,280 [INFO] INSERT INTO "order" (user_id, delivery_address, total_price, status, created, updated) VALUES ($1::BIGINT, $2::VARCHAR, $3::NUMERIC(5, 2), $4::VARCHAR, now(), now()) RETURNING "order".id, "order".created, "order".updated
2025-04-11 10:51:41,280 [INFO] [generated in 0.00011s] (6903748145, 'Новобирблово', Decimal('504.00'), 'оформлен')
2025-04-11 10:51:41,282 [INFO] UPDATE product SET quantity=$1::INTEGER, updated=now() WHERE product.id = $2::INTEGER
2025-04-11 10:51:41,282 [INFO] [generated in 0.00012s] [(0, 1), (0, 4)]
2025-04-11 10:51:41,284 [INFO] INSERT INTO order_item (order_id, product_id, quantity, created, updated) SELECT p0::INTEGER, p1::INTEGER, p2::INTEGER, p3::TIMESTAMP WITHOUT TIME ZONE, p4::TIMESTAMP WITHOUT TIME ZONE FROM (VALUES ($1::INTEGER, $2::INTEGER, $3::INTEGER, now(), now(), 0), ($4::INTEGER, $5::INTEGER, $6::INTEGER, now(), now(), 1)) AS imp_sen(p0, p1, p2, p3, p4, sen_counter) ORDER BY sen_counter RETURNING order_item.id, order_item.created, order_item.updated, order_item.id AS id__1
2025-04-11 10:51:41,284 [INFO] [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] (13, 4, 1, 13, 1, 1)
2025-04-11 10:51:41,286 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT
2025-04-11 10:51:41,286 [INFO] [generated in 0.00019s] (6903748145,)
2025-04-11 10:51:41,287 [INFO] COMMIT
2025-04-11 10:51:41,834 [INFO] Update id=734890256 is not handled. Duration 557 ms by bot id=7443088052
2025-04-11 10:51:41,834 [ERROR] Cause exception while process update id=734890256 by bot id=7443088052
TypeError: main_menu() got multiple values for argument 'level'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 200, in confirm_address
    await main_menu(callback, session, level=0)
          ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: main_menu() got multiple values for argument 'level'
2025-04-11 10:52:14,261 [INFO] Update id=734890257 is not handled. Duration 1 ms by bot id=7443088052
2025-04-11 10:57:56,899 [INFO] Приложение запущено
2025-04-11 10:57:56,905 [DEBUG] Using selector: EpollSelector
2025-04-11 10:57:57,249 [INFO] select pg_catalog.version()
2025-04-11 10:57:57,249 [INFO] [raw sql] ()
2025-04-11 10:57:57,250 [INFO] select current_schema()
2025-04-11 10:57:57,250 [INFO] [raw sql] ()
2025-04-11 10:57:57,250 [INFO] show standard_conforming_strings
2025-04-11 10:57:57,250 [INFO] [raw sql] ()
2025-04-11 10:57:57,251 [INFO] BEGIN (implicit)
2025-04-11 10:57:57,253 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,253 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,254 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,254 [INFO] [cached since 0.001668s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,255 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,255 [INFO] [cached since 0.002142s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,255 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,255 [INFO] [cached since 0.002547s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,256 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,256 [INFO] [cached since 0.002941s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,256 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,256 [INFO] [cached since 0.003336s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,256 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,256 [INFO] [cached since 0.003721s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,257 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:57:57,257 [INFO] [cached since 0.004027s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:57:57,257 [INFO] COMMIT
2025-04-11 10:57:57,258 [INFO] BEGIN (implicit)
2025-04-11 10:57:57,273 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:57:57,273 [INFO] [generated in 0.00016s] ()
2025-04-11 10:57:57,274 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:57:57,275 [INFO] [generated in 0.00012s] ()
2025-04-11 10:57:57,275 [INFO] ROLLBACK
2025-04-11 10:57:57,276 [INFO] Start polling
2025-04-11 10:57:57,359 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:58:17,197 [INFO] Update id=734890258 is handled. Duration 348 ms by bot id=7443088052
2025-04-11 10:58:20,102 [INFO] Update id=734890259 is handled. Duration 181 ms by bot id=7443088052
2025-04-11 10:59:44,699 [INFO] Приложение запущено
2025-04-11 10:59:44,705 [DEBUG] Using selector: EpollSelector
2025-04-11 10:59:45,238 [INFO] select pg_catalog.version()
2025-04-11 10:59:45,238 [INFO] [raw sql] ()
2025-04-11 10:59:45,239 [INFO] select current_schema()
2025-04-11 10:59:45,239 [INFO] [raw sql] ()
2025-04-11 10:59:45,239 [INFO] show standard_conforming_strings
2025-04-11 10:59:45,240 [INFO] [raw sql] ()
2025-04-11 10:59:45,240 [INFO] BEGIN (implicit)
2025-04-11 10:59:45,242 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,242 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,244 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,244 [INFO] [cached since 0.001516s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,244 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,244 [INFO] [cached since 0.001962s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,244 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,244 [INFO] [cached since 0.002368s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,245 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,245 [INFO] [cached since 0.002717s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,245 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,245 [INFO] [cached since 0.003051s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,245 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,245 [INFO] [cached since 0.003381s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,246 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 10:59:45,246 [INFO] [cached since 0.003651s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 10:59:45,246 [INFO] COMMIT
2025-04-11 10:59:45,247 [INFO] BEGIN (implicit)
2025-04-11 10:59:45,262 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:59:45,262 [INFO] [generated in 0.00016s] ()
2025-04-11 10:59:45,264 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 10:59:45,264 [INFO] [generated in 0.00015s] ()
2025-04-11 10:59:45,265 [INFO] ROLLBACK
2025-04-11 10:59:45,265 [INFO] Start polling
2025-04-11 10:59:45,398 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 10:59:58,413 [INFO] Update id=734890260 is handled. Duration 390 ms by bot id=7443088052
2025-04-11 10:59:59,527 [INFO] BEGIN (implicit)
2025-04-11 10:59:59,527 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 10:59:59,527 [INFO] [cached since 14.26s ago] ()
2025-04-11 10:59:59,737 [INFO] ROLLBACK
2025-04-11 10:59:59,738 [INFO] Update id=734890261 is handled. Duration 211 ms by bot id=7443088052
2025-04-11 11:00:03,896 [INFO] BEGIN (implicit)
2025-04-11 11:00:03,898 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-11 11:00:03,898 [INFO] [generated in 0.00012s] ()
2025-04-11 11:00:03,900 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 11:00:03,900 [INFO] [generated in 0.00016s] (1,)
2025-04-11 11:00:03,902 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER, $3::INTEGER, $4::INTEGER)
2025-04-11 11:00:03,902 [INFO] [generated in 0.00020s] (5, 6, 7, 8)
2025-04-11 11:00:05,006 [INFO] ROLLBACK
2025-04-11 11:00:05,007 [INFO] Update id=734890262 is handled. Duration 1111 ms by bot id=7443088052
2025-04-11 11:00:11,756 [INFO] BEGIN (implicit)
2025-04-11 11:00:11,757 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:00:11,757 [INFO] [generated in 0.00013s] (4,)
2025-04-11 11:00:11,758 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:00:11,758 [INFO] [generated in 0.00014s] (8,)
2025-04-11 11:00:12,044 [INFO] ROLLBACK
2025-04-11 11:00:12,045 [INFO] Update id=734890263 is handled. Duration 289 ms by bot id=7443088052
2025-04-11 11:00:15,192 [INFO] Update id=734890264 is handled. Duration 152 ms by bot id=7443088052
2025-04-11 11:00:17,432 [INFO] BEGIN (implicit)
2025-04-11 11:00:17,432 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:00:17,432 [INFO] [cached since 32.17s ago] ()
2025-04-11 11:00:17,624 [INFO] ROLLBACK
2025-04-11 11:00:17,625 [INFO] Update id=734890265 is handled. Duration 194 ms by bot id=7443088052
2025-04-11 11:00:20,262 [INFO] BEGIN (implicit)
2025-04-11 11:00:20,262 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-11 11:00:20,262 [INFO] [generated in 0.00012s] ()
2025-04-11 11:00:20,460 [INFO] ROLLBACK
2025-04-11 11:00:20,461 [INFO] Update id=734890266 is handled. Duration 200 ms by bot id=7443088052
2025-04-11 11:00:22,223 [INFO] Update id=734890267 is not handled. Duration 1 ms by bot id=7443088052
2025-04-11 11:00:22,224 [ERROR] Cause exception while process update id=734890267 by bot id=7443088052
DetachedInstanceError: Parent instance <Product at 0x792206dc7530> is not bound to a Session; lazy load operation of attribute 'seller' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 370, in skip_seller
    await state.update_data(seller=AddProduct.product_for_change.seller)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
    ...<3 lines>...
    )
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Product at 0x792206dc7530> is not bound to a Session; lazy load operation of attribute 'seller' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-04-11 11:04:58,067 [INFO] Приложение запущено
2025-04-11 11:04:58,073 [DEBUG] Using selector: EpollSelector
2025-04-11 11:04:58,505 [INFO] select pg_catalog.version()
2025-04-11 11:04:58,505 [INFO] [raw sql] ()
2025-04-11 11:04:58,506 [INFO] select current_schema()
2025-04-11 11:04:58,506 [INFO] [raw sql] ()
2025-04-11 11:04:58,506 [INFO] show standard_conforming_strings
2025-04-11 11:04:58,506 [INFO] [raw sql] ()
2025-04-11 11:04:58,507 [INFO] BEGIN (implicit)
2025-04-11 11:04:58,509 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,509 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,511 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,511 [INFO] [cached since 0.001662s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,511 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,511 [INFO] [cached since 0.002175s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,512 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,512 [INFO] [cached since 0.002598s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,512 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,512 [INFO] [cached since 0.003019s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,512 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,512 [INFO] [cached since 0.003475s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,513 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,513 [INFO] [cached since 0.003936s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,513 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:04:58,513 [INFO] [cached since 0.004294s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:04:58,514 [INFO] COMMIT
2025-04-11 11:04:58,514 [INFO] BEGIN (implicit)
2025-04-11 11:04:58,530 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:04:58,530 [INFO] [generated in 0.00025s] ()
2025-04-11 11:04:58,532 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:04:58,532 [INFO] [generated in 0.00014s] ()
2025-04-11 11:04:58,533 [INFO] ROLLBACK
2025-04-11 11:04:58,534 [INFO] Start polling
2025-04-11 11:04:58,644 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:05:20,883 [INFO] Update id=734890268 is not handled. Duration 1 ms by bot id=7443088052
2025-04-11 11:05:27,053 [INFO] Приложение запущено
2025-04-11 11:05:27,060 [DEBUG] Using selector: EpollSelector
2025-04-11 11:05:27,409 [INFO] select pg_catalog.version()
2025-04-11 11:05:27,409 [INFO] [raw sql] ()
2025-04-11 11:05:27,410 [INFO] select current_schema()
2025-04-11 11:05:27,410 [INFO] [raw sql] ()
2025-04-11 11:05:27,410 [INFO] show standard_conforming_strings
2025-04-11 11:05:27,410 [INFO] [raw sql] ()
2025-04-11 11:05:27,411 [INFO] BEGIN (implicit)
2025-04-11 11:05:27,413 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,413 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,414 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,415 [INFO] [cached since 0.001689s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,415 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,415 [INFO] [cached since 0.002171s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,415 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,415 [INFO] [cached since 0.002531s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,416 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,416 [INFO] [cached since 0.002862s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,416 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,416 [INFO] [cached since 0.003178s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,416 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,416 [INFO] [cached since 0.003494s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,417 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:05:27,417 [INFO] [cached since 0.003742s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:05:27,417 [INFO] COMMIT
2025-04-11 11:05:27,418 [INFO] BEGIN (implicit)
2025-04-11 11:05:27,435 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:05:27,435 [INFO] [generated in 0.00023s] ()
2025-04-11 11:05:27,438 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:05:27,438 [INFO] [generated in 0.00034s] ()
2025-04-11 11:05:27,439 [INFO] ROLLBACK
2025-04-11 11:05:27,440 [INFO] Start polling
2025-04-11 11:05:27,541 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:05:29,789 [INFO] BEGIN (implicit)
2025-04-11 11:05:29,791 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:05:29,791 [INFO] [generated in 0.00018s] (4,)
2025-04-11 11:05:29,793 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:05:29,793 [INFO] [generated in 0.00015s] (8,)
2025-04-11 11:05:30,334 [INFO] ROLLBACK
2025-04-11 11:05:30,335 [INFO] Update id=734890269 is handled. Duration 547 ms by bot id=7443088052
2025-04-11 11:05:34,015 [INFO] Update id=734890270 is handled. Duration 195 ms by bot id=7443088052
2025-04-11 11:05:35,570 [INFO] BEGIN (implicit)
2025-04-11 11:05:35,570 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:05:35,571 [INFO] [cached since 8.136s ago] ()
2025-04-11 11:05:35,823 [INFO] ROLLBACK
2025-04-11 11:05:35,823 [INFO] Update id=734890271 is handled. Duration 254 ms by bot id=7443088052
2025-04-11 11:05:38,041 [INFO] Update id=734890272 is handled. Duration 327 ms by bot id=7443088052
2025-04-11 11:10:37,696 [INFO] Приложение запущено
2025-04-11 11:10:37,702 [DEBUG] Using selector: EpollSelector
2025-04-11 11:10:38,146 [INFO] select pg_catalog.version()
2025-04-11 11:10:38,146 [INFO] [raw sql] ()
2025-04-11 11:10:38,147 [INFO] select current_schema()
2025-04-11 11:10:38,147 [INFO] [raw sql] ()
2025-04-11 11:10:38,147 [INFO] show standard_conforming_strings
2025-04-11 11:10:38,147 [INFO] [raw sql] ()
2025-04-11 11:10:38,148 [INFO] BEGIN (implicit)
2025-04-11 11:10:38,151 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,151 [INFO] [generated in 0.00021s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,153 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,153 [INFO] [cached since 0.00245s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,154 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,154 [INFO] [cached since 0.003398s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,154 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,154 [INFO] [cached since 0.003922s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,155 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,155 [INFO] [cached since 0.004343s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,155 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,155 [INFO] [cached since 0.004787s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,156 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,156 [INFO] [cached since 0.005233s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,156 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:10:38,156 [INFO] [cached since 0.005582s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:10:38,156 [INFO] COMMIT
2025-04-11 11:10:38,157 [INFO] BEGIN (implicit)
2025-04-11 11:10:38,173 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:10:38,173 [INFO] [generated in 0.00030s] ()
2025-04-11 11:10:38,175 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:10:38,176 [INFO] [generated in 0.00015s] ()
2025-04-11 11:10:38,176 [INFO] ROLLBACK
2025-04-11 11:10:38,177 [INFO] Start polling
2025-04-11 11:10:38,284 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:10:40,910 [INFO] BEGIN (implicit)
2025-04-11 11:10:40,911 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:10:40,912 [INFO] [generated in 0.00014s] (4,)
2025-04-11 11:10:40,914 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:10:40,914 [INFO] [generated in 0.00016s] (8,)
2025-04-11 11:10:41,393 [INFO] ROLLBACK
2025-04-11 11:10:41,393 [INFO] Update id=734890273 is handled. Duration 484 ms by bot id=7443088052
2025-04-11 11:10:46,385 [INFO] Update id=734890274 is handled. Duration 151 ms by bot id=7443088052
2025-04-11 11:10:48,526 [INFO] BEGIN (implicit)
2025-04-11 11:10:48,526 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:10:48,526 [INFO] [cached since 10.35s ago] ()
2025-04-11 11:10:48,681 [INFO] ROLLBACK
2025-04-11 11:10:48,682 [INFO] Update id=734890275 is handled. Duration 157 ms by bot id=7443088052
2025-04-11 11:10:49,982 [INFO] BEGIN (implicit)
2025-04-11 11:10:49,983 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-11 11:10:49,983 [INFO] [generated in 0.00011s] ()
2025-04-11 11:10:50,122 [INFO] ROLLBACK
2025-04-11 11:10:50,122 [INFO] Update id=734890276 is handled. Duration 141 ms by bot id=7443088052
2025-04-11 11:10:51,238 [INFO] Update id=734890277 is not handled. Duration 1 ms by bot id=7443088052
2025-04-11 11:10:51,238 [ERROR] Cause exception while process update id=734890277 by bot id=7443088052
DetachedInstanceError: Parent instance <Product at 0x7fad28789fd0> is not bound to a Session; lazy load operation of attribute 'seller' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 370, in skip_seller
    await state.update_data(seller=AddProduct.product_for_change.seller)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/sqlalchemy/orm/strategies.py", line 922, in _load_for_state
    raise orm_exc.DetachedInstanceError(
    ...<3 lines>...
    )
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <Product at 0x7fad28789fd0> is not bound to a Session; lazy load operation of attribute 'seller' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-04-11 11:16:50,180 [INFO] Приложение запущено
2025-04-11 11:16:50,186 [DEBUG] Using selector: EpollSelector
2025-04-11 11:16:50,602 [INFO] select pg_catalog.version()
2025-04-11 11:16:50,602 [INFO] [raw sql] ()
2025-04-11 11:16:50,603 [INFO] select current_schema()
2025-04-11 11:16:50,603 [INFO] [raw sql] ()
2025-04-11 11:16:50,603 [INFO] show standard_conforming_strings
2025-04-11 11:16:50,603 [INFO] [raw sql] ()
2025-04-11 11:16:50,604 [INFO] BEGIN (implicit)
2025-04-11 11:16:50,606 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,606 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,607 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,608 [INFO] [cached since 0.001825s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,608 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,608 [INFO] [cached since 0.002291s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,608 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,608 [INFO] [cached since 0.002695s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,609 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,609 [INFO] [cached since 0.003083s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,609 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,609 [INFO] [cached since 0.003448s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,609 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,610 [INFO] [cached since 0.003797s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,610 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:16:50,610 [INFO] [cached since 0.004065s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:16:50,610 [INFO] COMMIT
2025-04-11 11:16:50,611 [INFO] BEGIN (implicit)
2025-04-11 11:16:50,626 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:16:50,626 [INFO] [generated in 0.00016s] ()
2025-04-11 11:16:50,628 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:16:50,628 [INFO] [generated in 0.00011s] ()
2025-04-11 11:16:50,629 [INFO] ROLLBACK
2025-04-11 11:16:50,629 [INFO] Start polling
2025-04-11 11:16:50,722 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:17:05,341 [INFO] BEGIN (implicit)
2025-04-11 11:17:05,343 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:17:05,343 [INFO] [generated in 0.00014s] (4,)
2025-04-11 11:17:05,345 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:17:05,345 [INFO] [generated in 0.00015s] (8,)
2025-04-11 11:17:05,347 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 11:17:05,347 [INFO] [generated in 0.00024s] (1,)
2025-04-11 11:17:05,859 [INFO] ROLLBACK
2025-04-11 11:17:05,859 [INFO] Update id=734890278 is handled. Duration 519 ms by bot id=7443088052
2025-04-11 11:17:10,101 [INFO] Update id=734890279 is handled. Duration 158 ms by bot id=7443088052
2025-04-11 11:17:11,688 [INFO] BEGIN (implicit)
2025-04-11 11:17:11,689 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:17:11,689 [INFO] [cached since 21.06s ago] ()
2025-04-11 11:17:11,924 [INFO] ROLLBACK
2025-04-11 11:17:11,925 [INFO] Update id=734890280 is handled. Duration 237 ms by bot id=7443088052
2025-04-11 11:17:15,625 [INFO] BEGIN (implicit)
2025-04-11 11:17:15,625 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-11 11:17:15,625 [INFO] [generated in 0.00012s] ()
2025-04-11 11:17:15,752 [INFO] ROLLBACK
2025-04-11 11:17:15,753 [INFO] Update id=734890281 is handled. Duration 128 ms by bot id=7443088052
2025-04-11 11:17:17,123 [INFO] Update id=734890282 is handled. Duration 0 ms by bot id=7443088052
2025-04-11 11:21:13,589 [INFO] Приложение запущено
2025-04-11 11:21:13,595 [DEBUG] Using selector: EpollSelector
2025-04-11 11:21:13,988 [INFO] select pg_catalog.version()
2025-04-11 11:21:13,988 [INFO] [raw sql] ()
2025-04-11 11:21:13,989 [INFO] select current_schema()
2025-04-11 11:21:13,989 [INFO] [raw sql] ()
2025-04-11 11:21:13,990 [INFO] show standard_conforming_strings
2025-04-11 11:21:13,990 [INFO] [raw sql] ()
2025-04-11 11:21:13,990 [INFO] BEGIN (implicit)
2025-04-11 11:21:13,992 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,993 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,994 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,994 [INFO] [cached since 0.001555s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,994 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,994 [INFO] [cached since 0.002024s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,995 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,995 [INFO] [cached since 0.002418s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,995 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,995 [INFO] [cached since 0.002839s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,996 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,996 [INFO] [cached since 0.003195s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,996 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,996 [INFO] [cached since 0.003543s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,996 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:21:13,996 [INFO] [cached since 0.004062s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:21:13,997 [INFO] COMMIT
2025-04-11 11:21:13,998 [INFO] BEGIN (implicit)
2025-04-11 11:21:14,014 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:21:14,014 [INFO] [generated in 0.00025s] ()
2025-04-11 11:21:14,016 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:21:14,016 [INFO] [generated in 0.00016s] ()
2025-04-11 11:21:14,017 [INFO] ROLLBACK
2025-04-11 11:21:14,018 [INFO] Start polling
2025-04-11 11:21:14,129 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:21:30,544 [INFO] BEGIN (implicit)
2025-04-11 11:21:30,546 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:21:30,546 [INFO] [generated in 0.00013s] (4,)
2025-04-11 11:21:30,548 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:21:30,548 [INFO] [generated in 0.00017s] (8,)
2025-04-11 11:21:30,550 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 11:21:30,550 [INFO] [generated in 0.00023s] (1,)
2025-04-11 11:21:31,144 [INFO] ROLLBACK
2025-04-11 11:21:31,145 [INFO] Update id=734890283 is handled. Duration 602 ms by bot id=7443088052
2025-04-11 11:21:37,073 [INFO] Update id=734890284 is handled. Duration 130 ms by bot id=7443088052
2025-04-11 11:21:37,963 [INFO] BEGIN (implicit)
2025-04-11 11:21:37,963 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:21:37,963 [INFO] [cached since 23.95s ago] ()
2025-04-11 11:21:38,164 [INFO] ROLLBACK
2025-04-11 11:21:38,164 [INFO] Update id=734890285 is handled. Duration 202 ms by bot id=7443088052
2025-04-11 11:21:40,478 [INFO] BEGIN (implicit)
2025-04-11 11:21:40,478 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-11 11:21:40,478 [INFO] [generated in 0.00011s] ()
2025-04-11 11:21:40,613 [INFO] ROLLBACK
2025-04-11 11:21:40,613 [INFO] Update id=734890286 is handled. Duration 136 ms by bot id=7443088052
2025-04-11 11:21:41,886 [INFO] Update id=734890287 is handled. Duration 138 ms by bot id=7443088052
2025-04-11 11:21:46,937 [INFO] Update id=734890288 is handled. Duration 125 ms by bot id=7443088052
2025-04-11 11:21:51,717 [INFO] Update id=734890289 is handled. Duration 140 ms by bot id=7443088052
2025-04-11 11:21:53,585 [INFO] Данные для обновления/добавления товара: {'name': 'ноут', 'description': 'ноут мой', 'category': 8, 'seller': <database.models.Seller object at 0x71fe094823c0>, 'quantity': 25, 'price': Decimal('450.00'), 'purchase_price': Decimal('1.00'), 'image': 'AgACAgIAAxkBAAIC3mf2XyuEFgbpn_1EwHDbea4X8ogGAAJK7DEbJbK5Sw5JC768PWcVAQADAgADeQADNgQ'}
2025-04-11 11:21:53,585 [INFO] Обновляем товар с ID 4 данными: {'name': 'ноут', 'description': 'ноут мой', 'category': 8, 'seller': <database.models.Seller object at 0x71fe094823c0>, 'quantity': 25, 'price': Decimal('450.00'), 'purchase_price': Decimal('1.00'), 'image': 'AgACAgIAAxkBAAIC3mf2XyuEFgbpn_1EwHDbea4X8ogGAAJK7DEbJbK5Sw5JC768PWcVAQADAgADeQADNgQ'}
2025-04-11 11:21:53,586 [ERROR] Ошибка при обновлении/добавлении товара: int() argument must be a string, a bytes-like object or a real number, not 'Seller'
2025-04-11 11:21:53,776 [INFO] Update id=734890290 is handled. Duration 192 ms by bot id=7443088052
2025-04-11 11:23:45,684 [INFO] Приложение запущено
2025-04-11 11:23:45,690 [DEBUG] Using selector: EpollSelector
2025-04-11 11:23:46,064 [INFO] select pg_catalog.version()
2025-04-11 11:23:46,064 [INFO] [raw sql] ()
2025-04-11 11:23:46,065 [INFO] select current_schema()
2025-04-11 11:23:46,065 [INFO] [raw sql] ()
2025-04-11 11:23:46,065 [INFO] show standard_conforming_strings
2025-04-11 11:23:46,065 [INFO] [raw sql] ()
2025-04-11 11:23:46,066 [INFO] BEGIN (implicit)
2025-04-11 11:23:46,068 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,068 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,070 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,070 [INFO] [cached since 0.001518s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,070 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,070 [INFO] [cached since 0.002043s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,071 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,071 [INFO] [cached since 0.002486s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,071 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,071 [INFO] [cached since 0.002887s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,071 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,071 [INFO] [cached since 0.003252s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,072 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,072 [INFO] [cached since 0.003602s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,072 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-11 11:23:46,072 [INFO] [cached since 0.003894s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-11 11:23:46,072 [INFO] COMMIT
2025-04-11 11:23:46,073 [INFO] BEGIN (implicit)
2025-04-11 11:23:46,087 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:23:46,087 [INFO] [generated in 0.00017s] ()
2025-04-11 11:23:46,089 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-11 11:23:46,089 [INFO] [generated in 0.00012s] ()
2025-04-11 11:23:46,089 [INFO] ROLLBACK
2025-04-11 11:23:46,090 [INFO] Start polling
2025-04-11 11:23:46,192 [INFO] Run polling for bot @sultanshop20_bot id=7443088052 - 'Sultan shop'
2025-04-11 11:24:00,877 [INFO] BEGIN (implicit)
2025-04-11 11:24:00,879 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-11 11:24:00,879 [INFO] [generated in 0.00013s] (4,)
2025-04-11 11:24:00,881 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-11 11:24:00,881 [INFO] [generated in 0.00015s] (8,)
2025-04-11 11:24:00,883 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-11 11:24:00,883 [INFO] [generated in 0.00015s] (1,)
2025-04-11 11:24:01,351 [INFO] ROLLBACK
2025-04-11 11:24:01,352 [INFO] Update id=734890291 is handled. Duration 475 ms by bot id=7443088052
2025-04-11 11:24:06,279 [INFO] Update id=734890292 is handled. Duration 131 ms by bot id=7443088052
2025-04-11 11:24:08,577 [INFO] BEGIN (implicit)
2025-04-11 11:24:08,577 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-11 11:24:08,577 [INFO] [cached since 22.49s ago] ()
2025-04-11 11:24:08,710 [INFO] ROLLBACK
2025-04-11 11:24:08,711 [INFO] Update id=734890293 is handled. Duration 135 ms by bot id=7443088052
2025-04-11 11:24:10,142 [INFO] BEGIN (implicit)
2025-04-11 11:24:10,142 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-11 11:24:10,142 [INFO] [generated in 0.00011s] ()
2025-04-11 11:24:10,269 [INFO] ROLLBACK
2025-04-11 11:24:10,269 [INFO] Update id=734890294 is handled. Duration 128 ms by bot id=7443088052
2025-04-11 11:24:11,463 [INFO] Update id=734890295 is handled. Duration 123 ms by bot id=7443088052
2025-04-11 11:24:14,651 [INFO] Update id=734890296 is handled. Duration 155 ms by bot id=7443088052
2025-04-11 11:24:17,568 [INFO] Update id=734890297 is handled. Duration 133 ms by bot id=7443088052
2025-04-11 11:24:29,486 [INFO] Данные для обновления/добавления товара: {'name': 'ноут', 'description': 'ноут мой', 'category': 8, 'seller': 1, 'quantity': 23, 'price': Decimal('450.00'), 'purchase_price': Decimal('1.00'), 'image': 'AgACAgIAAxkBAAIC3mf2XyuEFgbpn_1EwHDbea4X8ogGAAJK7DEbJbK5Sw5JC768PWcVAQADAgADeQADNgQ'}
2025-04-11 11:24:29,486 [INFO] Обновляем товар с ID 4 данными: {'name': 'ноут', 'description': 'ноут мой', 'category': 8, 'seller': 1, 'quantity': 23, 'price': Decimal('450.00'), 'purchase_price': Decimal('1.00'), 'image': 'AgACAgIAAxkBAAIC3mf2XyuEFgbpn_1EwHDbea4X8ogGAAJK7DEbJbK5Sw5JC768PWcVAQADAgADeQADNgQ'}
2025-04-11 11:24:29,486 [INFO] BEGIN (implicit)
2025-04-11 11:24:29,487 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-11 11:24:29,487 [INFO] [generated in 0.00015s] ('ноут', 'ноут мой', 1.0, 450.0, 'AgACAgIAAxkBAAIC3mf2XyuEFgbpn_1EwHDbea4X8ogGAAJK7DEbJbK5Sw5JC768PWcVAQADAgADeQADNgQ', 8, 1, 23, 4)
2025-04-11 11:24:29,489 [INFO] COMMIT
2025-04-11 11:24:29,850 [INFO] Update id=734890298 is handled. Duration 365 ms by bot id=7443088052
2025-04-13 05:25:37,477 [INFO] Приложение запущено
2025-04-13 05:25:37,671 [DEBUG] Using selector: EpollSelector
2025-04-13 05:25:43,748 [INFO] select pg_catalog.version()
2025-04-13 05:25:43,748 [INFO] [raw sql] ()
2025-04-13 05:25:43,769 [INFO] select current_schema()
2025-04-13 05:25:43,769 [INFO] [raw sql] ()
2025-04-13 05:25:43,788 [INFO] show standard_conforming_strings
2025-04-13 05:25:43,788 [INFO] [raw sql] ()
2025-04-13 05:25:43,789 [INFO] BEGIN (implicit)
2025-04-13 05:25:43,791 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,791 [INFO] [generated in 0.00024s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,834 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,834 [INFO] [cached since 0.04281s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,834 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,834 [INFO] [cached since 0.04352s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,835 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,835 [INFO] [cached since 0.04401s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,835 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,835 [INFO] [cached since 0.04445s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,836 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,836 [INFO] [cached since 0.04488s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,836 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,836 [INFO] [cached since 0.04529s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,836 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:25:43,837 [INFO] [cached since 0.0456s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:25:43,837 [INFO] COMMIT
2025-04-13 05:25:43,837 [INFO] BEGIN (implicit)
2025-04-13 05:25:43,854 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:25:43,854 [INFO] [generated in 0.00021s] ()
2025-04-13 05:25:43,916 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:25:43,916 [INFO] [generated in 0.00014s] ()
2025-04-13 05:25:43,917 [INFO] ROLLBACK
2025-04-13 05:25:43,917 [INFO] Start polling
2025-04-13 05:25:44,020 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:26:11,589 [INFO] BEGIN (implicit)
2025-04-13 05:26:11,590 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-13 05:26:11,590 [INFO] [generated in 0.00013s] ('main',)
2025-04-13 05:26:12,089 [INFO] ROLLBACK
2025-04-13 05:26:12,090 [INFO] Update id=423804688 is not handled. Duration 501 ms by bot id=7974627539
2025-04-13 05:26:12,090 [ERROR] Cause exception while process update id=423804688 by bot id=7974627539
TelegramBadRequest: Telegram server says - Bad Request: wrong file identifier/HTTP URL specified
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 40, in start_cmd
    await message.answer_photo(
        media.media, caption=media.caption, reply_markup=reply_markup
    )
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/bot.py", line 498, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py", line 185, in make_request
    response = self.check_response(
        bot=bot, method=method, status_code=resp.status, content=raw_result
    )
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: wrong file identifier/HTTP URL specified
2025-04-13 05:27:51,957 [INFO] Приложение запущено
2025-04-13 05:27:51,963 [DEBUG] Using selector: EpollSelector
2025-04-13 05:27:52,324 [INFO] select pg_catalog.version()
2025-04-13 05:27:52,324 [INFO] [raw sql] ()
2025-04-13 05:27:52,325 [INFO] select current_schema()
2025-04-13 05:27:52,325 [INFO] [raw sql] ()
2025-04-13 05:27:52,325 [INFO] show standard_conforming_strings
2025-04-13 05:27:52,326 [INFO] [raw sql] ()
2025-04-13 05:27:52,326 [INFO] BEGIN (implicit)
2025-04-13 05:27:52,328 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,328 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,329 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,330 [INFO] [cached since 0.001486s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,330 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,330 [INFO] [cached since 0.001947s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,330 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,330 [INFO] [cached since 0.002354s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,331 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,331 [INFO] [cached since 0.002776s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,331 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,331 [INFO] [cached since 0.003199s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,332 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,332 [INFO] [cached since 0.003597s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,332 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,332 [INFO] [cached since 0.003901s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,332 [INFO] 
DROP TABLE order_item
2025-04-13 05:27:52,333 [INFO] [no key 0.00028s] ()
2025-04-13 05:27:52,708 [INFO] 
DROP TABLE cart
2025-04-13 05:27:52,709 [INFO] [no key 0.00013s] ()
2025-04-13 05:27:52,735 [INFO] 
DROP TABLE "order"
2025-04-13 05:27:52,735 [INFO] [no key 0.00013s] ()
2025-04-13 05:27:52,737 [INFO] 
DROP TABLE product
2025-04-13 05:27:52,737 [INFO] [no key 0.00015s] ()
2025-04-13 05:27:52,738 [INFO] 
DROP TABLE sellers
2025-04-13 05:27:52,738 [INFO] [no key 0.00008s] ()
2025-04-13 05:27:52,739 [INFO] 
DROP TABLE users
2025-04-13 05:27:52,739 [INFO] [no key 0.00007s] ()
2025-04-13 05:27:52,739 [INFO] 
DROP TABLE category
2025-04-13 05:27:52,740 [INFO] [no key 0.00006s] ()
2025-04-13 05:27:52,740 [INFO] 
DROP TABLE banner
2025-04-13 05:27:52,740 [INFO] [no key 0.00006s] ()
2025-04-13 05:27:52,741 [INFO] COMMIT
2025-04-13 05:27:52,888 [INFO] BEGIN (implicit)
2025-04-13 05:27:52,889 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,889 [INFO] [cached since 0.5607s ago] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,889 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,890 [INFO] [cached since 0.5615s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,890 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,890 [INFO] [cached since 0.5619s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,890 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,890 [INFO] [cached since 0.5623s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,891 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,891 [INFO] [cached since 0.5626s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,891 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,891 [INFO] [cached since 0.563s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,891 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,891 [INFO] [cached since 0.5633s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,892 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:27:52,892 [INFO] [cached since 0.5636s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:27:52,892 [INFO] 
CREATE TABLE banner (
	id SERIAL NOT NULL, 
	name VARCHAR(15) NOT NULL, 
	image VARCHAR(150), 
	description TEXT, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (name)
)


2025-04-13 05:27:52,892 [INFO] [no key 0.00009s] ()
2025-04-13 05:27:52,982 [INFO] 
CREATE TABLE category (
	id SERIAL NOT NULL, 
	name VARCHAR(150) NOT NULL, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


2025-04-13 05:27:52,982 [INFO] [no key 0.00014s] ()
2025-04-13 05:27:52,984 [INFO] 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	user_id BIGINT NOT NULL, 
	first_name VARCHAR(150), 
	last_name VARCHAR(150), 
	phone VARCHAR(13), 
	address VARCHAR(150), 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (user_id)
)


2025-04-13 05:27:52,984 [INFO] [no key 0.00008s] ()
2025-04-13 05:27:52,985 [INFO] 
CREATE TABLE sellers (
	id SERIAL NOT NULL, 
	name VARCHAR(150) NOT NULL, 
	description TEXT, 
	phone VARCHAR(13), 
	address VARCHAR(150), 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id)
)


2025-04-13 05:27:52,985 [INFO] [no key 0.00009s] ()
2025-04-13 05:27:52,986 [INFO] 
CREATE TABLE product (
	id SERIAL NOT NULL, 
	name VARCHAR(150) NOT NULL, 
	description TEXT NOT NULL, 
	purchase_price NUMERIC(5, 2) NOT NULL, 
	price NUMERIC(5, 2) NOT NULL, 
	image VARCHAR(150) NOT NULL, 
	category_id INTEGER NOT NULL, 
	seller_id INTEGER NOT NULL, 
	quantity INTEGER, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(category_id) REFERENCES category (id) ON DELETE CASCADE, 
	FOREIGN KEY(seller_id) REFERENCES sellers (id) ON DELETE CASCADE
)


2025-04-13 05:27:52,986 [INFO] [no key 0.00009s] ()
2025-04-13 05:27:53,015 [INFO] 
CREATE TABLE "order" (
	id SERIAL NOT NULL, 
	user_id BIGINT NOT NULL, 
	delivery_address TEXT NOT NULL, 
	total_price NUMERIC(5, 2) NOT NULL, 
	status VARCHAR(150) NOT NULL, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id) ON DELETE CASCADE
)


2025-04-13 05:27:53,015 [INFO] [no key 0.00014s] ()
2025-04-13 05:27:53,016 [INFO] 
CREATE TABLE cart (
	id SERIAL NOT NULL, 
	user_id BIGINT NOT NULL, 
	product_id INTEGER NOT NULL, 
	quantity INTEGER NOT NULL, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (user_id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES product (id) ON DELETE CASCADE
)


2025-04-13 05:27:53,016 [INFO] [no key 0.00010s] ()
2025-04-13 05:27:53,018 [INFO] 
CREATE TABLE order_item (
	id SERIAL NOT NULL, 
	order_id INTEGER NOT NULL, 
	product_id INTEGER NOT NULL, 
	quantity INTEGER NOT NULL, 
	created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(order_id) REFERENCES "order" (id) ON DELETE CASCADE, 
	FOREIGN KEY(product_id) REFERENCES product (id) ON DELETE CASCADE
)


2025-04-13 05:27:53,018 [INFO] [no key 0.00009s] ()
2025-04-13 05:27:53,019 [INFO] COMMIT
2025-04-13 05:27:53,050 [INFO] BEGIN (implicit)
2025-04-13 05:27:53,064 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:27:53,064 [INFO] [generated in 0.00016s] ()
2025-04-13 05:27:53,067 [INFO] INSERT INTO category (name, created, updated) SELECT p0::VARCHAR, p1::TIMESTAMP WITHOUT TIME ZONE, p2::TIMESTAMP WITHOUT TIME ZONE FROM (VALUES ($1::VARCHAR, now(), now(), 0), ($2::VARCHAR, now(), now(), 1), ($3::VARCHAR, now(), now(), 2)) AS imp_sen(p0, p1, p2, sen_counter) ORDER BY sen_counter RETURNING category.id, category.created, category.updated, category.id AS id__1
2025-04-13 05:27:53,067 [INFO] [generated in 0.00005s (insertmanyvalues) 1/1 (ordered)] ('Одежда', 'Обувь', 'Услуги')
2025-04-13 05:27:53,068 [INFO] COMMIT
2025-04-13 05:27:53,096 [INFO] BEGIN (implicit)
2025-04-13 05:27:53,097 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:27:53,097 [INFO] [generated in 0.00011s] ()
2025-04-13 05:27:53,099 [INFO] INSERT INTO banner (name, image, description, created, updated) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR, p3::TIMESTAMP WITHOUT TIME ZONE, p4::TIMESTAMP WITHOUT TIME ZONE FROM (VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, now(), now(), 0), ($4: ... 331 characters truncated ... ounter) ORDER BY sen_counter RETURNING banner.id, banner.created, banner.updated, banner.id AS id__1
2025-04-13 05:27:53,099 [INFO] [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] ('main', None, 'Добро пожаловать!', 'about', None, 'Магазин Султан. Товары и услуги', 'payment', None, '<b>Варианты оплаты:</b>\n✅ Карта российского банка\n✅ vodafon cash\n✅ При получении наличными\n✅ USDT', 'shipping', None, '<b>Варианты доставки</b>\n✅ Курьер\n✅ Самовывоз', 'catalog', None, 'Категории:', 'cart', None, 'В корзине ничего нет!')
2025-04-13 05:27:53,100 [INFO] COMMIT
2025-04-13 05:27:53,132 [INFO] Start polling
2025-04-13 05:27:53,238 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:28:06,430 [INFO] BEGIN (implicit)
2025-04-13 05:28:06,431 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-13 05:28:06,431 [INFO] [generated in 0.00012s] ('main',)
2025-04-13 05:28:06,432 [INFO] ROLLBACK
2025-04-13 05:28:06,433 [INFO] Update id=423804689 is not handled. Duration 3 ms by bot id=7974627539
2025-04-13 05:28:06,433 [ERROR] Cause exception while process update id=423804689 by bot id=7974627539
ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 38, in start_cmd
    media, reply_markup = await get_menu_content(session, level=0, menu_name="main")
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 228, in get_menu_content
    return await main_menu(session, level, menu_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 32, in main_menu
    image = InputMediaPhoto(media=banner.image, caption=banner.description)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
2025-04-13 05:28:13,810 [INFO] Update id=423804690 is handled. Duration 422 ms by bot id=7974627539
2025-04-13 05:28:23,036 [INFO] Update id=423804691 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 05:30:05,480 [INFO] Приложение запущено
2025-04-13 05:30:05,487 [DEBUG] Using selector: EpollSelector
2025-04-13 05:30:05,909 [INFO] select pg_catalog.version()
2025-04-13 05:30:05,910 [INFO] [raw sql] ()
2025-04-13 05:30:05,910 [INFO] select current_schema()
2025-04-13 05:30:05,911 [INFO] [raw sql] ()
2025-04-13 05:30:05,911 [INFO] show standard_conforming_strings
2025-04-13 05:30:05,911 [INFO] [raw sql] ()
2025-04-13 05:30:05,912 [INFO] BEGIN (implicit)
2025-04-13 05:30:05,914 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,914 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,915 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,915 [INFO] [cached since 0.0016s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,916 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,916 [INFO] [cached since 0.002048s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,916 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,916 [INFO] [cached since 0.002471s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,916 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,916 [INFO] [cached since 0.002889s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,917 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,917 [INFO] [cached since 0.003325s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,917 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,917 [INFO] [cached since 0.003793s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,918 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:30:05,918 [INFO] [cached since 0.004164s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:30:05,918 [INFO] COMMIT
2025-04-13 05:30:05,919 [INFO] BEGIN (implicit)
2025-04-13 05:30:05,936 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:30:05,936 [INFO] [generated in 0.00017s] ()
2025-04-13 05:30:05,938 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:30:05,938 [INFO] [generated in 0.00013s] ()
2025-04-13 05:30:05,938 [INFO] ROLLBACK
2025-04-13 05:30:05,939 [INFO] Start polling
2025-04-13 05:30:06,030 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:30:11,409 [INFO] Update id=423804692 is handled. Duration 343 ms by bot id=7974627539
2025-04-13 05:30:14,139 [INFO] Update id=423804693 is handled. Duration 152 ms by bot id=7974627539
2025-04-13 05:30:26,682 [INFO] Update id=423804694 is handled. Duration 141 ms by bot id=7974627539
2025-04-13 05:30:36,977 [INFO] BEGIN (implicit)
2025-04-13 05:30:36,977 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:30:36,977 [INFO] [cached since 31.04s ago] ()
2025-04-13 05:30:37,093 [INFO] ROLLBACK
2025-04-13 05:30:37,094 [INFO] Update id=423804695 is handled. Duration 118 ms by bot id=7974627539
2025-04-13 05:30:41,687 [INFO] Update id=423804696 is handled. Duration 105 ms by bot id=7974627539
2025-04-13 05:30:44,693 [INFO] Update id=423804697 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 05:30:53,692 [INFO] Update id=423804698 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 05:30:58,912 [INFO] Update id=423804699 is handled. Duration 212 ms by bot id=7974627539
2025-04-13 05:31:21,483 [INFO] Update id=423804700 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 05:31:26,714 [INFO] Update id=423804701 is handled. Duration 172 ms by bot id=7974627539
2025-04-13 05:31:32,377 [INFO] BEGIN (implicit)
2025-04-13 05:31:32,377 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:31:32,377 [INFO] [cached since 86.44s ago] ()
2025-04-13 05:31:32,519 [INFO] ROLLBACK
2025-04-13 05:31:32,519 [INFO] Update id=423804702 is handled. Duration 143 ms by bot id=7974627539
2025-04-13 05:31:36,664 [INFO] Update id=423804703 is handled. Duration 143 ms by bot id=7974627539
2025-04-13 05:31:46,866 [INFO] BEGIN (implicit)
2025-04-13 05:31:46,867 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category 
WHERE category.name = $1::VARCHAR
2025-04-13 05:31:46,867 [INFO] [generated in 0.00013s] ('оргтехника',)
2025-04-13 05:31:46,868 [INFO] INSERT INTO category (name, created, updated) VALUES ($1::VARCHAR, now(), now()) RETURNING category.id, category.created, category.updated
2025-04-13 05:31:46,869 [INFO] [generated in 0.00013s] ('оргтехника',)
2025-04-13 05:31:46,870 [INFO] COMMIT
2025-04-13 05:31:47,130 [INFO] BEGIN (implicit)
2025-04-13 05:31:47,131 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:31:47,131 [INFO] [cached since 101.2s ago] ()
2025-04-13 05:31:47,250 [INFO] ROLLBACK
2025-04-13 05:31:47,250 [INFO] Update id=423804704 is handled. Duration 385 ms by bot id=7974627539
2025-04-13 05:31:49,676 [INFO] BEGIN (implicit)
2025-04-13 05:31:49,676 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:31:49,676 [INFO] [cached since 103.7s ago] ()
2025-04-13 05:31:49,779 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 05:31:49,779 [INFO] [generated in 0.00016s] ()
2025-04-13 05:31:49,902 [INFO] ROLLBACK
2025-04-13 05:31:49,902 [INFO] Update id=423804705 is handled. Duration 227 ms by bot id=7974627539
2025-04-13 05:31:54,646 [INFO] Update id=423804706 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 05:32:34,475 [INFO] BEGIN (implicit)
2025-04-13 05:32:34,476 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers 
WHERE sellers.name = $1::VARCHAR
2025-04-13 05:32:34,476 [INFO] [generated in 0.00013s] ('султаншоп',)
2025-04-13 05:32:34,477 [INFO] INSERT INTO sellers (name, description, phone, address, created, updated) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, now(), now()) RETURNING sellers.id, sellers.created, sellers.updated
2025-04-13 05:32:34,477 [INFO] [generated in 0.00012s] ('султаншоп', 'мы', '+79991234567', 'каир')
2025-04-13 05:32:34,478 [INFO] COMMIT
2025-04-13 05:32:34,750 [INFO] BEGIN (implicit)
2025-04-13 05:32:34,750 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 05:32:34,750 [INFO] [cached since 44.97s ago] ()
2025-04-13 05:32:34,870 [INFO] ROLLBACK
2025-04-13 05:32:34,871 [INFO] Update id=423804707 is handled. Duration 396 ms by bot id=7974627539
2025-04-13 05:32:42,204 [INFO] BEGIN (implicit)
2025-04-13 05:32:42,205 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 05:32:42,205 [INFO] [cached since 52.43s ago] ()
2025-04-13 05:32:42,415 [INFO] ROLLBACK
2025-04-13 05:32:42,415 [INFO] Update id=423804708 is handled. Duration 211 ms by bot id=7974627539
2025-04-13 05:32:47,108 [INFO] Update id=423804709 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 05:33:05,249 [INFO] Update id=423804710 is handled. Duration 114 ms by bot id=7974627539
2025-04-13 05:33:19,005 [INFO] Update id=423804711 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 05:33:36,811 [INFO] Данные для обновления/добавления товара: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 20, 'purchase_price': 15.3, 'price': 20.0, 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 05:33:36,812 [INFO] Добавляем новый товар с данными: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 20, 'purchase_price': 15.3, 'price': 20.0, 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 05:33:36,812 [INFO] BEGIN (implicit)
2025-04-13 05:33:36,813 [INFO] INSERT INTO product (name, description, purchase_price, price, image, category_id, seller_id, quantity, created, updated) VALUES ($1::VARCHAR, $2::VARCHAR, $3::NUMERIC(5, 2), $4::NUMERIC(5, 2), $5::VARCHAR, $6::INTEGER, $7::INTEGER, $8::INTEGER, now(), now()) RETURNING product.id, product.created, product.updated
2025-04-13 05:33:36,813 [INFO] [generated in 0.00015s] ('мышка', 'моя сломанная мышка', 15.3, 20.0, 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA', 4, 1, 20)
2025-04-13 05:33:36,916 [INFO] COMMIT
2025-04-13 05:33:37,073 [INFO] Update id=423804712 is handled. Duration 263 ms by bot id=7974627539
2025-04-13 05:33:42,295 [INFO] BEGIN (implicit)
2025-04-13 05:33:42,295 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:33:42,295 [INFO] [cached since 216.4s ago] ()
2025-04-13 05:33:42,423 [INFO] ROLLBACK
2025-04-13 05:33:42,423 [INFO] Update id=423804713 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 05:33:50,576 [INFO] BEGIN (implicit)
2025-04-13 05:33:50,578 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-13 05:33:50,578 [INFO] [generated in 0.00013s] (4,)
2025-04-13 05:33:50,580 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:33:50,580 [INFO] [generated in 0.00018s] (4,)
2025-04-13 05:33:50,581 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:33:50,581 [INFO] [generated in 0.00018s] (1,)
2025-04-13 05:33:50,807 [INFO] ROLLBACK
2025-04-13 05:33:50,808 [INFO] Update id=423804714 is handled. Duration 233 ms by bot id=7974627539
2025-04-13 05:33:52,984 [INFO] BEGIN (implicit)
2025-04-13 05:33:52,985 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 05:33:52,985 [INFO] [generated in 0.00012s] (1,)
2025-04-13 05:33:52,986 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:33:52,986 [INFO] [cached since 2.406s ago] (4,)
2025-04-13 05:33:52,986 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:33:52,986 [INFO] [cached since 2.405s ago] (1,)
2025-04-13 05:33:53,177 [INFO] ROLLBACK
2025-04-13 05:33:53,178 [INFO] Update id=423804715 is handled. Duration 194 ms by bot id=7974627539
2025-04-13 05:33:55,697 [INFO] Update id=423804716 is handled. Duration 149 ms by bot id=7974627539
2025-04-13 05:33:56,619 [INFO] BEGIN (implicit)
2025-04-13 05:33:56,619 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:33:56,620 [INFO] [cached since 230.7s ago] ()
2025-04-13 05:33:56,733 [INFO] ROLLBACK
2025-04-13 05:33:56,734 [INFO] Update id=423804717 is handled. Duration 116 ms by bot id=7974627539
2025-04-13 05:33:57,800 [INFO] Update id=423804718 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 05:33:58,873 [INFO] Update id=423804719 is handled. Duration 144 ms by bot id=7974627539
2025-04-13 05:34:00,119 [INFO] Update id=423804720 is handled. Duration 260 ms by bot id=7974627539
2025-04-13 05:34:04,598 [INFO] Update id=423804721 is handled. Duration 104 ms by bot id=7974627539
2025-04-13 05:34:07,288 [INFO] Update id=423804722 is handled. Duration 108 ms by bot id=7974627539
2025-04-13 05:34:08,280 [INFO] Update id=423804723 is handled. Duration 164 ms by bot id=7974627539
2025-04-13 05:34:16,175 [INFO] BEGIN (implicit)
2025-04-13 05:34:16,175 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 05:34:16,175 [INFO] [cached since 146.4s ago] ()
2025-04-13 05:34:16,285 [INFO] ROLLBACK
2025-04-13 05:34:16,285 [INFO] Update id=423804724 is handled. Duration 110 ms by bot id=7974627539
2025-04-13 05:34:19,364 [INFO] Update id=423804725 is handled. Duration 124 ms by bot id=7974627539
2025-04-13 05:34:23,941 [INFO] Update id=423804726 is handled. Duration 130 ms by bot id=7974627539
2025-04-13 05:43:27,688 [INFO] Приложение запущено
2025-04-13 05:43:27,694 [DEBUG] Using selector: EpollSelector
2025-04-13 05:43:28,153 [INFO] select pg_catalog.version()
2025-04-13 05:43:28,153 [INFO] [raw sql] ()
2025-04-13 05:43:28,153 [INFO] select current_schema()
2025-04-13 05:43:28,154 [INFO] [raw sql] ()
2025-04-13 05:43:28,154 [INFO] show standard_conforming_strings
2025-04-13 05:43:28,154 [INFO] [raw sql] ()
2025-04-13 05:43:28,155 [INFO] BEGIN (implicit)
2025-04-13 05:43:28,157 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,157 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,158 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,158 [INFO] [cached since 0.001486s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,159 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,159 [INFO] [cached since 0.00198s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,159 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,159 [INFO] [cached since 0.002549s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,160 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,160 [INFO] [cached since 0.00309s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,160 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,160 [INFO] [cached since 0.003555s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,161 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,161 [INFO] [cached since 0.003992s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,161 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:43:28,161 [INFO] [cached since 0.004346s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:43:28,161 [INFO] COMMIT
2025-04-13 05:43:28,162 [INFO] BEGIN (implicit)
2025-04-13 05:43:28,180 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:43:28,180 [INFO] [generated in 0.00015s] ()
2025-04-13 05:43:28,181 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:43:28,182 [INFO] [generated in 0.00011s] ()
2025-04-13 05:43:28,183 [INFO] ROLLBACK
2025-04-13 05:43:28,183 [INFO] Start polling
2025-04-13 05:43:28,264 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:43:36,344 [INFO] BEGIN (implicit)
2025-04-13 05:43:36,346 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 05:43:36,346 [INFO] [generated in 0.00014s] (1,)
2025-04-13 05:43:36,348 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:43:36,348 [INFO] [generated in 0.00015s] (4,)
2025-04-13 05:43:36,350 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:43:36,350 [INFO] [generated in 0.00016s] (1,)
2025-04-13 05:43:36,824 [INFO] ROLLBACK
2025-04-13 05:43:36,824 [INFO] Update id=423804727 is handled. Duration 481 ms by bot id=7974627539
2025-04-13 05:43:39,962 [INFO] Update id=423804728 is handled. Duration 167 ms by bot id=7974627539
2025-04-13 05:43:41,536 [INFO] BEGIN (implicit)
2025-04-13 05:43:41,536 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:43:41,536 [INFO] [cached since 13.36s ago] ()
2025-04-13 05:43:41,656 [INFO] ROLLBACK
2025-04-13 05:43:41,656 [INFO] Update id=423804729 is handled. Duration 121 ms by bot id=7974627539
2025-04-13 05:46:36,598 [INFO] Приложение запущено
2025-04-13 05:46:36,603 [DEBUG] Using selector: EpollSelector
2025-04-13 05:46:36,928 [INFO] select pg_catalog.version()
2025-04-13 05:46:36,928 [INFO] [raw sql] ()
2025-04-13 05:46:36,929 [INFO] select current_schema()
2025-04-13 05:46:36,929 [INFO] [raw sql] ()
2025-04-13 05:46:36,929 [INFO] show standard_conforming_strings
2025-04-13 05:46:36,929 [INFO] [raw sql] ()
2025-04-13 05:46:36,930 [INFO] BEGIN (implicit)
2025-04-13 05:46:36,932 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,932 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,933 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,933 [INFO] [cached since 0.001486s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,934 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,934 [INFO] [cached since 0.001966s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,934 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,934 [INFO] [cached since 0.002392s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,935 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,935 [INFO] [cached since 0.002776s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,935 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,935 [INFO] [cached since 0.003112s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,935 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,935 [INFO] [cached since 0.003445s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,936 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:46:36,936 [INFO] [cached since 0.003725s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:46:36,936 [INFO] COMMIT
2025-04-13 05:46:36,936 [INFO] BEGIN (implicit)
2025-04-13 05:46:36,952 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:46:36,952 [INFO] [generated in 0.00016s] ()
2025-04-13 05:46:36,953 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:46:36,953 [INFO] [generated in 0.00012s] ()
2025-04-13 05:46:36,954 [INFO] ROLLBACK
2025-04-13 05:46:36,954 [INFO] Start polling
2025-04-13 05:46:37,053 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:46:55,441 [INFO] BEGIN (implicit)
2025-04-13 05:46:55,442 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-13 05:46:55,442 [INFO] [generated in 0.00013s] ('main',)
2025-04-13 05:46:55,443 [INFO] ROLLBACK
2025-04-13 05:46:55,443 [INFO] Update id=423804730 is not handled. Duration 2 ms by bot id=7974627539
2025-04-13 05:46:55,444 [ERROR] Cause exception while process update id=423804730 by bot id=7974627539
ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 38, in start_cmd
    media, reply_markup = await get_menu_content(session, level=0, menu_name="main")
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 228, in get_menu_content
    return await main_menu(session, level, menu_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 32, in main_menu
    image = InputMediaPhoto(media=banner.image, caption=banner.description)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
2025-04-13 05:47:01,314 [INFO] Update id=423804731 is handled. Duration 301 ms by bot id=7974627539
2025-04-13 05:47:03,365 [INFO] BEGIN (implicit)
2025-04-13 05:47:03,365 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:47:03,365 [INFO] [cached since 26.41s ago] ()
2025-04-13 05:47:03,491 [INFO] ROLLBACK
2025-04-13 05:47:03,492 [INFO] Update id=423804732 is handled. Duration 127 ms by bot id=7974627539
2025-04-13 05:47:06,923 [INFO] BEGIN (implicit)
2025-04-13 05:47:06,925 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 05:47:06,925 [INFO] [generated in 0.00012s] ()
2025-04-13 05:47:06,927 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:47:06,927 [INFO] [generated in 0.00015s] (4,)
2025-04-13 05:47:06,929 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:47:06,929 [INFO] [generated in 0.00017s] (1,)
2025-04-13 05:47:07,143 [INFO] ROLLBACK
2025-04-13 05:47:07,144 [INFO] Update id=423804733 is handled. Duration 221 ms by bot id=7974627539
2025-04-13 05:47:08,934 [INFO] BEGIN (implicit)
2025-04-13 05:47:08,934 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 05:47:08,934 [INFO] [generated in 0.00013s] (1,)
2025-04-13 05:47:08,936 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:47:08,936 [INFO] [cached since 2.009s ago] (4,)
2025-04-13 05:47:08,936 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:47:08,936 [INFO] [cached since 2.008s ago] (1,)
2025-04-13 05:47:09,161 [INFO] ROLLBACK
2025-04-13 05:47:09,162 [INFO] Update id=423804734 is handled. Duration 229 ms by bot id=7974627539
2025-04-13 05:47:10,781 [INFO] Update id=423804735 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 05:47:11,623 [INFO] BEGIN (implicit)
2025-04-13 05:47:11,623 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:47:11,623 [INFO] [cached since 34.67s ago] ()
2025-04-13 05:47:11,624 [INFO] ROLLBACK
2025-04-13 05:47:11,624 [INFO] Update id=423804736 is not handled. Duration 2 ms by bot id=7974627539
2025-04-13 05:47:11,624 [ERROR] Cause exception while process update id=423804736 by bot id=7974627539
TypeError: Message.answer() missing 1 required positional argument: 'text'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 292, in add_description
    await message.answer(reply_markup=types.ReplyKeyboardRemove())
          ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Message.answer() missing 1 required positional argument: 'text'
2025-04-13 05:47:43,705 [INFO] Приложение запущено
2025-04-13 05:47:43,710 [DEBUG] Using selector: EpollSelector
2025-04-13 05:47:44,097 [INFO] select pg_catalog.version()
2025-04-13 05:47:44,097 [INFO] [raw sql] ()
2025-04-13 05:47:44,098 [INFO] select current_schema()
2025-04-13 05:47:44,098 [INFO] [raw sql] ()
2025-04-13 05:47:44,099 [INFO] show standard_conforming_strings
2025-04-13 05:47:44,099 [INFO] [raw sql] ()
2025-04-13 05:47:44,099 [INFO] BEGIN (implicit)
2025-04-13 05:47:44,101 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,101 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,103 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,103 [INFO] [cached since 0.001515s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,103 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,103 [INFO] [cached since 0.001978s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,104 [INFO] [cached since 0.002425s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,104 [INFO] [cached since 0.0028s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,104 [INFO] [cached since 0.003133s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,105 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,105 [INFO] [cached since 0.003566s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,105 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:47:44,105 [INFO] [cached since 0.003867s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:47:44,105 [INFO] COMMIT
2025-04-13 05:47:44,106 [INFO] BEGIN (implicit)
2025-04-13 05:47:44,121 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:47:44,121 [INFO] [generated in 0.00017s] ()
2025-04-13 05:47:44,123 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:47:44,123 [INFO] [generated in 0.00014s] ()
2025-04-13 05:47:44,124 [INFO] ROLLBACK
2025-04-13 05:47:44,124 [INFO] Start polling
2025-04-13 05:47:44,213 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:47:45,433 [INFO] BEGIN (implicit)
2025-04-13 05:47:45,435 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 05:47:45,436 [INFO] [generated in 0.00023s] (1,)
2025-04-13 05:47:45,438 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:47:45,438 [INFO] [generated in 0.00016s] (4,)
2025-04-13 05:47:45,440 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:47:45,440 [INFO] [generated in 0.00016s] (1,)
2025-04-13 05:47:45,852 [INFO] ROLLBACK
2025-04-13 05:47:45,852 [INFO] Update id=423804737 is handled. Duration 421 ms by bot id=7974627539
2025-04-13 05:47:47,117 [INFO] Update id=423804738 is handled. Duration 115 ms by bot id=7974627539
2025-04-13 05:47:48,623 [INFO] BEGIN (implicit)
2025-04-13 05:47:48,623 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:47:48,623 [INFO] [cached since 4.502s ago] ()
2025-04-13 05:47:48,716 [INFO] ROLLBACK
2025-04-13 05:47:48,717 [INFO] Update id=423804739 is not handled. Duration 95 ms by bot id=7974627539
2025-04-13 05:47:48,717 [ERROR] Cause exception while process update id=423804739 by bot id=7974627539
TelegramBadRequest: Telegram server says - Bad Request: message text is empty
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 292, in add_description
    await message.answer("",reply_markup=types.ReplyKeyboardRemove())
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/bot.py", line 498, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/aiohttp.py", line 185, in make_request
    response = self.check_response(
        bot=bot, method=method, status_code=resp.status, content=raw_result
    )
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/client/session/base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: message text is empty
2025-04-13 05:49:29,292 [INFO] Приложение запущено
2025-04-13 05:49:29,297 [DEBUG] Using selector: EpollSelector
2025-04-13 05:49:29,682 [INFO] select pg_catalog.version()
2025-04-13 05:49:29,682 [INFO] [raw sql] ()
2025-04-13 05:49:29,683 [INFO] select current_schema()
2025-04-13 05:49:29,683 [INFO] [raw sql] ()
2025-04-13 05:49:29,684 [INFO] show standard_conforming_strings
2025-04-13 05:49:29,684 [INFO] [raw sql] ()
2025-04-13 05:49:29,684 [INFO] BEGIN (implicit)
2025-04-13 05:49:29,686 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,687 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,688 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,688 [INFO] [cached since 0.001526s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,688 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,688 [INFO] [cached since 0.002038s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,689 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,689 [INFO] [cached since 0.002459s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,689 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,689 [INFO] [cached since 0.002864s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,690 [INFO] [cached since 0.003289s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,690 [INFO] [cached since 0.003702s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 05:49:29,690 [INFO] [cached since 0.003999s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 05:49:29,691 [INFO] COMMIT
2025-04-13 05:49:29,691 [INFO] BEGIN (implicit)
2025-04-13 05:49:29,706 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:49:29,706 [INFO] [generated in 0.00017s] ()
2025-04-13 05:49:29,708 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 05:49:29,708 [INFO] [generated in 0.00014s] ()
2025-04-13 05:49:29,709 [INFO] ROLLBACK
2025-04-13 05:49:29,710 [INFO] Start polling
2025-04-13 05:49:29,837 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 05:49:34,604 [INFO] BEGIN (implicit)
2025-04-13 05:49:34,606 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 05:49:34,606 [INFO] [generated in 0.00013s] (1,)
2025-04-13 05:49:34,608 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 05:49:34,608 [INFO] [generated in 0.00016s] (1,)
2025-04-13 05:49:34,610 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 05:49:34,610 [INFO] [generated in 0.00016s] (4,)
2025-04-13 05:49:35,046 [INFO] ROLLBACK
2025-04-13 05:49:35,046 [INFO] Update id=423804740 is handled. Duration 443 ms by bot id=7974627539
2025-04-13 05:49:36,503 [INFO] Update id=423804741 is handled. Duration 109 ms by bot id=7974627539
2025-04-13 05:49:37,531 [INFO] BEGIN (implicit)
2025-04-13 05:49:37,531 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 05:49:37,531 [INFO] [cached since 7.825s ago] ()
2025-04-13 05:49:37,683 [INFO] ROLLBACK
2025-04-13 05:49:37,683 [INFO] Update id=423804742 is handled. Duration 153 ms by bot id=7974627539
2025-04-13 05:49:39,964 [INFO] BEGIN (implicit)
2025-04-13 05:49:39,965 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 05:49:39,965 [INFO] [generated in 0.00014s] ()
2025-04-13 05:49:40,130 [INFO] ROLLBACK
2025-04-13 05:49:40,130 [INFO] Update id=423804743 is handled. Duration 166 ms by bot id=7974627539
2025-04-13 05:49:41,450 [INFO] Update id=423804744 is handled. Duration 107 ms by bot id=7974627539
2025-04-13 05:49:43,245 [INFO] Update id=423804745 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 06:01:49,579 [INFO] Приложение запущено
2025-04-13 06:01:49,585 [DEBUG] Using selector: EpollSelector
2025-04-13 06:01:49,921 [INFO] select pg_catalog.version()
2025-04-13 06:01:49,922 [INFO] [raw sql] ()
2025-04-13 06:01:49,922 [INFO] select current_schema()
2025-04-13 06:01:49,922 [INFO] [raw sql] ()
2025-04-13 06:01:49,923 [INFO] show standard_conforming_strings
2025-04-13 06:01:49,923 [INFO] [raw sql] ()
2025-04-13 06:01:49,923 [INFO] BEGIN (implicit)
2025-04-13 06:01:49,926 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,926 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,928 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,928 [INFO] [cached since 0.002377s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,929 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,929 [INFO] [cached since 0.002988s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,929 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,929 [INFO] [cached since 0.003378s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,929 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,929 [INFO] [cached since 0.003735s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,930 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,930 [INFO] [cached since 0.004087s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,930 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,930 [INFO] [cached since 0.004421s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,930 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:01:49,930 [INFO] [cached since 0.004673s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:01:49,931 [INFO] COMMIT
2025-04-13 06:01:49,931 [INFO] BEGIN (implicit)
2025-04-13 06:01:49,947 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:01:49,947 [INFO] [generated in 0.00017s] ()
2025-04-13 06:01:49,948 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:01:49,948 [INFO] [generated in 0.00011s] ()
2025-04-13 06:01:49,949 [INFO] ROLLBACK
2025-04-13 06:01:49,949 [INFO] Start polling
2025-04-13 06:01:50,040 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:02:02,726 [INFO] BEGIN (implicit)
2025-04-13 06:02:02,727 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-13 06:02:02,727 [INFO] [generated in 0.00013s] ('main',)
2025-04-13 06:02:02,728 [INFO] ROLLBACK
2025-04-13 06:02:02,729 [INFO] Update id=423804746 is not handled. Duration 2 ms by bot id=7974627539
2025-04-13 06:02:02,729 [ERROR] Cause exception while process update id=423804746 by bot id=7974627539
ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 38, in start_cmd
    media, reply_markup = await get_menu_content(session, level=0, menu_name="main")
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 228, in get_menu_content
    return await main_menu(session, level, menu_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 32, in main_menu
    image = InputMediaPhoto(media=banner.image, caption=banner.description)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
2025-04-13 06:02:12,188 [INFO] Update id=423804747 is handled. Duration 324 ms by bot id=7974627539
2025-04-13 06:02:14,528 [INFO] BEGIN (implicit)
2025-04-13 06:02:14,528 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:02:14,528 [INFO] [cached since 24.58s ago] ()
2025-04-13 06:02:14,696 [INFO] ROLLBACK
2025-04-13 06:02:14,696 [INFO] Update id=423804748 is handled. Duration 169 ms by bot id=7974627539
2025-04-13 06:02:15,708 [INFO] BEGIN (implicit)
2025-04-13 06:02:15,710 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 06:02:15,710 [INFO] [generated in 0.00014s] ()
2025-04-13 06:02:15,712 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:02:15,712 [INFO] [generated in 0.00017s] (4,)
2025-04-13 06:02:15,714 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:02:15,714 [INFO] [generated in 0.00019s] (1,)
2025-04-13 06:02:15,957 [INFO] ROLLBACK
2025-04-13 06:02:15,957 [INFO] Update id=423804749 is handled. Duration 250 ms by bot id=7974627539
2025-04-13 06:02:16,970 [INFO] BEGIN (implicit)
2025-04-13 06:02:16,971 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:02:16,971 [INFO] [generated in 0.00012s] (1,)
2025-04-13 06:02:16,972 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:02:16,972 [INFO] [cached since 1.26s ago] (4,)
2025-04-13 06:02:16,973 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:02:16,973 [INFO] [cached since 1.259s ago] (1,)
2025-04-13 06:02:17,461 [INFO] ROLLBACK
2025-04-13 06:02:17,461 [INFO] Update id=423804750 is handled. Duration 491 ms by bot id=7974627539
2025-04-13 06:02:19,417 [INFO] Update id=423804751 is handled. Duration 117 ms by bot id=7974627539
2025-04-13 06:02:20,302 [INFO] BEGIN (implicit)
2025-04-13 06:02:20,302 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:02:20,302 [INFO] [cached since 30.36s ago] ()
2025-04-13 06:02:20,439 [INFO] ROLLBACK
2025-04-13 06:02:20,439 [INFO] Update id=423804752 is handled. Duration 138 ms by bot id=7974627539
2025-04-13 06:02:21,959 [INFO] BEGIN (implicit)
2025-04-13 06:02:21,960 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:02:21,960 [INFO] [generated in 0.00015s] ()
2025-04-13 06:02:22,128 [INFO] ROLLBACK
2025-04-13 06:02:22,128 [INFO] Update id=423804753 is handled. Duration 170 ms by bot id=7974627539
2025-04-13 06:02:23,666 [INFO] Update id=423804754 is handled. Duration 109 ms by bot id=7974627539
2025-04-13 06:02:25,362 [INFO] Update id=423804755 is handled. Duration 134 ms by bot id=7974627539
2025-04-13 06:38:47,614 [INFO] Приложение запущено
2025-04-13 06:38:47,710 [DEBUG] Using selector: EpollSelector
2025-04-13 06:38:48,389 [INFO] select pg_catalog.version()
2025-04-13 06:38:48,389 [INFO] [raw sql] ()
2025-04-13 06:38:48,390 [INFO] select current_schema()
2025-04-13 06:38:48,390 [INFO] [raw sql] ()
2025-04-13 06:38:48,390 [INFO] show standard_conforming_strings
2025-04-13 06:38:48,390 [INFO] [raw sql] ()
2025-04-13 06:38:48,391 [INFO] BEGIN (implicit)
2025-04-13 06:38:48,393 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,393 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,394 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,394 [INFO] [cached since 0.001458s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,395 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,395 [INFO] [cached since 0.00194s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,395 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,395 [INFO] [cached since 0.002445s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,396 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,396 [INFO] [cached since 0.003039s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,396 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,397 [INFO] [cached since 0.00347s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,397 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,397 [INFO] [cached since 0.003884s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,397 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:38:48,397 [INFO] [cached since 0.004237s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:38:48,398 [INFO] COMMIT
2025-04-13 06:38:48,398 [INFO] BEGIN (implicit)
2025-04-13 06:38:48,413 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:38:48,413 [INFO] [generated in 0.00017s] ()
2025-04-13 06:38:48,415 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:38:48,415 [INFO] [generated in 0.00013s] ()
2025-04-13 06:38:48,416 [INFO] ROLLBACK
2025-04-13 06:38:48,416 [INFO] Start polling
2025-04-13 06:38:48,528 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:39:29,749 [INFO] BEGIN (implicit)
2025-04-13 06:39:29,751 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:39:29,751 [INFO] [generated in 0.00014s] (1,)
2025-04-13 06:39:29,753 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:39:29,753 [INFO] [generated in 0.00017s] (1,)
2025-04-13 06:39:29,755 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:39:29,755 [INFO] [generated in 0.00021s] (4,)
2025-04-13 06:39:30,234 [INFO] ROLLBACK
2025-04-13 06:39:30,235 [INFO] Update id=423804756 is handled. Duration 487 ms by bot id=7974627539
2025-04-13 06:39:34,714 [INFO] Update id=423804757 is handled. Duration 118 ms by bot id=7974627539
2025-04-13 06:39:35,668 [INFO] BEGIN (implicit)
2025-04-13 06:39:35,668 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:39:35,668 [INFO] [cached since 47.26s ago] ()
2025-04-13 06:39:35,826 [INFO] ROLLBACK
2025-04-13 06:39:35,827 [INFO] Update id=423804758 is handled. Duration 159 ms by bot id=7974627539
2025-04-13 06:39:37,093 [INFO] BEGIN (implicit)
2025-04-13 06:39:37,093 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:39:37,093 [INFO] [generated in 0.00011s] ()
2025-04-13 06:39:37,214 [INFO] ROLLBACK
2025-04-13 06:39:37,214 [INFO] Update id=423804759 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 06:39:38,366 [INFO] Update id=423804760 is handled. Duration 171 ms by bot id=7974627539
2025-04-13 06:39:40,086 [INFO] Update id=423804761 is handled. Duration 176 ms by bot id=7974627539
2025-04-13 06:39:41,905 [INFO] Update id=423804762 is handled. Duration 115 ms by bot id=7974627539
2025-04-13 06:41:00,735 [INFO] Приложение запущено
2025-04-13 06:41:00,741 [DEBUG] Using selector: EpollSelector
2025-04-13 06:41:01,182 [INFO] select pg_catalog.version()
2025-04-13 06:41:01,183 [INFO] [raw sql] ()
2025-04-13 06:41:01,183 [INFO] select current_schema()
2025-04-13 06:41:01,184 [INFO] [raw sql] ()
2025-04-13 06:41:01,184 [INFO] show standard_conforming_strings
2025-04-13 06:41:01,184 [INFO] [raw sql] ()
2025-04-13 06:41:01,185 [INFO] BEGIN (implicit)
2025-04-13 06:41:01,187 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,187 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,188 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,188 [INFO] [cached since 0.001526s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,189 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,189 [INFO] [cached since 0.001996s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,189 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,189 [INFO] [cached since 0.002405s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,190 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,190 [INFO] [cached since 0.002758s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,190 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,190 [INFO] [cached since 0.003136s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,190 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,190 [INFO] [cached since 0.00353s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,191 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:41:01,191 [INFO] [cached since 0.003822s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:41:01,191 [INFO] COMMIT
2025-04-13 06:41:01,192 [INFO] BEGIN (implicit)
2025-04-13 06:41:01,206 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:41:01,206 [INFO] [generated in 0.00016s] ()
2025-04-13 06:41:01,209 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:41:01,209 [INFO] [generated in 0.00018s] ()
2025-04-13 06:41:01,210 [INFO] ROLLBACK
2025-04-13 06:41:01,211 [INFO] Start polling
2025-04-13 06:41:01,312 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:41:13,539 [INFO] BEGIN (implicit)
2025-04-13 06:41:13,541 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:41:13,542 [INFO] [generated in 0.00014s] (1,)
2025-04-13 06:41:13,544 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:41:13,544 [INFO] [generated in 0.00015s] (4,)
2025-04-13 06:41:13,546 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:41:13,546 [INFO] [generated in 0.00023s] (1,)
2025-04-13 06:41:14,125 [INFO] ROLLBACK
2025-04-13 06:41:14,126 [INFO] Update id=423804763 is handled. Duration 587 ms by bot id=7974627539
2025-04-13 06:41:16,306 [INFO] Update id=423804764 is handled. Duration 123 ms by bot id=7974627539
2025-04-13 06:41:17,058 [INFO] BEGIN (implicit)
2025-04-13 06:41:17,058 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:41:17,058 [INFO] [cached since 15.85s ago] ()
2025-04-13 06:41:17,246 [INFO] ROLLBACK
2025-04-13 06:41:17,247 [INFO] Update id=423804765 is handled. Duration 190 ms by bot id=7974627539
2025-04-13 06:41:18,518 [INFO] BEGIN (implicit)
2025-04-13 06:41:18,518 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:41:18,518 [INFO] [generated in 0.00012s] ()
2025-04-13 06:41:18,647 [INFO] ROLLBACK
2025-04-13 06:41:18,648 [INFO] Update id=423804766 is handled. Duration 131 ms by bot id=7974627539
2025-04-13 06:41:19,925 [INFO] Update id=423804767 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 06:41:21,366 [INFO] Update id=423804768 is handled. Duration 298 ms by bot id=7974627539
2025-04-13 06:45:29,780 [INFO] Приложение запущено
2025-04-13 06:45:29,786 [DEBUG] Using selector: EpollSelector
2025-04-13 06:45:30,251 [INFO] select pg_catalog.version()
2025-04-13 06:45:30,252 [INFO] [raw sql] ()
2025-04-13 06:45:30,252 [INFO] select current_schema()
2025-04-13 06:45:30,252 [INFO] [raw sql] ()
2025-04-13 06:45:30,253 [INFO] show standard_conforming_strings
2025-04-13 06:45:30,253 [INFO] [raw sql] ()
2025-04-13 06:45:30,253 [INFO] BEGIN (implicit)
2025-04-13 06:45:30,256 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,256 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,258 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,258 [INFO] [cached since 0.001996s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,258 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,258 [INFO] [cached since 0.002587s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,259 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,259 [INFO] [cached since 0.003014s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,259 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,259 [INFO] [cached since 0.003373s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,259 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,259 [INFO] [cached since 0.003728s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,260 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,260 [INFO] [cached since 0.00408s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,260 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:45:30,260 [INFO] [cached since 0.00443s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:45:30,260 [INFO] COMMIT
2025-04-13 06:45:30,261 [INFO] BEGIN (implicit)
2025-04-13 06:45:30,278 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:45:30,278 [INFO] [generated in 0.00016s] ()
2025-04-13 06:45:30,280 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:45:30,280 [INFO] [generated in 0.00014s] ()
2025-04-13 06:45:30,281 [INFO] ROLLBACK
2025-04-13 06:45:30,282 [INFO] Start polling
2025-04-13 06:45:30,397 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:45:37,247 [INFO] BEGIN (implicit)
2025-04-13 06:45:37,249 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:45:37,249 [INFO] [generated in 0.00016s] (1,)
2025-04-13 06:45:37,251 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:45:37,251 [INFO] [generated in 0.00016s] (4,)
2025-04-13 06:45:37,253 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:45:37,253 [INFO] [generated in 0.00018s] (1,)
2025-04-13 06:45:37,724 [INFO] ROLLBACK
2025-04-13 06:45:37,724 [INFO] Update id=423804769 is handled. Duration 478 ms by bot id=7974627539
2025-04-13 06:45:41,924 [INFO] Update id=423804770 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 06:45:43,171 [INFO] BEGIN (implicit)
2025-04-13 06:45:43,172 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:45:43,172 [INFO] [cached since 12.89s ago] ()
2025-04-13 06:45:43,315 [INFO] ROLLBACK
2025-04-13 06:45:43,316 [INFO] Update id=423804771 is handled. Duration 145 ms by bot id=7974627539
2025-04-13 06:45:44,405 [INFO] BEGIN (implicit)
2025-04-13 06:45:44,406 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:45:44,406 [INFO] [generated in 0.00012s] ()
2025-04-13 06:45:44,536 [INFO] ROLLBACK
2025-04-13 06:45:44,536 [INFO] Update id=423804772 is handled. Duration 132 ms by bot id=7974627539
2025-04-13 06:45:45,655 [INFO] Update id=423804773 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 06:45:49,804 [INFO] Update id=423804774 is handled. Duration 101 ms by bot id=7974627539
2025-04-13 06:45:58,169 [INFO] Update id=423804775 is handled. Duration 142 ms by bot id=7974627539
2025-04-13 06:45:59,868 [INFO] Данные для обновления/добавления товара: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 06:45:59,868 [INFO] Обновляем товар с ID 1 данными: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 06:45:59,869 [INFO] BEGIN (implicit)
2025-04-13 06:45:59,870 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-13 06:45:59,870 [INFO] [generated in 0.00016s] ('мышка', 'моя сломанная мышка', 15.3, 20.0, 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA', 4, 1, 25, 1)
2025-04-13 06:46:00,035 [INFO] COMMIT
2025-04-13 06:46:00,289 [INFO] Update id=423804776 is handled. Duration 421 ms by bot id=7974627539
2025-04-13 06:52:12,926 [INFO] Приложение запущено
2025-04-13 06:52:12,932 [DEBUG] Using selector: EpollSelector
2025-04-13 06:52:13,328 [INFO] select pg_catalog.version()
2025-04-13 06:52:13,328 [INFO] [raw sql] ()
2025-04-13 06:52:13,329 [INFO] select current_schema()
2025-04-13 06:52:13,329 [INFO] [raw sql] ()
2025-04-13 06:52:13,329 [INFO] show standard_conforming_strings
2025-04-13 06:52:13,330 [INFO] [raw sql] ()
2025-04-13 06:52:13,330 [INFO] BEGIN (implicit)
2025-04-13 06:52:13,332 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,332 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,334 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,334 [INFO] [cached since 0.001857s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,335 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,335 [INFO] [cached since 0.00251s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,335 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,335 [INFO] [cached since 0.002975s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,336 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,336 [INFO] [cached since 0.003395s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,336 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,336 [INFO] [cached since 0.003797s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,336 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,336 [INFO] [cached since 0.004182s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,337 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:52:13,337 [INFO] [cached since 0.004535s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:52:13,337 [INFO] COMMIT
2025-04-13 06:52:13,338 [INFO] BEGIN (implicit)
2025-04-13 06:52:13,352 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:52:13,353 [INFO] [generated in 0.00016s] ()
2025-04-13 06:52:13,354 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:52:13,354 [INFO] [generated in 0.00012s] ()
2025-04-13 06:52:13,355 [INFO] ROLLBACK
2025-04-13 06:52:13,355 [INFO] Start polling
2025-04-13 06:52:13,452 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:52:29,999 [INFO] BEGIN (implicit)
2025-04-13 06:52:30,000 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-13 06:52:30,000 [INFO] [generated in 0.00015s] ('main',)
2025-04-13 06:52:30,001 [INFO] ROLLBACK
2025-04-13 06:52:30,001 [INFO] Update id=423804777 is not handled. Duration 3 ms by bot id=7974627539
2025-04-13 06:52:30,001 [ERROR] Cause exception while process update id=423804777 by bot id=7974627539
ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 38, in start_cmd
    media, reply_markup = await get_menu_content(session, level=0, menu_name="main")
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 228, in get_menu_content
    return await main_menu(session, level, menu_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 32, in main_menu
    image = InputMediaPhoto(media=banner.image, caption=banner.description)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for InputMediaPhoto
media.str
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/string_type
media.is-instance[InputFile]
  Input should be an instance of InputFile [type=is_instance_of, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/is_instance_of
2025-04-13 06:52:43,853 [INFO] Update id=423804778 is handled. Duration 430 ms by bot id=7974627539
2025-04-13 06:52:45,626 [INFO] BEGIN (implicit)
2025-04-13 06:52:45,627 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:52:45,627 [INFO] [cached since 32.27s ago] ()
2025-04-13 06:52:45,744 [INFO] ROLLBACK
2025-04-13 06:52:45,745 [INFO] Update id=423804779 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 06:52:46,750 [INFO] BEGIN (implicit)
2025-04-13 06:52:46,752 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 06:52:46,752 [INFO] [generated in 0.00012s] ()
2025-04-13 06:52:46,754 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:52:46,754 [INFO] [generated in 0.00018s] (1,)
2025-04-13 06:52:46,755 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:52:46,756 [INFO] [generated in 0.00015s] (4,)
2025-04-13 06:52:47,021 [INFO] ROLLBACK
2025-04-13 06:52:47,021 [INFO] Update id=423804780 is handled. Duration 272 ms by bot id=7974627539
2025-04-13 06:52:48,030 [INFO] BEGIN (implicit)
2025-04-13 06:52:48,030 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:52:48,030 [INFO] [generated in 0.00013s] (1,)
2025-04-13 06:52:48,032 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:52:48,032 [INFO] [cached since 1.278s ago] (1,)
2025-04-13 06:52:48,032 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:52:48,032 [INFO] [cached since 1.277s ago] (4,)
2025-04-13 06:52:48,265 [INFO] ROLLBACK
2025-04-13 06:52:48,265 [INFO] Update id=423804781 is handled. Duration 236 ms by bot id=7974627539
2025-04-13 06:52:51,114 [INFO] Update id=423804782 is handled. Duration 271 ms by bot id=7974627539
2025-04-13 06:52:52,671 [INFO] BEGIN (implicit)
2025-04-13 06:52:52,671 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:52:52,671 [INFO] [cached since 39.32s ago] ()
2025-04-13 06:52:52,828 [INFO] ROLLBACK
2025-04-13 06:52:52,829 [INFO] Update id=423804783 is handled. Duration 158 ms by bot id=7974627539
2025-04-13 06:52:55,508 [INFO] BEGIN (implicit)
2025-04-13 06:52:55,509 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:52:55,509 [INFO] [generated in 0.00011s] ()
2025-04-13 06:52:55,634 [INFO] ROLLBACK
2025-04-13 06:52:55,635 [INFO] Update id=423804784 is handled. Duration 127 ms by bot id=7974627539
2025-04-13 06:52:57,098 [INFO] Update id=423804785 is handled. Duration 167 ms by bot id=7974627539
2025-04-13 06:53:00,800 [INFO] Update id=423804786 is handled. Duration 124 ms by bot id=7974627539
2025-04-13 06:54:15,482 [INFO] Приложение запущено
2025-04-13 06:54:15,488 [DEBUG] Using selector: EpollSelector
2025-04-13 06:54:15,871 [INFO] select pg_catalog.version()
2025-04-13 06:54:15,871 [INFO] [raw sql] ()
2025-04-13 06:54:15,872 [INFO] select current_schema()
2025-04-13 06:54:15,872 [INFO] [raw sql] ()
2025-04-13 06:54:15,873 [INFO] show standard_conforming_strings
2025-04-13 06:54:15,873 [INFO] [raw sql] ()
2025-04-13 06:54:15,873 [INFO] BEGIN (implicit)
2025-04-13 06:54:15,876 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,876 [INFO] [generated in 0.00019s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,877 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,878 [INFO] [cached since 0.002137s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,878 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,878 [INFO] [cached since 0.00264s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,878 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,879 [INFO] [cached since 0.003134s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,879 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,879 [INFO] [cached since 0.00367s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,879 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,880 [INFO] [cached since 0.004125s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,880 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,880 [INFO] [cached since 0.00457s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,880 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 06:54:15,880 [INFO] [cached since 0.004907s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 06:54:15,881 [INFO] COMMIT
2025-04-13 06:54:15,881 [INFO] BEGIN (implicit)
2025-04-13 06:54:15,896 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:54:15,896 [INFO] [generated in 0.00025s] ()
2025-04-13 06:54:15,899 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 06:54:15,899 [INFO] [generated in 0.00015s] ()
2025-04-13 06:54:15,900 [INFO] ROLLBACK
2025-04-13 06:54:15,900 [INFO] Start polling
2025-04-13 06:54:15,985 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 06:54:23,403 [INFO] BEGIN (implicit)
2025-04-13 06:54:23,405 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 06:54:23,405 [INFO] [generated in 0.00014s] (1,)
2025-04-13 06:54:23,407 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 06:54:23,407 [INFO] [generated in 0.00016s] (1,)
2025-04-13 06:54:23,409 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 06:54:23,409 [INFO] [generated in 0.00016s] (4,)
2025-04-13 06:54:23,965 [INFO] ROLLBACK
2025-04-13 06:54:23,965 [INFO] Update id=423804787 is handled. Duration 564 ms by bot id=7974627539
2025-04-13 06:54:25,867 [INFO] Update id=423804788 is handled. Duration 162 ms by bot id=7974627539
2025-04-13 06:54:26,662 [INFO] BEGIN (implicit)
2025-04-13 06:54:26,663 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 06:54:26,663 [INFO] [cached since 10.77s ago] ()
2025-04-13 06:54:26,954 [INFO] ROLLBACK
2025-04-13 06:54:26,954 [INFO] Update id=423804789 is handled. Duration 293 ms by bot id=7974627539
2025-04-13 06:54:28,302 [INFO] BEGIN (implicit)
2025-04-13 06:54:28,303 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 06:54:28,303 [INFO] [generated in 0.00011s] ()
2025-04-13 06:54:28,439 [INFO] ROLLBACK
2025-04-13 06:54:28,439 [INFO] Update id=423804790 is handled. Duration 137 ms by bot id=7974627539
2025-04-13 06:54:29,607 [INFO] Update id=423804791 is handled. Duration 150 ms by bot id=7974627539
2025-04-13 06:54:32,026 [INFO] Update id=423804792 is handled. Duration 223 ms by bot id=7974627539
2025-04-13 07:02:35,930 [INFO] Приложение запущено
2025-04-13 07:02:35,936 [DEBUG] Using selector: EpollSelector
2025-04-13 07:02:36,349 [INFO] select pg_catalog.version()
2025-04-13 07:02:36,349 [INFO] [raw sql] ()
2025-04-13 07:02:36,350 [INFO] select current_schema()
2025-04-13 07:02:36,350 [INFO] [raw sql] ()
2025-04-13 07:02:36,351 [INFO] show standard_conforming_strings
2025-04-13 07:02:36,351 [INFO] [raw sql] ()
2025-04-13 07:02:36,351 [INFO] BEGIN (implicit)
2025-04-13 07:02:36,354 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,354 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,356 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,356 [INFO] [cached since 0.002355s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,356 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,356 [INFO] [cached since 0.002859s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,357 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,357 [INFO] [cached since 0.003277s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,357 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,357 [INFO] [cached since 0.00364s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,357 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,358 [INFO] [cached since 0.004081s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,358 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,358 [INFO] [cached since 0.004503s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,358 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 07:02:36,358 [INFO] [cached since 0.004816s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 07:02:36,359 [INFO] COMMIT
2025-04-13 07:02:36,359 [INFO] BEGIN (implicit)
2025-04-13 07:02:36,376 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 07:02:36,376 [INFO] [generated in 0.00028s] ()
2025-04-13 07:02:36,378 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 07:02:36,378 [INFO] [generated in 0.00013s] ()
2025-04-13 07:02:36,379 [INFO] ROLLBACK
2025-04-13 07:02:36,379 [INFO] Start polling
2025-04-13 07:02:36,495 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 07:02:42,396 [INFO] BEGIN (implicit)
2025-04-13 07:02:42,398 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 07:02:42,398 [INFO] [generated in 0.00013s] (1,)
2025-04-13 07:02:42,400 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 07:02:42,400 [INFO] [generated in 0.00015s] (1,)
2025-04-13 07:02:42,403 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 07:02:42,403 [INFO] [generated in 0.00030s] (4,)
2025-04-13 07:02:42,884 [INFO] ROLLBACK
2025-04-13 07:02:42,885 [INFO] Update id=423804793 is handled. Duration 490 ms by bot id=7974627539
2025-04-13 07:02:45,971 [INFO] Update id=423804794 is handled. Duration 148 ms by bot id=7974627539
2025-04-13 07:02:47,007 [INFO] BEGIN (implicit)
2025-04-13 07:02:47,008 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 07:02:47,008 [INFO] [cached since 10.63s ago] ()
2025-04-13 07:02:47,204 [INFO] ROLLBACK
2025-04-13 07:02:47,205 [INFO] Update id=423804795 is handled. Duration 198 ms by bot id=7974627539
2025-04-13 07:02:48,376 [INFO] BEGIN (implicit)
2025-04-13 07:02:48,376 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 07:02:48,376 [INFO] [generated in 0.00012s] ()
2025-04-13 07:02:48,543 [INFO] ROLLBACK
2025-04-13 07:02:48,544 [INFO] Update id=423804796 is handled. Duration 169 ms by bot id=7974627539
2025-04-13 07:02:49,611 [INFO] Update id=423804797 is handled. Duration 126 ms by bot id=7974627539
2025-04-13 07:02:51,462 [INFO] Update id=423804798 is handled. Duration 257 ms by bot id=7974627539
2025-04-13 07:02:53,419 [INFO] Update id=423804799 is handled. Duration 116 ms by bot id=7974627539
2025-04-13 07:02:54,538 [INFO] Данные для обновления/добавления товара: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 07:02:54,539 [INFO] Обновляем товар с ID 1 данными: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 07:02:54,539 [INFO] BEGIN (implicit)
2025-04-13 07:02:54,540 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-13 07:02:54,540 [INFO] [generated in 0.00015s] ('мышка', 'моя сломанная мышка', 15.3, 20.0, 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA', 4, 1, 25, 1)
2025-04-13 07:02:54,541 [INFO] COMMIT
2025-04-13 07:02:54,827 [INFO] Update id=423804800 is handled. Duration 289 ms by bot id=7974627539
2025-04-13 07:03:06,734 [INFO] BEGIN (implicit)
2025-04-13 07:03:06,734 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 07:03:06,734 [INFO] [cached since 24.34s ago] (1,)
2025-04-13 07:03:06,736 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 07:03:06,736 [INFO] [cached since 24.34s ago] (1,)
2025-04-13 07:03:06,737 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 07:03:06,737 [INFO] [cached since 24.33s ago] (4,)
2025-04-13 07:03:06,992 [INFO] ROLLBACK
2025-04-13 07:03:06,993 [INFO] Update id=423804801 is handled. Duration 260 ms by bot id=7974627539
2025-04-13 07:03:11,560 [INFO] Update id=423804802 is handled. Duration 130 ms by bot id=7974627539
2025-04-13 07:03:15,008 [INFO] Update id=423804803 is handled. Duration 124 ms by bot id=7974627539
2025-04-13 07:03:16,455 [INFO] Update id=423804804 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 07:03:17,687 [INFO] BEGIN (implicit)
2025-04-13 07:03:17,687 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 07:03:17,687 [INFO] [cached since 41.31s ago] ()
2025-04-13 07:03:17,836 [INFO] ROLLBACK
2025-04-13 07:03:17,836 [INFO] Update id=423804805 is handled. Duration 150 ms by bot id=7974627539
2025-04-13 07:03:19,846 [INFO] Update id=423804806 is handled. Duration 202 ms by bot id=7974627539
2025-04-13 07:03:23,016 [INFO] BEGIN (implicit)
2025-04-13 07:03:23,016 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 07:03:23,017 [INFO] [cached since 46.64s ago] ()
2025-04-13 07:03:23,140 [INFO] ROLLBACK
2025-04-13 07:03:23,141 [INFO] Update id=423804807 is handled. Duration 125 ms by bot id=7974627539
2025-04-13 07:03:24,542 [INFO] BEGIN (implicit)
2025-04-13 07:03:24,543 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 07:03:24,543 [INFO] [cached since 36.17s ago] ()
2025-04-13 07:03:24,689 [INFO] ROLLBACK
2025-04-13 07:03:24,690 [INFO] Update id=423804808 is handled. Duration 148 ms by bot id=7974627539
2025-04-13 07:03:26,181 [INFO] Update id=423804809 is not handled. Duration 0 ms by bot id=7974627539
2025-04-13 07:03:26,182 [ERROR] Cause exception while process update id=423804809 by bot id=7974627539
KeyError: 'AddProduct:new_category'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 243, in back_step_handler
    f"Ок, вы вернулись к прошлому шагу \n {AddProduct.texts[previous.state]}"
                                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'AddProduct:new_category'
2025-04-13 14:28:46,809 [INFO] Приложение запущено
2025-04-13 14:28:46,982 [DEBUG] Using selector: EpollSelector
2025-04-13 14:28:48,376 [INFO] select pg_catalog.version()
2025-04-13 14:28:48,376 [INFO] [raw sql] ()
2025-04-13 14:28:48,377 [INFO] select current_schema()
2025-04-13 14:28:48,377 [INFO] [raw sql] ()
2025-04-13 14:28:48,377 [INFO] show standard_conforming_strings
2025-04-13 14:28:48,377 [INFO] [raw sql] ()
2025-04-13 14:28:48,378 [INFO] BEGIN (implicit)
2025-04-13 14:28:48,380 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,380 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,384 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,384 [INFO] [cached since 0.003854s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,385 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,385 [INFO] [cached since 0.004639s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,386 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,386 [INFO] [cached since 0.005334s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,386 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,386 [INFO] [cached since 0.005802s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,386 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,386 [INFO] [cached since 0.006194s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,387 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,387 [INFO] [cached since 0.006581s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,387 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:28:48,387 [INFO] [cached since 0.006914s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:28:48,388 [INFO] COMMIT
2025-04-13 14:28:48,388 [INFO] BEGIN (implicit)
2025-04-13 14:28:48,405 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:28:48,405 [INFO] [generated in 0.00016s] ()
2025-04-13 14:28:48,407 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:28:48,407 [INFO] [generated in 0.00011s] ()
2025-04-13 14:28:48,407 [INFO] ROLLBACK
2025-04-13 14:28:48,408 [INFO] Start polling
2025-04-13 14:28:48,508 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:29:09,588 [INFO] BEGIN (implicit)
2025-04-13 14:29:09,590 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:29:09,590 [INFO] [generated in 0.00016s] (1,)
2025-04-13 14:29:09,593 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:29:09,593 [INFO] [generated in 0.00021s] (1,)
2025-04-13 14:29:09,596 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:29:09,596 [INFO] [generated in 0.00021s] (4,)
2025-04-13 14:29:10,129 [INFO] ROLLBACK
2025-04-13 14:29:10,130 [INFO] Update id=423804810 is handled. Duration 542 ms by bot id=7974627539
2025-04-13 14:29:13,420 [INFO] Update id=423804811 is handled. Duration 148 ms by bot id=7974627539
2025-04-13 14:29:14,885 [INFO] BEGIN (implicit)
2025-04-13 14:29:14,886 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:29:14,886 [INFO] [cached since 26.48s ago] ()
2025-04-13 14:29:15,100 [INFO] ROLLBACK
2025-04-13 14:29:15,101 [INFO] Update id=423804812 is handled. Duration 216 ms by bot id=7974627539
2025-04-13 14:29:18,716 [INFO] BEGIN (implicit)
2025-04-13 14:29:18,717 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:29:18,717 [INFO] [generated in 0.00012s] ()
2025-04-13 14:29:18,961 [INFO] ROLLBACK
2025-04-13 14:29:18,962 [INFO] Update id=423804813 is handled. Duration 246 ms by bot id=7974627539
2025-04-13 14:29:20,827 [INFO] Update id=423804814 is handled. Duration 167 ms by bot id=7974627539
2025-04-13 14:29:22,341 [INFO] Update id=423804815 is handled. Duration 144 ms by bot id=7974627539
2025-04-13 14:29:23,707 [INFO] Update id=423804816 is handled. Duration 190 ms by bot id=7974627539
2025-04-13 14:29:24,882 [INFO] Данные для обновления/добавления товара: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 14:29:24,882 [INFO] Обновляем товар с ID 1 данными: {'name': 'мышка', 'description': 'моя сломанная мышка', 'category': 4, 'seller': 1, 'quantity': 25, 'price': Decimal('20.00'), 'purchase_price': Decimal('15.30'), 'image': 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA'}
2025-04-13 14:29:24,883 [INFO] BEGIN (implicit)
2025-04-13 14:29:24,884 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-13 14:29:24,884 [INFO] [generated in 0.00016s] ('мышка', 'моя сломанная мышка', 15.3, 20.0, 'AgACAgIAAxkBAAM_Z_swkFR_SqbXis2Oj4qi5dZIVQYAAkbsMRvvi9lLYTHhz4LJG8kBAAMCAAN5AAM2BA', 4, 1, 25, 1)
2025-04-13 14:29:24,886 [INFO] COMMIT
2025-04-13 14:29:25,217 [INFO] Update id=423804817 is handled. Duration 335 ms by bot id=7974627539
2025-04-13 14:29:38,502 [INFO] BEGIN (implicit)
2025-04-13 14:29:38,503 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:29:38,503 [INFO] [generated in 0.00013s] ()
2025-04-13 14:29:38,504 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:29:38,504 [INFO] [cached since 28.91s ago] (1,)
2025-04-13 14:29:38,505 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:29:38,505 [INFO] [cached since 28.91s ago] (4,)
2025-04-13 14:29:38,786 [INFO] ROLLBACK
2025-04-13 14:29:38,786 [INFO] Update id=423804818 is handled. Duration 285 ms by bot id=7974627539
2025-04-13 14:29:41,377 [INFO] BEGIN (implicit)
2025-04-13 14:29:41,378 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:29:41,465 [INFO] [cached since 31.88s ago] (1,)
2025-04-13 14:29:41,467 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:29:41,467 [INFO] [cached since 31.87s ago] (1,)
2025-04-13 14:29:41,467 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:29:41,467 [INFO] [cached since 31.87s ago] (4,)
2025-04-13 14:29:41,747 [INFO] ROLLBACK
2025-04-13 14:29:41,747 [INFO] Update id=423804819 is handled. Duration 370 ms by bot id=7974627539
2025-04-13 14:29:44,725 [INFO] Update id=423804820 is handled. Duration 153 ms by bot id=7974627539
2025-04-13 14:29:46,717 [INFO] BEGIN (implicit)
2025-04-13 14:29:46,718 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:29:46,718 [INFO] [cached since 37.13s ago] (1,)
2025-04-13 14:29:46,719 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:29:46,720 [INFO] [cached since 37.13s ago] (1,)
2025-04-13 14:29:46,720 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:29:46,720 [INFO] [cached since 37.12s ago] (4,)
2025-04-13 14:29:47,261 [INFO] ROLLBACK
2025-04-13 14:29:47,261 [INFO] Update id=423804821 is handled. Duration 545 ms by bot id=7974627539
2025-04-13 14:29:48,655 [INFO] Update id=423804822 is handled. Duration 199 ms by bot id=7974627539
2025-04-13 14:29:52,473 [INFO] Update id=423804823 is handled. Duration 311 ms by bot id=7974627539
2025-04-13 14:29:55,367 [INFO] BEGIN (implicit)
2025-04-13 14:29:55,368 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:29:55,368 [INFO] [cached since 45.35s ago] (1,)
2025-04-13 14:29:55,369 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:29:55,369 [INFO] [cached since 45.35s ago] (1,)
2025-04-13 14:29:55,370 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:29:55,370 [INFO] [cached since 45.34s ago] (4,)
2025-04-13 14:29:55,610 [INFO] ROLLBACK
2025-04-13 14:29:55,610 [INFO] Update id=423804824 is handled. Duration 244 ms by bot id=7974627539
2025-04-13 14:29:58,092 [INFO] Update id=423804825 is handled. Duration 155 ms by bot id=7974627539
2025-04-13 14:29:58,871 [INFO] BEGIN (implicit)
2025-04-13 14:29:58,871 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:29:58,871 [INFO] [cached since 70.04s ago] ()
2025-04-13 14:29:59,032 [INFO] ROLLBACK
2025-04-13 14:29:59,033 [INFO] Update id=423804826 is handled. Duration 162 ms by bot id=7974627539
2025-04-13 14:30:20,732 [INFO] Update id=423804827 is handled. Duration 266 ms by bot id=7974627539
2025-04-13 14:30:23,627 [INFO] BEGIN (implicit)
2025-04-13 14:30:23,627 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:30:23,627 [INFO] [cached since 73.61s ago] (1,)
2025-04-13 14:30:23,628 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:30:23,628 [INFO] [cached since 73.6s ago] (1,)
2025-04-13 14:30:23,629 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:30:23,629 [INFO] [cached since 73.6s ago] (4,)
2025-04-13 14:30:23,935 [INFO] ROLLBACK
2025-04-13 14:30:23,936 [INFO] Update id=423804828 is handled. Duration 309 ms by bot id=7974627539
2025-04-13 14:30:25,976 [INFO] Update id=423804829 is handled. Duration 159 ms by bot id=7974627539
2025-04-13 14:30:26,786 [INFO] BEGIN (implicit)
2025-04-13 14:30:26,786 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:30:26,786 [INFO] [cached since 97.95s ago] ()
2025-04-13 14:30:26,936 [INFO] ROLLBACK
2025-04-13 14:30:26,936 [INFO] Update id=423804830 is handled. Duration 151 ms by bot id=7974627539
2025-04-13 14:30:29,909 [INFO] Update id=423804831 is handled. Duration 258 ms by bot id=7974627539
2025-04-13 14:30:35,150 [INFO] BEGIN (implicit)
2025-04-13 14:30:35,150 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:30:35,151 [INFO] [cached since 76s ago] ()
2025-04-13 14:30:35,334 [INFO] ROLLBACK
2025-04-13 14:30:35,334 [INFO] Update id=423804832 is handled. Duration 184 ms by bot id=7974627539
2025-04-13 14:30:44,200 [INFO] Update id=423804833 is handled. Duration 426 ms by bot id=7974627539
2025-04-13 14:30:48,491 [INFO] BEGIN (implicit)
2025-04-13 14:30:48,491 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:30:48,491 [INFO] [cached since 119.7s ago] ()
2025-04-13 14:30:48,651 [INFO] ROLLBACK
2025-04-13 14:30:48,652 [INFO] Update id=423804834 is handled. Duration 161 ms by bot id=7974627539
2025-04-13 14:30:49,765 [INFO] BEGIN (implicit)
2025-04-13 14:30:49,765 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:30:49,765 [INFO] [cached since 70.83s ago] ()
2025-04-13 14:30:49,766 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:30:49,766 [INFO] [cached since 99.74s ago] (1,)
2025-04-13 14:30:49,767 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:30:49,767 [INFO] [cached since 99.74s ago] (4,)
2025-04-13 14:30:50,186 [INFO] ROLLBACK
2025-04-13 14:30:50,186 [INFO] Update id=423804835 is handled. Duration 422 ms by bot id=7974627539
2025-04-13 14:30:51,152 [INFO] BEGIN (implicit)
2025-04-13 14:30:51,152 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:30:51,152 [INFO] [cached since 101.1s ago] (1,)
2025-04-13 14:30:51,153 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:30:51,153 [INFO] [cached since 101.1s ago] (1,)
2025-04-13 14:30:51,154 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:30:51,154 [INFO] [cached since 101.1s ago] (4,)
2025-04-13 14:30:51,456 [INFO] ROLLBACK
2025-04-13 14:30:51,456 [INFO] Update id=423804836 is handled. Duration 306 ms by bot id=7974627539
2025-04-13 14:30:54,715 [INFO] Update id=423804837 is handled. Duration 177 ms by bot id=7974627539
2025-04-13 14:30:56,720 [INFO] BEGIN (implicit)
2025-04-13 14:30:56,732 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:30:56,732 [INFO] [cached since 127.9s ago] ()
2025-04-13 14:30:56,998 [INFO] ROLLBACK
2025-04-13 14:30:56,998 [INFO] Update id=423804838 is handled. Duration 279 ms by bot id=7974627539
2025-04-13 14:30:57,902 [INFO] Update id=423804839 is handled. Duration 135 ms by bot id=7974627539
2025-04-13 14:31:00,836 [INFO] BEGIN (implicit)
2025-04-13 14:31:00,836 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:31:00,836 [INFO] [cached since 101.7s ago] ()
2025-04-13 14:31:00,997 [INFO] ROLLBACK
2025-04-13 14:31:00,998 [INFO] Update id=423804840 is handled. Duration 163 ms by bot id=7974627539
2025-04-13 14:31:05,245 [INFO] Update id=423804841 is handled. Duration 159 ms by bot id=7974627539
2025-04-13 14:31:07,649 [INFO] Update id=423804842 is handled. Duration 209 ms by bot id=7974627539
2025-04-13 14:31:11,731 [INFO] BEGIN (implicit)
2025-04-13 14:31:11,732 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:31:11,732 [INFO] [cached since 142.9s ago] ()
2025-04-13 14:31:11,884 [INFO] ROLLBACK
2025-04-13 14:31:11,885 [INFO] Update id=423804843 is handled. Duration 153 ms by bot id=7974627539
2025-04-13 14:31:15,615 [INFO] BEGIN (implicit)
2025-04-13 14:31:15,616 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:31:15,616 [INFO] [cached since 96.68s ago] ()
2025-04-13 14:31:15,617 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:31:15,617 [INFO] [cached since 125.6s ago] (1,)
2025-04-13 14:31:15,618 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:31:15,618 [INFO] [cached since 125.6s ago] (4,)
2025-04-13 14:31:16,042 [INFO] ROLLBACK
2025-04-13 14:31:16,042 [INFO] Update id=423804844 is handled. Duration 427 ms by bot id=7974627539
2025-04-13 14:31:16,853 [INFO] BEGIN (implicit)
2025-04-13 14:31:16,854 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:31:16,854 [INFO] [cached since 126.8s ago] (1,)
2025-04-13 14:31:16,855 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:31:16,855 [INFO] [cached since 126.8s ago] (1,)
2025-04-13 14:31:16,855 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:31:16,856 [INFO] [cached since 126.8s ago] (4,)
2025-04-13 14:31:17,352 [INFO] ROLLBACK
2025-04-13 14:31:17,352 [INFO] Update id=423804845 is handled. Duration 500 ms by bot id=7974627539
2025-04-13 14:31:21,821 [INFO] Update id=423804846 is handled. Duration 138 ms by bot id=7974627539
2025-04-13 14:31:24,124 [INFO] Update id=423804847 is handled. Duration 181 ms by bot id=7974627539
2025-04-13 14:31:25,917 [INFO] BEGIN (implicit)
2025-04-13 14:31:25,917 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:31:25,917 [INFO] [cached since 157.1s ago] ()
2025-04-13 14:31:26,109 [INFO] ROLLBACK
2025-04-13 14:31:26,110 [INFO] Update id=423804848 is handled. Duration 194 ms by bot id=7974627539
2025-04-13 14:31:27,856 [INFO] Update id=423804849 is handled. Duration 244 ms by bot id=7974627539
2025-04-13 14:31:31,902 [INFO] BEGIN (implicit)
2025-04-13 14:31:31,902 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:31:31,902 [INFO] [cached since 163.1s ago] ()
2025-04-13 14:31:32,051 [INFO] ROLLBACK
2025-04-13 14:31:32,051 [INFO] Update id=423804850 is handled. Duration 150 ms by bot id=7974627539
2025-04-13 14:31:33,816 [INFO] Update id=423804851 is handled. Duration 216 ms by bot id=7974627539
2025-04-13 14:31:36,015 [INFO] BEGIN (implicit)
2025-04-13 14:31:36,016 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:31:36,016 [INFO] [cached since 136.9s ago] ()
2025-04-13 14:31:36,178 [INFO] ROLLBACK
2025-04-13 14:31:36,178 [INFO] Update id=423804852 is handled. Duration 163 ms by bot id=7974627539
2025-04-13 14:31:44,125 [INFO] Update id=423804853 is not handled. Duration 315 ms by bot id=7974627539
2025-04-13 14:31:44,125 [ERROR] Cause exception while process update id=423804853 by bot id=7974627539
KeyError: 'AddProduct:new_category'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 263, in back_step_handler
    f"Ок, вы вернулись к прошлому шагу \n {AddProduct.texts[previous.state]}"
                                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'AddProduct:new_category'
2025-04-13 14:31:53,075 [INFO] Update id=423804854 is handled. Duration 360 ms by bot id=7974627539
2025-04-13 14:37:41,682 [INFO] Приложение запущено
2025-04-13 14:37:41,687 [DEBUG] Using selector: EpollSelector
2025-04-13 14:37:42,143 [INFO] select pg_catalog.version()
2025-04-13 14:37:42,143 [INFO] [raw sql] ()
2025-04-13 14:37:42,144 [INFO] select current_schema()
2025-04-13 14:37:42,144 [INFO] [raw sql] ()
2025-04-13 14:37:42,145 [INFO] show standard_conforming_strings
2025-04-13 14:37:42,145 [INFO] [raw sql] ()
2025-04-13 14:37:42,145 [INFO] BEGIN (implicit)
2025-04-13 14:37:42,148 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,148 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,149 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,149 [INFO] [cached since 0.001602s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,150 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,150 [INFO] [cached since 0.002256s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,151 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,151 [INFO] [cached since 0.00392s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,153 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,153 [INFO] [cached since 0.005791s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,154 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,155 [INFO] [cached since 0.00709s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,155 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,156 [INFO] [cached since 0.008084s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,156 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:37:42,156 [INFO] [cached since 0.008699s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:37:42,157 [INFO] COMMIT
2025-04-13 14:37:42,158 [INFO] BEGIN (implicit)
2025-04-13 14:37:42,191 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:37:42,191 [INFO] [generated in 0.00027s] ()
2025-04-13 14:37:42,194 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:37:42,194 [INFO] [generated in 0.00024s] ()
2025-04-13 14:37:42,196 [INFO] ROLLBACK
2025-04-13 14:37:42,196 [INFO] Start polling
2025-04-13 14:37:42,349 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:37:48,999 [INFO] Update id=423804855 is handled. Duration 890 ms by bot id=7974627539
2025-04-13 14:37:50,909 [INFO] BEGIN (implicit)
2025-04-13 14:37:50,910 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:37:50,910 [INFO] [cached since 8.719s ago] ()
2025-04-13 14:37:51,078 [INFO] ROLLBACK
2025-04-13 14:37:51,078 [INFO] Update id=423804856 is handled. Duration 169 ms by bot id=7974627539
2025-04-13 14:37:53,873 [INFO] BEGIN (implicit)
2025-04-13 14:37:53,875 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:37:53,875 [INFO] [generated in 0.00014s] ()
2025-04-13 14:37:53,877 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:37:53,877 [INFO] [generated in 0.00016s] (1,)
2025-04-13 14:37:53,879 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:37:53,879 [INFO] [generated in 0.00016s] (4,)
2025-04-13 14:37:54,238 [INFO] ROLLBACK
2025-04-13 14:37:54,239 [INFO] Update id=423804857 is handled. Duration 366 ms by bot id=7974627539
2025-04-13 14:37:55,732 [INFO] BEGIN (implicit)
2025-04-13 14:37:55,733 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:37:55,733 [INFO] [generated in 0.00013s] (1,)
2025-04-13 14:37:55,734 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:37:55,735 [INFO] [cached since 1.858s ago] (1,)
2025-04-13 14:37:55,735 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:37:55,735 [INFO] [cached since 1.856s ago] (4,)
2025-04-13 14:37:56,005 [INFO] ROLLBACK
2025-04-13 14:37:56,005 [INFO] Update id=423804858 is handled. Duration 274 ms by bot id=7974627539
2025-04-13 14:37:58,097 [INFO] Update id=423804859 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 14:38:00,771 [INFO] BEGIN (implicit)
2025-04-13 14:38:00,771 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:38:00,771 [INFO] [cached since 18.58s ago] ()
2025-04-13 14:38:00,900 [INFO] ROLLBACK
2025-04-13 14:38:00,901 [INFO] Update id=423804860 is handled. Duration 131 ms by bot id=7974627539
2025-04-13 14:38:03,146 [INFO] Update id=423804861 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 14:38:05,343 [INFO] BEGIN (implicit)
2025-04-13 14:38:05,343 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:38:05,344 [INFO] [generated in 0.00011s] ()
2025-04-13 14:38:05,532 [INFO] ROLLBACK
2025-04-13 14:38:05,532 [INFO] Update id=423804862 is handled. Duration 190 ms by bot id=7974627539
2025-04-13 14:38:07,766 [INFO] Update id=423804863 is handled. Duration 309 ms by bot id=7974627539
2025-04-13 14:38:21,223 [INFO] Update id=423804864 is handled. Duration 258 ms by bot id=7974627539
2025-04-13 14:38:27,605 [INFO] BEGIN (implicit)
2025-04-13 14:38:27,605 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:38:27,605 [INFO] [cached since 45.41s ago] ()
2025-04-13 14:38:27,759 [INFO] ROLLBACK
2025-04-13 14:38:27,760 [INFO] Update id=423804865 is handled. Duration 156 ms by bot id=7974627539
2025-04-13 14:38:29,230 [INFO] BEGIN (implicit)
2025-04-13 14:38:29,230 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:38:29,230 [INFO] [cached since 35.36s ago] ()
2025-04-13 14:38:29,231 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:38:29,231 [INFO] [cached since 35.35s ago] (1,)
2025-04-13 14:38:29,232 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:38:29,232 [INFO] [cached since 35.35s ago] (4,)
2025-04-13 14:38:29,909 [INFO] ROLLBACK
2025-04-13 14:38:29,909 [INFO] Update id=423804866 is handled. Duration 680 ms by bot id=7974627539
2025-04-13 14:38:30,593 [INFO] BEGIN (implicit)
2025-04-13 14:38:30,593 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:38:30,593 [INFO] [cached since 34.86s ago] (1,)
2025-04-13 14:38:30,594 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:38:30,594 [INFO] [cached since 36.72s ago] (1,)
2025-04-13 14:38:30,595 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:38:30,595 [INFO] [cached since 36.72s ago] (4,)
2025-04-13 14:38:31,467 [INFO] ROLLBACK
2025-04-13 14:38:31,468 [INFO] Update id=423804867 is handled. Duration 876 ms by bot id=7974627539
2025-04-13 14:38:33,914 [INFO] Update id=423804868 is handled. Duration 161 ms by bot id=7974627539
2025-04-13 14:38:34,771 [INFO] Update id=423804869 is handled. Duration 127 ms by bot id=7974627539
2025-04-13 14:38:36,892 [INFO] BEGIN (implicit)
2025-04-13 14:38:36,892 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:38:36,892 [INFO] [cached since 41.16s ago] (1,)
2025-04-13 14:38:36,893 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:38:36,893 [INFO] [cached since 43.02s ago] (1,)
2025-04-13 14:38:36,894 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:38:36,894 [INFO] [cached since 43.02s ago] (4,)
2025-04-13 14:38:37,747 [INFO] ROLLBACK
2025-04-13 14:38:37,748 [INFO] Update id=423804870 is handled. Duration 857 ms by bot id=7974627539
2025-04-13 14:38:39,423 [INFO] Update id=423804871 is handled. Duration 200 ms by bot id=7974627539
2025-04-13 14:38:40,455 [INFO] Update id=423804872 is handled. Duration 164 ms by bot id=7974627539
2025-04-13 14:38:44,302 [INFO] Update id=423804873 is handled. Duration 156 ms by bot id=7974627539
2025-04-13 14:38:45,473 [INFO] BEGIN (implicit)
2025-04-13 14:38:45,474 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:38:45,474 [INFO] [cached since 63.28s ago] ()
2025-04-13 14:38:45,726 [INFO] ROLLBACK
2025-04-13 14:38:45,726 [INFO] Update id=423804874 is handled. Duration 253 ms by bot id=7974627539
2025-04-13 14:39:00,060 [INFO] Update id=423804875 is handled. Duration 260 ms by bot id=7974627539
2025-04-13 14:39:06,356 [INFO] BEGIN (implicit)
2025-04-13 14:39:06,356 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:39:06,356 [INFO] [cached since 84.17s ago] ()
2025-04-13 14:39:06,520 [INFO] ROLLBACK
2025-04-13 14:39:06,521 [INFO] Update id=423804876 is handled. Duration 166 ms by bot id=7974627539
2025-04-13 14:39:10,105 [INFO] BEGIN (implicit)
2025-04-13 14:39:10,106 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:39:10,106 [INFO] [cached since 64.76s ago] ()
2025-04-13 14:39:10,351 [INFO] ROLLBACK
2025-04-13 14:39:10,351 [INFO] Update id=423804877 is handled. Duration 247 ms by bot id=7974627539
2025-04-13 14:42:33,393 [ERROR] Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-04-13 14:42:33,393 [WARNING] Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7974627539)
2025-04-13 14:45:39,974 [INFO] Приложение запущено
2025-04-13 14:45:39,980 [DEBUG] Using selector: EpollSelector
2025-04-13 14:45:40,520 [INFO] select pg_catalog.version()
2025-04-13 14:45:40,520 [INFO] [raw sql] ()
2025-04-13 14:45:40,521 [INFO] select current_schema()
2025-04-13 14:45:40,521 [INFO] [raw sql] ()
2025-04-13 14:45:40,522 [INFO] show standard_conforming_strings
2025-04-13 14:45:40,522 [INFO] [raw sql] ()
2025-04-13 14:45:40,522 [INFO] BEGIN (implicit)
2025-04-13 14:45:40,525 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,525 [INFO] [generated in 0.00022s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,526 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,526 [INFO] [cached since 0.00179s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,527 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,527 [INFO] [cached since 0.002249s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,527 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,527 [INFO] [cached since 0.002677s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,527 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,528 [INFO] [cached since 0.003065s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,528 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,528 [INFO] [cached since 0.003535s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,528 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,528 [INFO] [cached since 0.003991s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,529 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:45:40,529 [INFO] [cached since 0.00431s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:45:40,529 [INFO] COMMIT
2025-04-13 14:45:40,530 [INFO] BEGIN (implicit)
2025-04-13 14:45:40,544 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:45:40,545 [INFO] [generated in 0.00017s] ()
2025-04-13 14:45:40,547 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:45:40,547 [INFO] [generated in 0.00014s] ()
2025-04-13 14:45:40,547 [INFO] ROLLBACK
2025-04-13 14:45:40,548 [INFO] Start polling
2025-04-13 14:45:40,644 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:45:45,829 [INFO] Update id=423804878 is handled. Duration 312 ms by bot id=7974627539
2025-04-13 14:45:55,884 [INFO] BEGIN (implicit)
2025-04-13 14:45:55,884 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:45:55,885 [INFO] [cached since 15.34s ago] ()
2025-04-13 14:45:56,069 [INFO] ROLLBACK
2025-04-13 14:45:56,070 [INFO] Update id=423804879 is handled. Duration 186 ms by bot id=7974627539
2025-04-13 14:45:57,245 [INFO] BEGIN (implicit)
2025-04-13 14:45:57,246 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:45:57,246 [INFO] [generated in 0.00013s] ()
2025-04-13 14:45:57,248 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:45:57,248 [INFO] [generated in 0.00016s] (4,)
2025-04-13 14:45:57,250 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:45:57,251 [INFO] [generated in 0.00021s] (1,)
2025-04-13 14:45:57,489 [INFO] ROLLBACK
2025-04-13 14:45:57,490 [INFO] Update id=423804880 is handled. Duration 246 ms by bot id=7974627539
2025-04-13 14:45:58,338 [INFO] BEGIN (implicit)
2025-04-13 14:45:58,338 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:45:58,338 [INFO] [generated in 0.00013s] (1,)
2025-04-13 14:45:58,339 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:45:58,340 [INFO] [cached since 1.091s ago] (4,)
2025-04-13 14:45:58,340 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:45:58,340 [INFO] [cached since 1.09s ago] (1,)
2025-04-13 14:45:58,538 [INFO] ROLLBACK
2025-04-13 14:45:58,539 [INFO] Update id=423804881 is handled. Duration 202 ms by bot id=7974627539
2025-04-13 14:46:03,222 [INFO] Update id=423804882 is handled. Duration 339 ms by bot id=7974627539
2025-04-13 14:46:03,857 [INFO] BEGIN (implicit)
2025-04-13 14:46:03,857 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:46:03,857 [INFO] [cached since 23.31s ago] ()
2025-04-13 14:46:03,977 [INFO] ROLLBACK
2025-04-13 14:46:03,978 [INFO] Update id=423804883 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 14:46:09,166 [INFO] Update id=423804884 is handled. Duration 169 ms by bot id=7974627539
2025-04-13 14:46:12,574 [INFO] BEGIN (implicit)
2025-04-13 14:46:12,574 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:46:12,574 [INFO] [cached since 32.03s ago] ()
2025-04-13 14:46:12,753 [INFO] ROLLBACK
2025-04-13 14:46:12,754 [INFO] Update id=423804885 is handled. Duration 181 ms by bot id=7974627539
2025-04-13 14:46:13,567 [INFO] Update id=423804886 is handled. Duration 110 ms by bot id=7974627539
2025-04-13 14:46:14,735 [INFO] Update id=423804887 is handled. Duration 209 ms by bot id=7974627539
2025-04-13 14:46:17,881 [INFO] BEGIN (implicit)
2025-04-13 14:46:17,881 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:46:17,881 [INFO] [generated in 0.00018s] ()
2025-04-13 14:46:17,991 [INFO] ROLLBACK
2025-04-13 14:46:17,992 [INFO] Update id=423804888 is handled. Duration 112 ms by bot id=7974627539
2025-04-13 14:46:19,581 [INFO] Update id=423804889 is not handled. Duration 0 ms by bot id=7974627539
2025-04-13 14:46:19,581 [ERROR] Cause exception while process update id=423804889 by bot id=7974627539
AttributeError: 'State' object has no attribute 'previous_state'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 264, in back_step_handler
    previous = previous.previous_state  # Ищем предыдущее состояние
               ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'State' object has no attribute 'previous_state'
2025-04-13 14:46:52,365 [INFO] Приложение запущено
2025-04-13 14:46:52,371 [DEBUG] Using selector: EpollSelector
2025-04-13 14:46:52,746 [INFO] select pg_catalog.version()
2025-04-13 14:46:52,746 [INFO] [raw sql] ()
2025-04-13 14:46:52,747 [INFO] select current_schema()
2025-04-13 14:46:52,747 [INFO] [raw sql] ()
2025-04-13 14:46:52,748 [INFO] show standard_conforming_strings
2025-04-13 14:46:52,748 [INFO] [raw sql] ()
2025-04-13 14:46:52,748 [INFO] BEGIN (implicit)
2025-04-13 14:46:52,751 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,751 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,752 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,752 [INFO] [cached since 0.001693s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,753 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,753 [INFO] [cached since 0.002195s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,753 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,753 [INFO] [cached since 0.002665s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,754 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,754 [INFO] [cached since 0.003046s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,754 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,754 [INFO] [cached since 0.003408s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,754 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,754 [INFO] [cached since 0.00379s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,755 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:46:52,755 [INFO] [cached since 0.00407s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:46:52,755 [INFO] COMMIT
2025-04-13 14:46:52,755 [INFO] BEGIN (implicit)
2025-04-13 14:46:52,770 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:46:52,770 [INFO] [generated in 0.00018s] ()
2025-04-13 14:46:52,772 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:46:52,772 [INFO] [generated in 0.00012s] ()
2025-04-13 14:46:52,773 [INFO] ROLLBACK
2025-04-13 14:46:52,773 [INFO] Start polling
2025-04-13 14:46:52,874 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:46:54,840 [INFO] Update id=423804890 is handled. Duration 382 ms by bot id=7974627539
2025-04-13 14:46:56,178 [INFO] BEGIN (implicit)
2025-04-13 14:46:56,178 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:46:56,178 [INFO] [cached since 3.408s ago] ()
2025-04-13 14:46:56,300 [INFO] ROLLBACK
2025-04-13 14:46:56,300 [INFO] Update id=423804891 is handled. Duration 123 ms by bot id=7974627539
2025-04-13 14:46:57,565 [INFO] BEGIN (implicit)
2025-04-13 14:46:57,567 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:46:57,567 [INFO] [generated in 0.00013s] ()
2025-04-13 14:46:57,570 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:46:57,570 [INFO] [generated in 0.00020s] (1,)
2025-04-13 14:46:57,572 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:46:57,572 [INFO] [generated in 0.00018s] (4,)
2025-04-13 14:46:57,822 [INFO] ROLLBACK
2025-04-13 14:46:57,822 [INFO] Update id=423804892 is handled. Duration 258 ms by bot id=7974627539
2025-04-13 14:46:58,666 [INFO] BEGIN (implicit)
2025-04-13 14:46:58,667 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:46:58,667 [INFO] [generated in 0.00014s] (1,)
2025-04-13 14:46:58,668 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:46:58,668 [INFO] [cached since 1.099s ago] (1,)
2025-04-13 14:46:58,669 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:46:58,669 [INFO] [cached since 1.098s ago] (4,)
2025-04-13 14:46:58,992 [INFO] ROLLBACK
2025-04-13 14:46:58,992 [INFO] Update id=423804893 is handled. Duration 327 ms by bot id=7974627539
2025-04-13 14:47:00,408 [INFO] Update id=423804894 is handled. Duration 216 ms by bot id=7974627539
2025-04-13 14:47:00,957 [INFO] BEGIN (implicit)
2025-04-13 14:47:00,957 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:47:00,957 [INFO] [cached since 8.187s ago] ()
2025-04-13 14:47:01,094 [INFO] ROLLBACK
2025-04-13 14:47:01,095 [INFO] Update id=423804895 is handled. Duration 138 ms by bot id=7974627539
2025-04-13 14:47:02,995 [INFO] Update id=423804896 is handled. Duration 137 ms by bot id=7974627539
2025-04-13 14:47:05,110 [INFO] BEGIN (implicit)
2025-04-13 14:47:05,110 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:47:05,110 [INFO] [cached since 12.34s ago] ()
2025-04-13 14:47:05,235 [INFO] ROLLBACK
2025-04-13 14:47:05,236 [INFO] Update id=423804897 is handled. Duration 127 ms by bot id=7974627539
2025-04-13 14:47:06,411 [INFO] Update id=423804898 is handled. Duration 189 ms by bot id=7974627539
2025-04-13 14:47:09,564 [INFO] BEGIN (implicit)
2025-04-13 14:47:09,565 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:47:09,565 [INFO] [generated in 0.00012s] ()
2025-04-13 14:47:09,683 [INFO] ROLLBACK
2025-04-13 14:47:09,684 [INFO] Update id=423804899 is handled. Duration 120 ms by bot id=7974627539
2025-04-13 14:47:12,738 [INFO] Update id=423804900 is not handled. Duration 1 ms by bot id=7974627539
2025-04-13 14:47:12,738 [ERROR] Cause exception while process update id=423804900 by bot id=7974627539
KeyError: 'AddProduct:new_category'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 263, in back_step_handler
    f"Ок, вы вернулись к прошлому шагу \n {AddProduct.texts[previous.state]}"
                                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'AddProduct:new_category'
2025-04-13 14:47:23,932 [INFO] Update id=423804901 is handled. Duration 380 ms by bot id=7974627539
2025-04-13 14:47:32,468 [INFO] Update id=423804902 is handled. Duration 118 ms by bot id=7974627539
2025-04-13 14:47:40,600 [INFO] Update id=423804903 is handled. Duration 123 ms by bot id=7974627539
2025-04-13 14:47:42,578 [INFO] BEGIN (implicit)
2025-04-13 14:47:42,579 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:47:42,579 [INFO] [cached since 49.81s ago] ()
2025-04-13 14:47:42,756 [INFO] ROLLBACK
2025-04-13 14:47:42,757 [INFO] Update id=423804904 is handled. Duration 179 ms by bot id=7974627539
2025-04-13 14:47:44,196 [INFO] BEGIN (implicit)
2025-04-13 14:47:44,196 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:47:44,197 [INFO] [cached since 46.63s ago] ()
2025-04-13 14:47:44,198 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:47:44,198 [INFO] [cached since 46.63s ago] (1,)
2025-04-13 14:47:44,198 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:47:44,198 [INFO] [cached since 46.63s ago] (4,)
2025-04-13 14:47:44,435 [INFO] ROLLBACK
2025-04-13 14:47:44,436 [INFO] Update id=423804905 is handled. Duration 240 ms by bot id=7974627539
2025-04-13 14:47:45,458 [INFO] BEGIN (implicit)
2025-04-13 14:47:45,459 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:47:45,459 [INFO] [cached since 46.79s ago] (1,)
2025-04-13 14:47:45,460 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:47:45,460 [INFO] [cached since 47.89s ago] (1,)
2025-04-13 14:47:45,461 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:47:45,461 [INFO] [cached since 47.89s ago] (4,)
2025-04-13 14:47:45,682 [INFO] ROLLBACK
2025-04-13 14:47:45,683 [INFO] Update id=423804906 is handled. Duration 225 ms by bot id=7974627539
2025-04-13 14:47:47,309 [INFO] Update id=423804907 is handled. Duration 138 ms by bot id=7974627539
2025-04-13 14:47:47,905 [INFO] BEGIN (implicit)
2025-04-13 14:47:47,905 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:47:47,905 [INFO] [cached since 55.14s ago] ()
2025-04-13 14:47:48,033 [INFO] ROLLBACK
2025-04-13 14:47:48,033 [INFO] Update id=423804908 is handled. Duration 129 ms by bot id=7974627539
2025-04-13 14:47:49,535 [INFO] Update id=423804909 is handled. Duration 217 ms by bot id=7974627539
2025-04-13 14:47:51,322 [INFO] BEGIN (implicit)
2025-04-13 14:47:51,322 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:47:51,322 [INFO] [cached since 41.76s ago] ()
2025-04-13 14:47:51,617 [INFO] ROLLBACK
2025-04-13 14:47:51,617 [INFO] Update id=423804910 is handled. Duration 296 ms by bot id=7974627539
2025-04-13 14:47:53,558 [INFO] Update id=423804911 is not handled. Duration 115 ms by bot id=7974627539
2025-04-13 14:47:53,558 [ERROR] Cause exception while process update id=423804911 by bot id=7974627539
KeyError: 'AddProduct:new_category'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 263, in back_step_handler
    f"Ок, вы вернулись к прошлому шагу \n {AddProduct.texts[previous.state]}"
                                           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
KeyError: 'AddProduct:new_category'
2025-04-13 14:47:56,447 [INFO] Update id=423804912 is handled. Duration 218 ms by bot id=7974627539
2025-04-13 14:48:03,133 [INFO] Update id=423804913 is handled. Duration 235 ms by bot id=7974627539
2025-04-13 14:48:14,336 [INFO] Update id=423804914 is handled. Duration 271 ms by bot id=7974627539
2025-04-13 14:48:15,966 [INFO] Update id=423804915 is handled. Duration 119 ms by bot id=7974627539
2025-04-13 14:52:56,812 [INFO] Приложение запущено
2025-04-13 14:52:56,817 [DEBUG] Using selector: EpollSelector
2025-04-13 14:52:57,564 [INFO] select pg_catalog.version()
2025-04-13 14:52:57,564 [INFO] [raw sql] ()
2025-04-13 14:52:57,565 [INFO] select current_schema()
2025-04-13 14:52:57,565 [INFO] [raw sql] ()
2025-04-13 14:52:57,566 [INFO] show standard_conforming_strings
2025-04-13 14:52:57,566 [INFO] [raw sql] ()
2025-04-13 14:52:57,566 [INFO] BEGIN (implicit)
2025-04-13 14:52:57,568 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,569 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,571 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,571 [INFO] [cached since 0.002371s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,571 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,571 [INFO] [cached since 0.002907s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,572 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,572 [INFO] [cached since 0.003381s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,572 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,572 [INFO] [cached since 0.003922s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,573 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,573 [INFO] [cached since 0.004429s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,573 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,573 [INFO] [cached since 0.004901s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,574 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:52:57,574 [INFO] [cached since 0.005377s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:52:57,574 [INFO] COMMIT
2025-04-13 14:52:57,575 [INFO] BEGIN (implicit)
2025-04-13 14:52:57,592 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:52:57,592 [INFO] [generated in 0.00016s] ()
2025-04-13 14:52:57,594 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:52:57,594 [INFO] [generated in 0.00019s] ()
2025-04-13 14:52:57,596 [INFO] ROLLBACK
2025-04-13 14:52:57,596 [INFO] Start polling
2025-04-13 14:52:57,682 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:53:00,650 [INFO] BEGIN (implicit)
2025-04-13 14:53:00,651 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:53:00,651 [INFO] [cached since 3.059s ago] ()
2025-04-13 14:53:01,155 [INFO] ROLLBACK
2025-04-13 14:53:01,156 [INFO] Update id=423804916 is handled. Duration 506 ms by bot id=7974627539
2025-04-13 14:53:02,166 [INFO] BEGIN (implicit)
2025-04-13 14:53:02,168 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:53:02,168 [INFO] [generated in 0.00012s] ()
2025-04-13 14:53:02,170 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:53:02,170 [INFO] [generated in 0.00016s] (1,)
2025-04-13 14:53:02,172 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:53:02,172 [INFO] [generated in 0.00018s] (4,)
2025-04-13 14:53:02,511 [INFO] ROLLBACK
2025-04-13 14:53:02,511 [INFO] Update id=423804917 is handled. Duration 346 ms by bot id=7974627539
2025-04-13 14:53:03,091 [INFO] BEGIN (implicit)
2025-04-13 14:53:03,092 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:53:03,092 [INFO] [generated in 0.00013s] (1,)
2025-04-13 14:53:03,094 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:53:03,094 [INFO] [cached since 0.9237s ago] (1,)
2025-04-13 14:53:03,095 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:53:03,095 [INFO] [cached since 0.9231s ago] (4,)
2025-04-13 14:53:03,359 [INFO] ROLLBACK
2025-04-13 14:53:03,360 [INFO] Update id=423804918 is handled. Duration 270 ms by bot id=7974627539
2025-04-13 14:53:05,548 [INFO] Update id=423804919 is handled. Duration 149 ms by bot id=7974627539
2025-04-13 14:53:06,170 [INFO] BEGIN (implicit)
2025-04-13 14:53:06,170 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:53:06,170 [INFO] [cached since 8.578s ago] ()
2025-04-13 14:53:06,332 [INFO] ROLLBACK
2025-04-13 14:53:06,332 [INFO] Update id=423804920 is handled. Duration 163 ms by bot id=7974627539
2025-04-13 14:53:12,134 [INFO] Update id=423804921 is handled. Duration 416 ms by bot id=7974627539
2025-04-13 14:54:56,235 [INFO] Приложение запущено
2025-04-13 14:54:56,242 [DEBUG] Using selector: EpollSelector
2025-04-13 14:54:56,747 [INFO] select pg_catalog.version()
2025-04-13 14:54:56,747 [INFO] [raw sql] ()
2025-04-13 14:54:56,748 [INFO] select current_schema()
2025-04-13 14:54:56,748 [INFO] [raw sql] ()
2025-04-13 14:54:56,749 [INFO] show standard_conforming_strings
2025-04-13 14:54:56,749 [INFO] [raw sql] ()
2025-04-13 14:54:56,750 [INFO] BEGIN (implicit)
2025-04-13 14:54:56,752 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,752 [INFO] [generated in 0.00022s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,755 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,755 [INFO] [cached since 0.003426s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,756 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,756 [INFO] [cached since 0.004039s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,756 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,757 [INFO] [cached since 0.004475s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,757 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,757 [INFO] [cached since 0.004869s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,757 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,757 [INFO] [cached since 0.00528s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,758 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,758 [INFO] [cached since 0.005745s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,758 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 14:54:56,758 [INFO] [cached since 0.006113s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 14:54:56,759 [INFO] COMMIT
2025-04-13 14:54:56,759 [INFO] BEGIN (implicit)
2025-04-13 14:54:56,778 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:54:56,778 [INFO] [generated in 0.00049s] ()
2025-04-13 14:54:56,782 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 14:54:56,782 [INFO] [generated in 0.00031s] ()
2025-04-13 14:54:56,785 [INFO] ROLLBACK
2025-04-13 14:54:56,786 [INFO] Start polling
2025-04-13 14:54:56,919 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 14:55:01,614 [INFO] Update id=423804922 is handled. Duration 413 ms by bot id=7974627539
2025-04-13 14:55:03,110 [INFO] BEGIN (implicit)
2025-04-13 14:55:03,110 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:55:03,110 [INFO] [cached since 6.332s ago] ()
2025-04-13 14:55:03,566 [INFO] ROLLBACK
2025-04-13 14:55:03,566 [INFO] Update id=423804923 is handled. Duration 457 ms by bot id=7974627539
2025-04-13 14:55:04,426 [INFO] BEGIN (implicit)
2025-04-13 14:55:04,428 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 14:55:04,428 [INFO] [generated in 0.00016s] ()
2025-04-13 14:55:04,430 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:55:04,430 [INFO] [generated in 0.00021s] (4,)
2025-04-13 14:55:04,432 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:55:04,432 [INFO] [generated in 0.00019s] (1,)
2025-04-13 14:55:05,016 [INFO] ROLLBACK
2025-04-13 14:55:05,017 [INFO] Update id=423804924 is handled. Duration 592 ms by bot id=7974627539
2025-04-13 14:55:05,820 [INFO] BEGIN (implicit)
2025-04-13 14:55:05,821 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 14:55:05,821 [INFO] [generated in 0.00014s] (1,)
2025-04-13 14:55:05,822 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 14:55:05,822 [INFO] [cached since 1.393s ago] (4,)
2025-04-13 14:55:05,823 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 14:55:05,823 [INFO] [cached since 1.391s ago] (1,)
2025-04-13 14:55:06,143 [INFO] ROLLBACK
2025-04-13 14:55:06,143 [INFO] Update id=423804925 is handled. Duration 324 ms by bot id=7974627539
2025-04-13 14:55:07,575 [INFO] Update id=423804926 is handled. Duration 152 ms by bot id=7974627539
2025-04-13 14:55:10,122 [INFO] BEGIN (implicit)
2025-04-13 14:55:10,122 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:55:10,122 [INFO] [cached since 13.34s ago] ()
2025-04-13 14:55:10,324 [INFO] ROLLBACK
2025-04-13 14:55:10,324 [INFO] Update id=423804927 is handled. Duration 203 ms by bot id=7974627539
2025-04-13 14:55:12,605 [INFO] Update id=423804928 is handled. Duration 266 ms by bot id=7974627539
2025-04-13 14:55:15,402 [INFO] BEGIN (implicit)
2025-04-13 14:55:15,402 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 14:55:15,402 [INFO] [cached since 18.62s ago] ()
2025-04-13 14:55:15,570 [INFO] ROLLBACK
2025-04-13 14:55:15,570 [INFO] Update id=423804929 is handled. Duration 170 ms by bot id=7974627539
2025-04-13 14:55:17,104 [INFO] BEGIN (implicit)
2025-04-13 14:55:17,105 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 14:55:17,105 [INFO] [generated in 0.00011s] ()
2025-04-13 14:55:17,293 [INFO] ROLLBACK
2025-04-13 14:55:17,293 [INFO] Update id=423804930 is handled. Duration 190 ms by bot id=7974627539
2025-04-13 14:55:18,908 [INFO] Update id=423804931 is handled. Duration 247 ms by bot id=7974627539
2025-04-13 14:55:21,580 [INFO] Update id=423804932 is handled. Duration 251 ms by bot id=7974627539
2025-04-13 20:18:40,785 [INFO] Приложение запущено
2025-04-13 20:18:40,886 [DEBUG] Using selector: EpollSelector
2025-04-13 20:18:41,890 [INFO] select pg_catalog.version()
2025-04-13 20:18:41,890 [INFO] [raw sql] ()
2025-04-13 20:18:41,891 [INFO] select current_schema()
2025-04-13 20:18:41,891 [INFO] [raw sql] ()
2025-04-13 20:18:41,892 [INFO] show standard_conforming_strings
2025-04-13 20:18:41,892 [INFO] [raw sql] ()
2025-04-13 20:18:41,893 [INFO] BEGIN (implicit)
2025-04-13 20:18:41,895 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,895 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,896 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,896 [INFO] [cached since 0.001646s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,897 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,897 [INFO] [cached since 0.002208s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,897 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,898 [INFO] [cached since 0.002707s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,898 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,898 [INFO] [cached since 0.003151s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,898 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,898 [INFO] [cached since 0.003589s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,899 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,899 [INFO] [cached since 0.004012s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,899 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:18:41,899 [INFO] [cached since 0.004334s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:18:41,899 [INFO] COMMIT
2025-04-13 20:18:41,900 [INFO] BEGIN (implicit)
2025-04-13 20:18:41,916 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:18:41,916 [INFO] [generated in 0.00017s] ()
2025-04-13 20:18:41,918 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:18:41,918 [INFO] [generated in 0.00014s] ()
2025-04-13 20:18:41,919 [INFO] ROLLBACK
2025-04-13 20:18:41,919 [INFO] Start polling
2025-04-13 20:18:42,025 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:19:03,060 [INFO] Update id=423804933 is handled. Duration 439 ms by bot id=7974627539
2025-04-13 20:19:04,796 [INFO] BEGIN (implicit)
2025-04-13 20:19:04,796 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:19:04,796 [INFO] [cached since 22.88s ago] ()
2025-04-13 20:19:04,962 [INFO] ROLLBACK
2025-04-13 20:19:04,963 [INFO] Update id=423804934 is handled. Duration 167 ms by bot id=7974627539
2025-04-13 20:19:06,558 [INFO] BEGIN (implicit)
2025-04-13 20:19:06,560 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 20:19:06,561 [INFO] [generated in 0.00014s] ()
2025-04-13 20:19:06,563 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:19:06,563 [INFO] [generated in 0.00020s] (4,)
2025-04-13 20:19:06,565 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:19:06,565 [INFO] [generated in 0.00018s] (1,)
2025-04-13 20:19:06,938 [INFO] ROLLBACK
2025-04-13 20:19:06,939 [INFO] Update id=423804935 is handled. Duration 381 ms by bot id=7974627539
2025-04-13 20:19:07,864 [INFO] BEGIN (implicit)
2025-04-13 20:19:07,865 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:19:07,865 [INFO] [generated in 0.00016s] (1,)
2025-04-13 20:19:07,867 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:19:07,867 [INFO] [cached since 1.304s ago] (4,)
2025-04-13 20:19:07,868 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:19:07,868 [INFO] [cached since 1.303s ago] (1,)
2025-04-13 20:19:08,175 [INFO] ROLLBACK
2025-04-13 20:19:08,175 [INFO] Update id=423804936 is handled. Duration 312 ms by bot id=7974627539
2025-04-13 20:19:11,287 [INFO] Update id=423804937 is handled. Duration 178 ms by bot id=7974627539
2025-04-13 20:19:12,701 [INFO] BEGIN (implicit)
2025-04-13 20:19:12,701 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:19:12,702 [INFO] [cached since 30.79s ago] ()
2025-04-13 20:19:12,849 [INFO] ROLLBACK
2025-04-13 20:19:12,850 [INFO] Update id=423804938 is handled. Duration 149 ms by bot id=7974627539
2025-04-13 20:19:21,489 [INFO] BEGIN (implicit)
2025-04-13 20:19:21,490 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:19:21,490 [INFO] [generated in 0.00012s] ()
2025-04-13 20:19:22,192 [INFO] ROLLBACK
2025-04-13 20:19:22,193 [INFO] Update id=423804939 is handled. Duration 704 ms by bot id=7974627539
2025-04-13 20:26:24,953 [INFO] Приложение запущено
2025-04-13 20:26:25,026 [DEBUG] Using selector: EpollSelector
2025-04-13 20:26:25,673 [INFO] select pg_catalog.version()
2025-04-13 20:26:25,673 [INFO] [raw sql] ()
2025-04-13 20:26:25,674 [INFO] select current_schema()
2025-04-13 20:26:25,674 [INFO] [raw sql] ()
2025-04-13 20:26:25,675 [INFO] show standard_conforming_strings
2025-04-13 20:26:25,675 [INFO] [raw sql] ()
2025-04-13 20:26:25,675 [INFO] BEGIN (implicit)
2025-04-13 20:26:25,677 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,677 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,679 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,679 [INFO] [cached since 0.001509s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,679 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,679 [INFO] [cached since 0.001989s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,679 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,680 [INFO] [cached since 0.002413s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,680 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,680 [INFO] [cached since 0.003025s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,680 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,680 [INFO] [cached since 0.003386s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,681 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,681 [INFO] [cached since 0.003769s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,681 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:26:25,681 [INFO] [cached since 0.004101s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:26:25,682 [INFO] COMMIT
2025-04-13 20:26:25,682 [INFO] BEGIN (implicit)
2025-04-13 20:26:25,697 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:26:25,697 [INFO] [generated in 0.00018s] ()
2025-04-13 20:26:25,700 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:26:25,700 [INFO] [generated in 0.00021s] ()
2025-04-13 20:26:25,702 [INFO] ROLLBACK
2025-04-13 20:26:25,702 [INFO] Start polling
2025-04-13 20:26:25,804 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:26:46,716 [INFO] Update id=423804940 is handled. Duration 433 ms by bot id=7974627539
2025-04-13 20:26:48,388 [INFO] BEGIN (implicit)
2025-04-13 20:26:48,388 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:26:48,389 [INFO] [cached since 22.69s ago] ()
2025-04-13 20:26:48,539 [INFO] ROLLBACK
2025-04-13 20:26:48,540 [INFO] Update id=423804941 is handled. Duration 152 ms by bot id=7974627539
2025-04-13 20:30:47,244 [INFO] Приложение запущено
2025-04-13 20:30:47,250 [DEBUG] Using selector: EpollSelector
2025-04-13 20:30:48,003 [INFO] select pg_catalog.version()
2025-04-13 20:30:48,003 [INFO] [raw sql] ()
2025-04-13 20:30:48,004 [INFO] select current_schema()
2025-04-13 20:30:48,004 [INFO] [raw sql] ()
2025-04-13 20:30:48,004 [INFO] show standard_conforming_strings
2025-04-13 20:30:48,004 [INFO] [raw sql] ()
2025-04-13 20:30:48,005 [INFO] BEGIN (implicit)
2025-04-13 20:30:48,007 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,007 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,009 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,009 [INFO] [cached since 0.001607s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,009 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,009 [INFO] [cached since 0.002123s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,010 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,010 [INFO] [cached since 0.002587s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,010 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,010 [INFO] [cached since 0.003112s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,011 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,011 [INFO] [cached since 0.004318s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,013 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,013 [INFO] [cached since 0.00557s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,013 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:30:48,013 [INFO] [cached since 0.006s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:30:48,013 [INFO] COMMIT
2025-04-13 20:30:48,014 [INFO] BEGIN (implicit)
2025-04-13 20:30:48,031 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:30:48,031 [INFO] [generated in 0.00016s] ()
2025-04-13 20:30:48,033 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:30:48,033 [INFO] [generated in 0.00022s] ()
2025-04-13 20:30:48,035 [INFO] ROLLBACK
2025-04-13 20:30:48,035 [INFO] Start polling
2025-04-13 20:30:48,277 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:30:54,677 [INFO] Update id=423804942 is handled. Duration 464 ms by bot id=7974627539
2025-04-13 20:30:56,897 [INFO] BEGIN (implicit)
2025-04-13 20:30:56,897 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:30:56,897 [INFO] [cached since 8.866s ago] ()
2025-04-13 20:30:57,053 [INFO] ROLLBACK
2025-04-13 20:30:57,053 [INFO] Update id=423804943 is handled. Duration 157 ms by bot id=7974627539
2025-04-13 20:31:01,054 [INFO] BEGIN (implicit)
2025-04-13 20:31:01,056 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 20:31:01,056 [INFO] [generated in 0.00012s] ()
2025-04-13 20:31:01,058 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:31:01,058 [INFO] [generated in 0.00016s] (1,)
2025-04-13 20:31:01,060 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:31:01,060 [INFO] [generated in 0.00019s] (4,)
2025-04-13 20:31:01,377 [INFO] ROLLBACK
2025-04-13 20:31:01,378 [INFO] Update id=423804944 is handled. Duration 324 ms by bot id=7974627539
2025-04-13 20:31:03,706 [INFO] BEGIN (implicit)
2025-04-13 20:31:03,707 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:31:03,707 [INFO] [generated in 0.00013s] (1,)
2025-04-13 20:31:03,709 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:31:03,709 [INFO] [cached since 2.651s ago] (1,)
2025-04-13 20:31:03,709 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:31:03,709 [INFO] [cached since 2.65s ago] (4,)
2025-04-13 20:31:03,965 [INFO] ROLLBACK
2025-04-13 20:31:03,966 [INFO] Update id=423804945 is handled. Duration 260 ms by bot id=7974627539
2025-04-13 20:35:06,561 [INFO] Приложение запущено
2025-04-13 20:35:06,567 [DEBUG] Using selector: EpollSelector
2025-04-13 20:35:07,097 [INFO] select pg_catalog.version()
2025-04-13 20:35:07,097 [INFO] [raw sql] ()
2025-04-13 20:35:07,098 [INFO] select current_schema()
2025-04-13 20:35:07,098 [INFO] [raw sql] ()
2025-04-13 20:35:07,098 [INFO] show standard_conforming_strings
2025-04-13 20:35:07,098 [INFO] [raw sql] ()
2025-04-13 20:35:07,099 [INFO] BEGIN (implicit)
2025-04-13 20:35:07,101 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,101 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,103 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,103 [INFO] [cached since 0.001797s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,103 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,103 [INFO] [cached since 0.002298s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,104 [INFO] [cached since 0.002718s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,104 [INFO] [cached since 0.0031s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,104 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,104 [INFO] [cached since 0.003452s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,105 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,105 [INFO] [cached since 0.003812s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,105 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:07,105 [INFO] [cached since 0.004076s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:07,105 [INFO] COMMIT
2025-04-13 20:35:07,106 [INFO] BEGIN (implicit)
2025-04-13 20:35:07,121 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:35:07,121 [INFO] [generated in 0.00016s] ()
2025-04-13 20:35:07,123 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:35:07,123 [INFO] [generated in 0.00012s] ()
2025-04-13 20:35:07,123 [INFO] ROLLBACK
2025-04-13 20:35:07,124 [INFO] Start polling
2025-04-13 20:35:07,220 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:35:12,350 [INFO] BEGIN (implicit)
2025-04-13 20:35:12,352 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:35:12,352 [INFO] [generated in 0.00014s] (1,)
2025-04-13 20:35:12,354 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:35:12,355 [INFO] [generated in 0.00020s] (4,)
2025-04-13 20:35:12,357 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:35:12,357 [INFO] [generated in 0.00024s] (1,)
2025-04-13 20:35:12,930 [INFO] ROLLBACK
2025-04-13 20:35:12,931 [INFO] Update id=423804946 is handled. Duration 582 ms by bot id=7974627539
2025-04-13 20:35:42,225 [INFO] Приложение запущено
2025-04-13 20:35:42,300 [DEBUG] Using selector: EpollSelector
2025-04-13 20:35:42,862 [INFO] select pg_catalog.version()
2025-04-13 20:35:42,863 [INFO] [raw sql] ()
2025-04-13 20:35:42,864 [INFO] select current_schema()
2025-04-13 20:35:42,864 [INFO] [raw sql] ()
2025-04-13 20:35:42,864 [INFO] show standard_conforming_strings
2025-04-13 20:35:42,864 [INFO] [raw sql] ()
2025-04-13 20:35:42,865 [INFO] BEGIN (implicit)
2025-04-13 20:35:42,867 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,868 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,869 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,869 [INFO] [cached since 0.001949s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,870 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,870 [INFO] [cached since 0.002544s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,870 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,870 [INFO] [cached since 0.002992s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,871 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,871 [INFO] [cached since 0.003409s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,871 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,871 [INFO] [cached since 0.003778s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,872 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,872 [INFO] [cached since 0.004279s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,872 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:35:42,872 [INFO] [cached since 0.0047s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:35:42,872 [INFO] COMMIT
2025-04-13 20:35:42,874 [INFO] BEGIN (implicit)
2025-04-13 20:35:42,889 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:35:42,889 [INFO] [generated in 0.00037s] ()
2025-04-13 20:35:42,892 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:35:42,892 [INFO] [generated in 0.00012s] ()
2025-04-13 20:35:42,893 [INFO] ROLLBACK
2025-04-13 20:35:42,893 [INFO] Start polling
2025-04-13 20:35:42,988 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:35:46,825 [INFO] BEGIN (implicit)
2025-04-13 20:35:46,827 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:35:46,828 [INFO] [generated in 0.00020s] (1,)
2025-04-13 20:35:46,830 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:35:46,830 [INFO] [generated in 0.00015s] (4,)
2025-04-13 20:35:46,831 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:35:46,831 [INFO] [generated in 0.00020s] (1,)
2025-04-13 20:35:47,376 [INFO] ROLLBACK
2025-04-13 20:35:47,376 [INFO] Update id=423804947 is handled. Duration 552 ms by bot id=7974627539
2025-04-13 20:35:50,241 [INFO] Update id=423804948 is handled. Duration 149 ms by bot id=7974627539
2025-04-13 20:35:51,770 [INFO] BEGIN (implicit)
2025-04-13 20:35:51,770 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:35:51,770 [INFO] [cached since 8.881s ago] ()
2025-04-13 20:35:51,976 [INFO] ROLLBACK
2025-04-13 20:35:51,976 [INFO] Update id=423804949 is handled. Duration 207 ms by bot id=7974627539
2025-04-13 20:35:53,367 [INFO] BEGIN (implicit)
2025-04-13 20:35:53,367 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:35:53,367 [INFO] [generated in 0.00010s] ()
2025-04-13 20:35:53,585 [INFO] ROLLBACK
2025-04-13 20:35:53,585 [INFO] Update id=423804950 is handled. Duration 219 ms by bot id=7974627539
2025-04-13 20:35:54,935 [INFO] Update id=423804951 is handled. Duration 0 ms by bot id=7974627539
2025-04-13 20:38:56,387 [INFO] Приложение запущено
2025-04-13 20:38:56,470 [DEBUG] Using selector: EpollSelector
2025-04-13 20:38:56,995 [INFO] select pg_catalog.version()
2025-04-13 20:38:56,995 [INFO] [raw sql] ()
2025-04-13 20:38:56,996 [INFO] select current_schema()
2025-04-13 20:38:56,996 [INFO] [raw sql] ()
2025-04-13 20:38:56,997 [INFO] show standard_conforming_strings
2025-04-13 20:38:56,997 [INFO] [raw sql] ()
2025-04-13 20:38:56,997 [INFO] BEGIN (implicit)
2025-04-13 20:38:57,000 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,000 [INFO] [generated in 0.00020s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,002 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,002 [INFO] [cached since 0.002041s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,002 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,002 [INFO] [cached since 0.002533s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,003 [INFO] [cached since 0.002956s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,003 [INFO] [cached since 0.003295s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,003 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,003 [INFO] [cached since 0.00362s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,004 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,004 [INFO] [cached since 0.003944s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,004 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:38:57,004 [INFO] [cached since 0.004186s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:38:57,004 [INFO] COMMIT
2025-04-13 20:38:57,005 [INFO] BEGIN (implicit)
2025-04-13 20:38:57,022 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:38:57,022 [INFO] [generated in 0.00017s] ()
2025-04-13 20:38:57,024 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:38:57,024 [INFO] [generated in 0.00012s] ()
2025-04-13 20:38:57,024 [INFO] ROLLBACK
2025-04-13 20:38:57,025 [INFO] Start polling
2025-04-13 20:38:57,124 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:39:13,245 [INFO] Update id=423804952 is handled. Duration 463 ms by bot id=7974627539
2025-04-13 20:39:15,468 [INFO] BEGIN (implicit)
2025-04-13 20:39:15,468 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:39:15,468 [INFO] [cached since 18.45s ago] ()
2025-04-13 20:39:15,610 [INFO] ROLLBACK
2025-04-13 20:39:15,611 [INFO] Update id=423804953 is handled. Duration 143 ms by bot id=7974627539
2025-04-13 20:39:17,440 [INFO] BEGIN (implicit)
2025-04-13 20:39:17,442 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-13 20:39:17,442 [INFO] [generated in 0.00014s] ()
2025-04-13 20:39:17,444 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:39:17,444 [INFO] [generated in 0.00017s] (1,)
2025-04-13 20:39:17,446 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:39:17,446 [INFO] [generated in 0.00020s] (4,)
2025-04-13 20:39:17,769 [INFO] ROLLBACK
2025-04-13 20:39:17,769 [INFO] Update id=423804954 is handled. Duration 331 ms by bot id=7974627539
2025-04-13 20:39:18,517 [INFO] BEGIN (implicit)
2025-04-13 20:39:18,518 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:39:18,518 [INFO] [generated in 0.00025s] (1,)
2025-04-13 20:39:18,519 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:39:18,519 [INFO] [cached since 1.075s ago] (1,)
2025-04-13 20:39:18,520 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:39:18,520 [INFO] [cached since 1.074s ago] (4,)
2025-04-13 20:39:18,757 [INFO] ROLLBACK
2025-04-13 20:39:18,757 [INFO] Update id=423804955 is handled. Duration 241 ms by bot id=7974627539
2025-04-13 20:39:20,220 [INFO] Update id=423804956 is handled. Duration 137 ms by bot id=7974627539
2025-04-13 20:39:29,142 [INFO] BEGIN (implicit)
2025-04-13 20:39:29,143 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:39:29,143 [INFO] [cached since 32.12s ago] ()
2025-04-13 20:39:29,338 [INFO] ROLLBACK
2025-04-13 20:39:29,339 [INFO] Update id=423804957 is handled. Duration 197 ms by bot id=7974627539
2025-04-13 20:39:31,995 [INFO] Update id=423804958 is handled. Duration 312 ms by bot id=7974627539
2025-04-13 20:41:09,468 [INFO] Приложение запущено
2025-04-13 20:41:09,474 [DEBUG] Using selector: EpollSelector
2025-04-13 20:41:10,000 [INFO] select pg_catalog.version()
2025-04-13 20:41:10,000 [INFO] [raw sql] ()
2025-04-13 20:41:10,001 [INFO] select current_schema()
2025-04-13 20:41:10,001 [INFO] [raw sql] ()
2025-04-13 20:41:10,002 [INFO] show standard_conforming_strings
2025-04-13 20:41:10,002 [INFO] [raw sql] ()
2025-04-13 20:41:10,002 [INFO] BEGIN (implicit)
2025-04-13 20:41:10,005 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,005 [INFO] [generated in 0.00020s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,007 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,007 [INFO] [cached since 0.001734s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,007 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,007 [INFO] [cached since 0.002205s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,008 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,008 [INFO] [cached since 0.002578s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,008 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,008 [INFO] [cached since 0.002926s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,008 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,008 [INFO] [cached since 0.003263s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,009 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,009 [INFO] [cached since 0.003631s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,009 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:41:10,009 [INFO] [cached since 0.00391s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:41:10,009 [INFO] COMMIT
2025-04-13 20:41:10,010 [INFO] BEGIN (implicit)
2025-04-13 20:41:10,034 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:41:10,035 [INFO] [generated in 0.00039s] ()
2025-04-13 20:41:10,038 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:41:10,038 [INFO] [generated in 0.00047s] ()
2025-04-13 20:41:10,040 [INFO] ROLLBACK
2025-04-13 20:41:10,041 [INFO] Start polling
2025-04-13 20:41:10,143 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:41:13,429 [INFO] BEGIN (implicit)
2025-04-13 20:41:13,431 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:41:13,431 [INFO] [generated in 0.00014s] (1,)
2025-04-13 20:41:13,433 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:41:13,433 [INFO] [generated in 0.00016s] (4,)
2025-04-13 20:41:13,435 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:41:13,436 [INFO] [generated in 0.00021s] (1,)
2025-04-13 20:41:14,037 [INFO] ROLLBACK
2025-04-13 20:41:14,038 [INFO] Update id=423804959 is handled. Duration 610 ms by bot id=7974627539
2025-04-13 20:41:16,162 [INFO] Update id=423804960 is handled. Duration 134 ms by bot id=7974627539
2025-04-13 20:41:17,195 [INFO] BEGIN (implicit)
2025-04-13 20:41:17,195 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:41:17,195 [INFO] [cached since 7.161s ago] ()
2025-04-13 20:41:17,398 [INFO] ROLLBACK
2025-04-13 20:41:17,398 [INFO] Update id=423804961 is handled. Duration 204 ms by bot id=7974627539
2025-04-13 20:41:18,783 [INFO] BEGIN (implicit)
2025-04-13 20:41:18,784 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:41:18,784 [INFO] [generated in 0.00012s] ()
2025-04-13 20:41:19,053 [INFO] ROLLBACK
2025-04-13 20:41:19,053 [INFO] Update id=423804962 is handled. Duration 271 ms by bot id=7974627539
2025-04-13 20:41:20,889 [INFO] Update id=423804963 is handled. Duration 1 ms by bot id=7974627539
2025-04-13 20:47:04,419 [INFO] Приложение запущено
2025-04-13 20:47:04,425 [DEBUG] Using selector: EpollSelector
2025-04-13 20:47:04,920 [INFO] select pg_catalog.version()
2025-04-13 20:47:04,920 [INFO] [raw sql] ()
2025-04-13 20:47:04,921 [INFO] select current_schema()
2025-04-13 20:47:04,921 [INFO] [raw sql] ()
2025-04-13 20:47:04,922 [INFO] show standard_conforming_strings
2025-04-13 20:47:04,922 [INFO] [raw sql] ()
2025-04-13 20:47:04,922 [INFO] BEGIN (implicit)
2025-04-13 20:47:04,925 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,925 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,926 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,926 [INFO] [cached since 0.001708s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,927 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,927 [INFO] [cached since 0.002151s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,927 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,927 [INFO] [cached since 0.002522s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,927 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,927 [INFO] [cached since 0.002885s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,928 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,928 [INFO] [cached since 0.003244s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,928 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,928 [INFO] [cached since 0.003613s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,928 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:47:04,929 [INFO] [cached since 0.003966s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:47:04,929 [INFO] COMMIT
2025-04-13 20:47:04,930 [INFO] BEGIN (implicit)
2025-04-13 20:47:04,946 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:47:04,946 [INFO] [generated in 0.00015s] ()
2025-04-13 20:47:04,948 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:47:04,948 [INFO] [generated in 0.00014s] ()
2025-04-13 20:47:04,949 [INFO] ROLLBACK
2025-04-13 20:47:04,949 [INFO] Start polling
2025-04-13 20:47:05,043 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:47:06,418 [INFO] Update id=423804964 is not handled. Duration 1 ms by bot id=7974627539
2025-04-13 20:47:10,338 [INFO] BEGIN (implicit)
2025-04-13 20:47:10,340 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:47:10,341 [INFO] [generated in 0.00016s] (1,)
2025-04-13 20:47:10,343 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:47:10,343 [INFO] [generated in 0.00016s] (4,)
2025-04-13 20:47:10,345 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:47:10,345 [INFO] [generated in 0.00023s] (1,)
2025-04-13 20:47:10,987 [INFO] ROLLBACK
2025-04-13 20:47:10,988 [INFO] Update id=423804965 is handled. Duration 651 ms by bot id=7974627539
2025-04-13 20:47:12,908 [INFO] Update id=423804966 is handled. Duration 297 ms by bot id=7974627539
2025-04-13 20:47:13,954 [INFO] BEGIN (implicit)
2025-04-13 20:47:13,975 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:47:13,975 [INFO] [cached since 9.03s ago] ()
2025-04-13 20:47:14,636 [INFO] ROLLBACK
2025-04-13 20:47:14,636 [INFO] Update id=423804967 is handled. Duration 683 ms by bot id=7974627539
2025-04-13 20:47:16,477 [INFO] BEGIN (implicit)
2025-04-13 20:47:16,477 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:47:16,478 [INFO] [generated in 0.00012s] ()
2025-04-13 20:47:16,638 [INFO] ROLLBACK
2025-04-13 20:47:16,639 [INFO] Update id=423804968 is handled. Duration 162 ms by bot id=7974627539
2025-04-13 20:47:26,113 [INFO] Update id=423804969 is handled. Duration 0 ms by bot id=7974627539
2025-04-13 20:53:44,220 [INFO] Приложение запущено
2025-04-13 20:53:44,225 [DEBUG] Using selector: EpollSelector
2025-04-13 20:53:44,627 [INFO] select pg_catalog.version()
2025-04-13 20:53:44,627 [INFO] [raw sql] ()
2025-04-13 20:53:44,628 [INFO] select current_schema()
2025-04-13 20:53:44,628 [INFO] [raw sql] ()
2025-04-13 20:53:44,629 [INFO] show standard_conforming_strings
2025-04-13 20:53:44,629 [INFO] [raw sql] ()
2025-04-13 20:53:44,629 [INFO] BEGIN (implicit)
2025-04-13 20:53:44,632 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,632 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,634 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,634 [INFO] [cached since 0.002321s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,635 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,635 [INFO] [cached since 0.00283s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,635 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,635 [INFO] [cached since 0.003249s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,636 [INFO] [cached since 0.003622s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,636 [INFO] [cached since 0.003968s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,636 [INFO] [cached since 0.00432s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,637 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:53:44,637 [INFO] [cached since 0.004649s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:53:44,637 [INFO] COMMIT
2025-04-13 20:53:44,638 [INFO] BEGIN (implicit)
2025-04-13 20:53:44,654 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:53:44,654 [INFO] [generated in 0.00021s] ()
2025-04-13 20:53:44,657 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:53:44,657 [INFO] [generated in 0.00013s] ()
2025-04-13 20:53:44,658 [INFO] ROLLBACK
2025-04-13 20:53:44,658 [INFO] Start polling
2025-04-13 20:53:44,739 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:53:54,072 [INFO] BEGIN (implicit)
2025-04-13 20:53:54,074 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:53:54,075 [INFO] [generated in 0.00019s] (1,)
2025-04-13 20:53:54,077 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:53:54,077 [INFO] [generated in 0.00017s] (4,)
2025-04-13 20:53:54,079 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:53:54,079 [INFO] [generated in 0.00019s] (1,)
2025-04-13 20:53:54,516 [INFO] ROLLBACK
2025-04-13 20:53:54,517 [INFO] Update id=423804970 is handled. Duration 446 ms by bot id=7974627539
2025-04-13 20:53:57,861 [INFO] Update id=423804971 is handled. Duration 124 ms by bot id=7974627539
2025-04-13 20:53:58,567 [INFO] BEGIN (implicit)
2025-04-13 20:53:58,568 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:53:58,568 [INFO] [cached since 13.91s ago] ()
2025-04-13 20:53:58,690 [INFO] ROLLBACK
2025-04-13 20:53:58,691 [INFO] Update id=423804972 is handled. Duration 124 ms by bot id=7974627539
2025-04-13 20:54:02,350 [INFO] BEGIN (implicit)
2025-04-13 20:54:02,351 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:54:02,351 [INFO] [generated in 0.00012s] ()
2025-04-13 20:54:02,471 [INFO] ROLLBACK
2025-04-13 20:54:02,472 [INFO] Update id=423804973 is handled. Duration 122 ms by bot id=7974627539
2025-04-13 20:54:03,819 [INFO] Update id=423804974 is handled. Duration 0 ms by bot id=7974627539
2025-04-13 20:58:40,424 [INFO] Приложение запущено
2025-04-13 20:58:40,430 [DEBUG] Using selector: EpollSelector
2025-04-13 20:58:40,827 [INFO] select pg_catalog.version()
2025-04-13 20:58:40,827 [INFO] [raw sql] ()
2025-04-13 20:58:40,828 [INFO] select current_schema()
2025-04-13 20:58:40,828 [INFO] [raw sql] ()
2025-04-13 20:58:40,829 [INFO] show standard_conforming_strings
2025-04-13 20:58:40,829 [INFO] [raw sql] ()
2025-04-13 20:58:40,829 [INFO] BEGIN (implicit)
2025-04-13 20:58:40,831 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,832 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,833 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,833 [INFO] [cached since 0.001747s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,834 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,834 [INFO] [cached since 0.002294s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,834 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,834 [INFO] [cached since 0.002759s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,835 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,835 [INFO] [cached since 0.003394s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,835 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,835 [INFO] [cached since 0.004068s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,836 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,836 [INFO] [cached since 0.004465s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,836 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-13 20:58:40,836 [INFO] [cached since 0.004741s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-13 20:58:40,836 [INFO] COMMIT
2025-04-13 20:58:40,837 [INFO] BEGIN (implicit)
2025-04-13 20:58:40,854 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:58:40,854 [INFO] [generated in 0.00018s] ()
2025-04-13 20:58:40,855 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-13 20:58:40,856 [INFO] [generated in 0.00012s] ()
2025-04-13 20:58:40,856 [INFO] ROLLBACK
2025-04-13 20:58:40,857 [INFO] Start polling
2025-04-13 20:58:40,948 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-13 20:58:51,530 [INFO] BEGIN (implicit)
2025-04-13 20:58:51,532 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-13 20:58:51,533 [INFO] [generated in 0.00013s] (1,)
2025-04-13 20:58:51,535 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-13 20:58:51,536 [INFO] [generated in 0.00027s] (1,)
2025-04-13 20:58:51,539 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-13 20:58:51,539 [INFO] [generated in 0.00029s] (4,)
2025-04-13 20:58:52,064 [INFO] ROLLBACK
2025-04-13 20:58:52,064 [INFO] Update id=423804975 is handled. Duration 535 ms by bot id=7974627539
2025-04-13 20:58:55,639 [INFO] Update id=423804976 is handled. Duration 169 ms by bot id=7974627539
2025-04-13 20:58:56,519 [INFO] BEGIN (implicit)
2025-04-13 20:58:56,519 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-13 20:58:56,519 [INFO] [cached since 15.67s ago] ()
2025-04-13 20:58:56,831 [INFO] ROLLBACK
2025-04-13 20:58:56,831 [INFO] Update id=423804977 is handled. Duration 313 ms by bot id=7974627539
2025-04-13 20:58:58,607 [INFO] BEGIN (implicit)
2025-04-13 20:58:58,607 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:58:58,607 [INFO] [generated in 0.00013s] ()
2025-04-13 20:58:58,731 [INFO] ROLLBACK
2025-04-13 20:58:58,731 [INFO] Update id=423804978 is handled. Duration 125 ms by bot id=7974627539
2025-04-13 20:59:00,002 [INFO] Update id=423804979 is handled. Duration 0 ms by bot id=7974627539
2025-04-13 20:59:55,331 [INFO] BEGIN (implicit)
2025-04-13 20:59:55,331 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:59:55,331 [INFO] [cached since 56.72s ago] ()
2025-04-13 20:59:55,552 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-13 20:59:55,552 [INFO] [cached since 56.95s ago] ()
2025-04-13 20:59:55,794 [INFO] ROLLBACK
2025-04-13 20:59:55,795 [INFO] Update id=423804980 is handled. Duration 465 ms by bot id=7974627539
2025-04-15 09:37:13,867 [INFO] Приложение запущено
2025-04-15 09:37:14,019 [DEBUG] Using selector: EpollSelector
2025-04-15 09:37:14,822 [INFO] select pg_catalog.version()
2025-04-15 09:37:14,884 [INFO] [raw sql] ()
2025-04-15 09:37:14,986 [INFO] select current_schema()
2025-04-15 09:37:14,986 [INFO] [raw sql] ()
2025-04-15 09:37:15,008 [INFO] show standard_conforming_strings
2025-04-15 09:37:15,008 [INFO] [raw sql] ()
2025-04-15 09:37:15,009 [INFO] BEGIN (implicit)
2025-04-15 09:37:15,012 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,012 [INFO] [generated in 0.00029s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,222 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,222 [INFO] [cached since 0.2108s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,223 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,223 [INFO] [cached since 0.2114s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,223 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,223 [INFO] [cached since 0.2118s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,224 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,224 [INFO] [cached since 0.2121s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,224 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,224 [INFO] [cached since 0.2125s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,224 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,224 [INFO] [cached since 0.2128s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,224 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:37:15,225 [INFO] [cached since 0.2131s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:37:15,225 [INFO] COMMIT
2025-04-15 09:37:15,225 [INFO] BEGIN (implicit)
2025-04-15 09:37:15,242 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-15 09:37:15,242 [INFO] [generated in 0.00016s] ()
2025-04-15 09:37:15,353 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-15 09:37:15,353 [INFO] [generated in 0.00014s] ()
2025-04-15 09:37:15,364 [INFO] ROLLBACK
2025-04-15 09:37:15,364 [INFO] Start polling
2025-04-15 09:37:15,477 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-15 09:37:44,839 [INFO] Update id=423804981 is handled. Duration 457 ms by bot id=7974627539
2025-04-15 09:37:46,411 [INFO] BEGIN (implicit)
2025-04-15 09:37:46,412 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-15 09:37:46,412 [INFO] [cached since 31.17s ago] ()
2025-04-15 09:37:46,821 [INFO] ROLLBACK
2025-04-15 09:37:46,821 [INFO] Update id=423804982 is handled. Duration 410 ms by bot id=7974627539
2025-04-15 09:37:47,664 [INFO] BEGIN (implicit)
2025-04-15 09:37:47,666 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-15 09:37:47,666 [INFO] [generated in 0.00012s] ()
2025-04-15 09:37:47,801 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-15 09:37:47,802 [INFO] [generated in 0.00021s] (4,)
2025-04-15 09:37:47,823 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-15 09:37:47,823 [INFO] [generated in 0.00021s] (1,)
2025-04-15 09:37:48,137 [INFO] ROLLBACK
2025-04-15 09:37:48,138 [INFO] Update id=423804983 is handled. Duration 475 ms by bot id=7974627539
2025-04-15 09:37:49,064 [INFO] BEGIN (implicit)
2025-04-15 09:37:49,065 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-15 09:37:49,065 [INFO] [generated in 0.00014s] (1,)
2025-04-15 09:37:49,066 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-15 09:37:49,066 [INFO] [cached since 1.265s ago] (4,)
2025-04-15 09:37:49,067 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-15 09:37:49,067 [INFO] [cached since 1.244s ago] (1,)
2025-04-15 09:37:49,198 [INFO] ROLLBACK
2025-04-15 09:37:49,199 [INFO] Update id=423804984 is not handled. Duration 135 ms by bot id=7974627539
2025-04-15 09:37:49,199 [ERROR] Cause exception while process update id=423804984 by bot id=7974627539
ValidationError: 1 validation error for InlineKeyboardMarkup
inline_keyboard
  Field required [type=missing, input_value={'row_width': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/admin_private.py", line 192, in change_product_callback
    reply_markup=change_product_kb()
  File "/home/ilmir/dev_code/sultanshop_tg_bot/kbds/inline.py", line 227, in change_product_kb
    keyboard = InlineKeyboardMarkup(row_width=3)
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for InlineKeyboardMarkup
inline_keyboard
  Field required [type=missing, input_value={'row_width': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-04-15 09:41:30,918 [INFO] Приложение запущено
2025-04-15 09:41:30,924 [DEBUG] Using selector: EpollSelector
2025-04-15 09:41:31,474 [INFO] select pg_catalog.version()
2025-04-15 09:41:31,474 [INFO] [raw sql] ()
2025-04-15 09:41:31,475 [INFO] select current_schema()
2025-04-15 09:41:31,475 [INFO] [raw sql] ()
2025-04-15 09:41:31,476 [INFO] show standard_conforming_strings
2025-04-15 09:41:31,476 [INFO] [raw sql] ()
2025-04-15 09:41:31,476 [INFO] BEGIN (implicit)
2025-04-15 09:41:31,479 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,479 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,480 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,481 [INFO] [cached since 0.00203s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,481 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,481 [INFO] [cached since 0.002625s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,482 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,482 [INFO] [cached since 0.003084s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,482 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,482 [INFO] [cached since 0.003489s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,482 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,482 [INFO] [cached since 0.00386s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,483 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,483 [INFO] [cached since 0.004269s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,483 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-15 09:41:31,483 [INFO] [cached since 0.004592s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-15 09:41:31,484 [INFO] COMMIT
2025-04-15 09:41:31,485 [INFO] BEGIN (implicit)
2025-04-15 09:41:31,501 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-15 09:41:31,501 [INFO] [generated in 0.00020s] ()
2025-04-15 09:41:31,503 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-15 09:41:31,503 [INFO] [generated in 0.00015s] ()
2025-04-15 09:41:31,504 [INFO] ROLLBACK
2025-04-15 09:41:31,504 [INFO] Start polling
2025-04-15 09:41:31,606 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-15 09:41:36,587 [INFO] BEGIN (implicit)
2025-04-15 09:41:36,589 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-15 09:41:36,590 [INFO] [generated in 0.00026s] (1,)
2025-04-15 09:41:36,592 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-15 09:41:36,592 [INFO] [generated in 0.00020s] (1,)
2025-04-15 09:41:36,594 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-15 09:41:36,595 [INFO] [generated in 0.00020s] (4,)
2025-04-15 09:41:37,240 [INFO] ROLLBACK
2025-04-15 09:41:37,241 [INFO] Update id=423804985 is handled. Duration 655 ms by bot id=7974627539
2025-04-15 09:41:53,146 [INFO] Update id=423804986 is handled. Duration 375 ms by bot id=7974627539
2025-04-15 09:42:15,548 [INFO] Update id=423804987 is handled. Duration 227 ms by bot id=7974627539
2025-04-16 11:33:30,064 [INFO] Приложение запущено
2025-04-16 11:33:30,185 [DEBUG] Using selector: EpollSelector
2025-04-16 11:33:33,265 [INFO] select pg_catalog.version()
2025-04-16 11:33:33,265 [INFO] [raw sql] ()
2025-04-16 11:33:33,366 [INFO] select current_schema()
2025-04-16 11:33:33,366 [INFO] [raw sql] ()
2025-04-16 11:33:33,374 [INFO] show standard_conforming_strings
2025-04-16 11:33:33,374 [INFO] [raw sql] ()
2025-04-16 11:33:33,375 [INFO] BEGIN (implicit)
2025-04-16 11:33:33,377 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,377 [INFO] [generated in 0.00020s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,473 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,473 [INFO] [cached since 0.09584s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,474 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,474 [INFO] [cached since 0.09652s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,474 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,474 [INFO] [cached since 0.09691s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,474 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,474 [INFO] [cached since 0.09729s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,475 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,475 [INFO] [cached since 0.09763s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,475 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,475 [INFO] [cached since 0.09801s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,475 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:33:33,475 [INFO] [cached since 0.09828s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:33:33,476 [INFO] COMMIT
2025-04-16 11:33:33,476 [INFO] BEGIN (implicit)
2025-04-16 11:33:33,492 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 11:33:33,492 [INFO] [generated in 0.00016s] ()
2025-04-16 11:33:33,599 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:33:33,599 [INFO] [generated in 0.00016s] ()
2025-04-16 11:33:33,620 [INFO] ROLLBACK
2025-04-16 11:33:33,620 [INFO] Start polling
2025-04-16 11:33:34,108 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 11:34:52,439 [INFO] BEGIN (implicit)
2025-04-16 11:34:52,439 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:34:52,439 [INFO] [cached since 78.84s ago] ()
2025-04-16 11:34:53,710 [INFO] ROLLBACK
2025-04-16 11:34:53,711 [INFO] Update id=423804988 is handled. Duration 1272 ms by bot id=7974627539
2025-04-16 11:35:09,800 [INFO] BEGIN (implicit)
2025-04-16 11:35:09,800 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:35:09,800 [INFO] [cached since 96.2s ago] ()
2025-04-16 11:35:10,156 [INFO] ROLLBACK
2025-04-16 11:35:10,157 [INFO] Update id=423804989 is handled. Duration 357 ms by bot id=7974627539
2025-04-16 11:35:24,654 [INFO] BEGIN (implicit)
2025-04-16 11:35:24,654 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:35:24,654 [INFO] [cached since 111.1s ago] ()
2025-04-16 11:35:24,655 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:35:24,655 [INFO] [generated in 0.00013s] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'main')
2025-04-16 11:35:25,103 [INFO] COMMIT
2025-04-16 11:35:26,005 [INFO] Update id=423804990 is handled. Duration 1352 ms by bot id=7974627539
2025-04-16 11:35:29,109 [INFO] BEGIN (implicit)
2025-04-16 11:35:29,110 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:35:29,110 [INFO] [cached since 115.5s ago] ()
2025-04-16 11:35:29,522 [INFO] ROLLBACK
2025-04-16 11:35:29,522 [INFO] Update id=423804991 is handled. Duration 413 ms by bot id=7974627539
2025-04-16 11:35:40,551 [INFO] BEGIN (implicit)
2025-04-16 11:35:40,551 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:35:40,551 [INFO] [cached since 127s ago] ()
2025-04-16 11:35:40,552 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:35:40,552 [INFO] [cached since 15.9s ago] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'about')
2025-04-16 11:35:40,553 [INFO] COMMIT
2025-04-16 11:35:41,211 [INFO] Update id=423804992 is handled. Duration 660 ms by bot id=7974627539
2025-04-16 11:35:43,369 [INFO] BEGIN (implicit)
2025-04-16 11:35:43,369 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:35:43,369 [INFO] [cached since 129.8s ago] ()
2025-04-16 11:35:43,761 [INFO] ROLLBACK
2025-04-16 11:35:43,761 [INFO] Update id=423804993 is handled. Duration 393 ms by bot id=7974627539
2025-04-16 11:36:05,048 [INFO] BEGIN (implicit)
2025-04-16 11:36:05,048 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:05,049 [INFO] [cached since 151.4s ago] ()
2025-04-16 11:36:05,050 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:36:05,050 [INFO] [cached since 40.39s ago] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'payment')
2025-04-16 11:36:05,050 [INFO] COMMIT
2025-04-16 11:36:05,477 [INFO] Update id=423804994 is handled. Duration 429 ms by bot id=7974627539
2025-04-16 11:36:06,731 [INFO] BEGIN (implicit)
2025-04-16 11:36:06,731 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:06,731 [INFO] [cached since 153.1s ago] ()
2025-04-16 11:36:06,998 [INFO] ROLLBACK
2025-04-16 11:36:06,998 [INFO] Update id=423804995 is handled. Duration 267 ms by bot id=7974627539
2025-04-16 11:36:24,188 [INFO] BEGIN (implicit)
2025-04-16 11:36:24,188 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:24,188 [INFO] [cached since 170.6s ago] ()
2025-04-16 11:36:24,190 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:36:24,190 [INFO] [cached since 59.53s ago] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'shipping')
2025-04-16 11:36:24,190 [INFO] COMMIT
2025-04-16 11:36:24,685 [INFO] Update id=423804996 is handled. Duration 497 ms by bot id=7974627539
2025-04-16 11:36:27,899 [INFO] BEGIN (implicit)
2025-04-16 11:36:27,899 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:27,899 [INFO] [cached since 174.3s ago] ()
2025-04-16 11:36:28,356 [INFO] ROLLBACK
2025-04-16 11:36:28,356 [INFO] Update id=423804997 is handled. Duration 458 ms by bot id=7974627539
2025-04-16 11:36:36,060 [INFO] BEGIN (implicit)
2025-04-16 11:36:36,060 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:36,060 [INFO] [cached since 182.5s ago] ()
2025-04-16 11:36:36,061 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:36:36,062 [INFO] [cached since 71.41s ago] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'catalog')
2025-04-16 11:36:36,062 [INFO] COMMIT
2025-04-16 11:36:36,515 [INFO] Update id=423804998 is handled. Duration 455 ms by bot id=7974627539
2025-04-16 11:36:38,134 [INFO] BEGIN (implicit)
2025-04-16 11:36:38,134 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:38,134 [INFO] [cached since 184.5s ago] ()
2025-04-16 11:36:38,454 [INFO] ROLLBACK
2025-04-16 11:36:38,454 [INFO] Update id=423804999 is handled. Duration 321 ms by bot id=7974627539
2025-04-16 11:36:49,104 [INFO] BEGIN (implicit)
2025-04-16 11:36:49,104 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:36:49,104 [INFO] [cached since 195.5s ago] ()
2025-04-16 11:36:49,105 [INFO] UPDATE banner SET image=$1::VARCHAR, updated=now() WHERE banner.name = $2::VARCHAR
2025-04-16 11:36:49,105 [INFO] [cached since 84.45s ago] ('AgACAgIAAxkBAAIB42f_ec2Bo1dpcEc0O6ffKIVYH3zmAALS-jEbBf0BSPMMquBVY9pEAQADAgADeQADNgQ', 'cart')
2025-04-16 11:36:49,105 [INFO] COMMIT
2025-04-16 11:36:49,668 [INFO] Update id=423805000 is handled. Duration 564 ms by bot id=7974627539
2025-04-16 11:37:03,874 [INFO] BEGIN (implicit)
2025-04-16 11:37:03,875 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:37:03,875 [INFO] [generated in 0.00015s] ('main',)
2025-04-16 11:37:04,360 [INFO] ROLLBACK
2025-04-16 11:37:04,360 [INFO] Update id=423805001 is handled. Duration 487 ms by bot id=7974627539
2025-04-16 11:37:08,724 [INFO] BEGIN (implicit)
2025-04-16 11:37:08,724 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:37:08,724 [INFO] [cached since 4.85s ago] ('catalog',)
2025-04-16 11:37:08,725 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 11:37:08,725 [INFO] [cached since 215.2s ago] ()
2025-04-16 11:37:09,504 [INFO] BEGIN (implicit)
2025-04-16 11:37:09,507 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-16 11:37:09,507 [INFO] [generated in 0.00021s] (6903748145,)
2025-04-16 11:37:09,566 [INFO] ROLLBACK
2025-04-16 11:37:09,566 [INFO] Update id=423805002 is handled. Duration 842 ms by bot id=7974627539
2025-04-16 11:37:09,719 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:37:09,720 [INFO] [cached since 5.845s ago] ('cart',)
2025-04-16 11:37:10,506 [INFO] ROLLBACK
2025-04-16 11:37:10,506 [INFO] Update id=423805003 is handled. Duration 1021 ms by bot id=7974627539
2025-04-16 11:37:13,259 [INFO] BEGIN (implicit)
2025-04-16 11:37:13,260 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:37:13,260 [INFO] [cached since 9.385s ago] ('main',)
2025-04-16 11:37:14,113 [INFO] ROLLBACK
2025-04-16 11:37:14,113 [INFO] Update id=423805004 is handled. Duration 854 ms by bot id=7974627539
2025-04-16 11:52:34,555 [INFO] Приложение запущено
2025-04-16 11:52:34,670 [DEBUG] Using selector: EpollSelector
2025-04-16 11:52:36,507 [INFO] select pg_catalog.version()
2025-04-16 11:52:36,507 [INFO] [raw sql] ()
2025-04-16 11:52:36,508 [INFO] select current_schema()
2025-04-16 11:52:36,508 [INFO] [raw sql] ()
2025-04-16 11:52:36,509 [INFO] show standard_conforming_strings
2025-04-16 11:52:36,509 [INFO] [raw sql] ()
2025-04-16 11:52:36,510 [INFO] BEGIN (implicit)
2025-04-16 11:52:36,512 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,512 [INFO] [generated in 0.00022s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,513 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,513 [INFO] [cached since 0.001647s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,514 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,514 [INFO] [cached since 0.002107s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,514 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,514 [INFO] [cached since 0.002621s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,515 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,515 [INFO] [cached since 0.003159s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,515 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,515 [INFO] [cached since 0.003572s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,516 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,516 [INFO] [cached since 0.003966s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,516 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:52:36,516 [INFO] [cached since 0.004279s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:52:36,516 [INFO] COMMIT
2025-04-16 11:52:36,517 [INFO] BEGIN (implicit)
2025-04-16 11:52:36,535 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 11:52:36,535 [INFO] [generated in 0.00021s] ()
2025-04-16 11:52:36,537 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:52:36,537 [INFO] [generated in 0.00012s] ()
2025-04-16 11:52:36,538 [INFO] ROLLBACK
2025-04-16 11:52:36,538 [INFO] Start polling
2025-04-16 11:52:37,246 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 11:52:41,468 [INFO] BEGIN (implicit)
2025-04-16 11:52:41,469 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:52:41,469 [INFO] [generated in 0.00015s] ('contacts',)
2025-04-16 11:52:41,470 [INFO] ROLLBACK
2025-04-16 11:52:41,470 [INFO] Update id=423805005 is not handled. Duration 2 ms by bot id=7974627539
2025-04-16 11:52:41,470 [ERROR] Cause exception while process update id=423805005 by bot id=7974627539
AttributeError: 'NoneType' object has no attribute 'image'
Traceback (most recent call last):
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/middlewares/db.py", line 22, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        observer=observer, update_type=update_type, event=telegram_event, **data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/venv/lib/python3.13/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/user_private.py", line 72, in user_menu
    media, reply_markup = await get_menu_content(
                          ^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 242, in get_menu_content
    return await main_menu(session, level, menu_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ilmir/dev_code/sultanshop_tg_bot/handlers/menu_processing.py", line 33, in main_menu
    image = InputMediaPhoto(media=banner.image, caption=banner.description)
                                  ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'image'
2025-04-16 11:53:17,862 [INFO] BEGIN (implicit)
2025-04-16 11:53:17,862 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:53:17,862 [INFO] [cached since 41.33s ago] ()
2025-04-16 11:53:19,456 [INFO] ROLLBACK
2025-04-16 11:53:19,456 [INFO] Update id=423805006 is handled. Duration 1594 ms by bot id=7974627539
2025-04-16 11:57:20,965 [INFO] Приложение запущено
2025-04-16 11:57:20,971 [DEBUG] Using selector: EpollSelector
2025-04-16 11:57:24,546 [INFO] select pg_catalog.version()
2025-04-16 11:57:24,546 [INFO] [raw sql] ()
2025-04-16 11:57:24,547 [INFO] select current_schema()
2025-04-16 11:57:24,547 [INFO] [raw sql] ()
2025-04-16 11:57:24,547 [INFO] show standard_conforming_strings
2025-04-16 11:57:24,547 [INFO] [raw sql] ()
2025-04-16 11:57:24,548 [INFO] BEGIN (implicit)
2025-04-16 11:57:24,550 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,550 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,551 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,551 [INFO] [cached since 0.001543s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,552 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,552 [INFO] [cached since 0.002019s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,552 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,552 [INFO] [cached since 0.002455s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,552 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,553 [INFO] [cached since 0.002849s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,553 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,553 [INFO] [cached since 0.003306s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,553 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,553 [INFO] [cached since 0.003714s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,554 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 11:57:24,554 [INFO] [cached since 0.004018s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 11:57:24,554 [INFO] COMMIT
2025-04-16 11:57:24,555 [INFO] BEGIN (implicit)
2025-04-16 11:57:24,572 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 11:57:24,572 [INFO] [generated in 0.00016s] ()
2025-04-16 11:57:24,574 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 11:57:24,574 [INFO] [generated in 0.00012s] ()
2025-04-16 11:57:24,575 [INFO] ROLLBACK
2025-04-16 11:57:24,575 [INFO] Start polling
2025-04-16 11:57:24,884 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 11:57:32,834 [INFO] BEGIN (implicit)
2025-04-16 11:57:32,834 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:57:32,834 [INFO] [generated in 0.00014s] ('main',)
2025-04-16 11:57:34,514 [INFO] ROLLBACK
2025-04-16 11:57:34,515 [INFO] Update id=423805007 is handled. Duration 1682 ms by bot id=7974627539
2025-04-16 11:57:39,154 [INFO] BEGIN (implicit)
2025-04-16 11:57:39,154 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 11:57:39,154 [INFO] [cached since 6.32s ago] ('about',)
2025-04-16 11:57:40,024 [INFO] ROLLBACK
2025-04-16 11:57:40,024 [INFO] Update id=423805008 is handled. Duration 870 ms by bot id=7974627539
2025-04-16 12:05:29,698 [INFO] Приложение запущено
2025-04-16 12:05:29,704 [DEBUG] Using selector: EpollSelector
2025-04-16 12:05:30,648 [INFO] select pg_catalog.version()
2025-04-16 12:05:30,648 [INFO] [raw sql] ()
2025-04-16 12:05:30,651 [INFO] select current_schema()
2025-04-16 12:05:30,651 [INFO] [raw sql] ()
2025-04-16 12:05:30,651 [INFO] show standard_conforming_strings
2025-04-16 12:05:30,652 [INFO] [raw sql] ()
2025-04-16 12:05:30,652 [INFO] BEGIN (implicit)
2025-04-16 12:05:30,655 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,655 [INFO] [generated in 0.00020s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,657 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,657 [INFO] [cached since 0.002567s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,658 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,658 [INFO] [cached since 0.00319s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,658 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,659 [INFO] [cached since 0.003736s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,659 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,659 [INFO] [cached since 0.004281s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,660 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,660 [INFO] [cached since 0.004793s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,660 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,660 [INFO] [cached since 0.005286s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,661 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:30,661 [INFO] [cached since 0.005831s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:30,661 [INFO] COMMIT
2025-04-16 12:05:30,663 [INFO] BEGIN (implicit)
2025-04-16 12:05:30,680 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 12:05:30,680 [INFO] [generated in 0.00015s] ()
2025-04-16 12:05:30,682 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 12:05:30,682 [INFO] [generated in 0.00012s] ()
2025-04-16 12:05:30,683 [INFO] ROLLBACK
2025-04-16 12:05:30,683 [INFO] Start polling
2025-04-16 12:05:31,018 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 12:05:35,717 [INFO] BEGIN (implicit)
2025-04-16 12:05:35,718 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 12:05:35,718 [INFO] [generated in 0.00013s] ('main',)
2025-04-16 12:05:37,279 [INFO] ROLLBACK
2025-04-16 12:05:37,279 [INFO] Update id=423805009 is handled. Duration 1562 ms by bot id=7974627539
2025-04-16 12:05:40,614 [INFO] BEGIN (implicit)
2025-04-16 12:05:40,614 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 12:05:40,614 [INFO] [cached since 4.896s ago] ('about',)
2025-04-16 12:05:41,553 [INFO] ROLLBACK
2025-04-16 12:05:41,553 [INFO] Update id=423805010 is handled. Duration 939 ms by bot id=7974627539
2025-04-16 12:05:58,150 [INFO] Приложение запущено
2025-04-16 12:05:58,156 [DEBUG] Using selector: EpollSelector
2025-04-16 12:05:59,432 [INFO] select pg_catalog.version()
2025-04-16 12:05:59,432 [INFO] [raw sql] ()
2025-04-16 12:05:59,433 [INFO] select current_schema()
2025-04-16 12:05:59,433 [INFO] [raw sql] ()
2025-04-16 12:05:59,433 [INFO] show standard_conforming_strings
2025-04-16 12:05:59,434 [INFO] [raw sql] ()
2025-04-16 12:05:59,434 [INFO] BEGIN (implicit)
2025-04-16 12:05:59,436 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,436 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,438 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,438 [INFO] [cached since 0.001739s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,438 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,438 [INFO] [cached since 0.002273s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,439 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,439 [INFO] [cached since 0.002696s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,439 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,439 [INFO] [cached since 0.003088s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,440 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,440 [INFO] [cached since 0.003511s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,440 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,440 [INFO] [cached since 0.00391s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,440 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:05:59,440 [INFO] [cached since 0.004222s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:05:59,441 [INFO] COMMIT
2025-04-16 12:05:59,442 [INFO] BEGIN (implicit)
2025-04-16 12:05:59,459 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 12:05:59,459 [INFO] [generated in 0.00016s] ()
2025-04-16 12:05:59,460 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 12:05:59,461 [INFO] [generated in 0.00012s] ()
2025-04-16 12:05:59,461 [INFO] ROLLBACK
2025-04-16 12:05:59,462 [INFO] Start polling
2025-04-16 12:05:59,800 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 12:06:01,550 [INFO] BEGIN (implicit)
2025-04-16 12:06:01,550 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 12:06:01,551 [INFO] [generated in 0.00013s] ('main',)
2025-04-16 12:06:03,321 [INFO] ROLLBACK
2025-04-16 12:06:03,322 [INFO] Update id=423805011 is handled. Duration 1772 ms by bot id=7974627539
2025-04-16 12:06:04,721 [INFO] BEGIN (implicit)
2025-04-16 12:06:04,721 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 12:06:04,721 [INFO] [cached since 3.171s ago] ('about',)
2025-04-16 12:06:05,544 [INFO] ROLLBACK
2025-04-16 12:06:05,544 [INFO] Update id=423805012 is handled. Duration 823 ms by bot id=7974627539
2025-04-16 12:35:52,350 [INFO] Приложение запущено
2025-04-16 12:35:52,450 [DEBUG] Using selector: EpollSelector
2025-04-16 12:35:54,242 [INFO] select pg_catalog.version()
2025-04-16 12:35:54,242 [INFO] [raw sql] ()
2025-04-16 12:35:54,243 [INFO] select current_schema()
2025-04-16 12:35:54,243 [INFO] [raw sql] ()
2025-04-16 12:35:54,244 [INFO] show standard_conforming_strings
2025-04-16 12:35:54,244 [INFO] [raw sql] ()
2025-04-16 12:35:54,244 [INFO] BEGIN (implicit)
2025-04-16 12:35:54,246 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,247 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,248 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,248 [INFO] [cached since 0.001475s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,248 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,248 [INFO] [cached since 0.001942s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,249 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,249 [INFO] [cached since 0.002373s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,249 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,249 [INFO] [cached since 0.002787s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,250 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,250 [INFO] [cached since 0.003244s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,250 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,250 [INFO] [cached since 0.003737s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,250 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 12:35:54,250 [INFO] [cached since 0.004097s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 12:35:54,251 [INFO] COMMIT
2025-04-16 12:35:54,252 [INFO] BEGIN (implicit)
2025-04-16 12:35:54,266 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 12:35:54,266 [INFO] [generated in 0.00029s] ()
2025-04-16 12:35:54,268 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 12:35:54,268 [INFO] [generated in 0.00014s] ()
2025-04-16 12:35:54,269 [INFO] ROLLBACK
2025-04-16 12:35:54,269 [INFO] Start polling
2025-04-16 12:35:54,763 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 12:36:01,938 [INFO] BEGIN (implicit)
2025-04-16 12:36:01,938 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-16 12:36:01,938 [INFO] [generated in 0.00013s] ('about',)
2025-04-16 12:36:03,477 [INFO] ROLLBACK
2025-04-16 12:36:03,478 [INFO] Update id=423805013 is handled. Duration 1540 ms by bot id=7974627539
2025-04-16 16:59:57,802 [INFO] Приложение запущено
2025-04-16 16:59:57,891 [DEBUG] Using selector: EpollSelector
2025-04-16 16:59:58,739 [INFO] select pg_catalog.version()
2025-04-16 16:59:58,739 [INFO] [raw sql] ()
2025-04-16 16:59:58,740 [INFO] select current_schema()
2025-04-16 16:59:58,740 [INFO] [raw sql] ()
2025-04-16 16:59:58,741 [INFO] show standard_conforming_strings
2025-04-16 16:59:58,741 [INFO] [raw sql] ()
2025-04-16 16:59:58,741 [INFO] BEGIN (implicit)
2025-04-16 16:59:58,744 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,744 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,746 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,746 [INFO] [cached since 0.002533s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,747 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,747 [INFO] [cached since 0.003067s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,747 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,747 [INFO] [cached since 0.003592s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,748 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,748 [INFO] [cached since 0.004032s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,748 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,748 [INFO] [cached since 0.004457s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,748 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,749 [INFO] [cached since 0.00485s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,749 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 16:59:58,749 [INFO] [cached since 0.005119s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 16:59:58,749 [INFO] COMMIT
2025-04-16 16:59:58,750 [INFO] BEGIN (implicit)
2025-04-16 16:59:58,769 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 16:59:58,769 [INFO] [generated in 0.00027s] ()
2025-04-16 16:59:58,776 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 16:59:58,777 [INFO] [generated in 0.00057s] ()
2025-04-16 16:59:58,783 [INFO] ROLLBACK
2025-04-16 16:59:58,784 [INFO] Start polling
2025-04-16 16:59:58,901 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 17:00:23,081 [INFO] Update id=423805014 is handled. Duration 601 ms by bot id=7974627539
2025-04-16 17:00:25,543 [INFO] Update id=423805015 is handled. Duration 175 ms by bot id=7974627539
2025-04-16 17:02:05,847 [INFO] Приложение запущено
2025-04-16 17:02:05,931 [DEBUG] Using selector: EpollSelector
2025-04-16 17:02:07,080 [INFO] select pg_catalog.version()
2025-04-16 17:02:07,080 [INFO] [raw sql] ()
2025-04-16 17:02:07,081 [INFO] select current_schema()
2025-04-16 17:02:07,081 [INFO] [raw sql] ()
2025-04-16 17:02:07,082 [INFO] show standard_conforming_strings
2025-04-16 17:02:07,082 [INFO] [raw sql] ()
2025-04-16 17:02:07,082 [INFO] BEGIN (implicit)
2025-04-16 17:02:07,085 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,085 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,086 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,087 [INFO] [cached since 0.002043s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,087 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,087 [INFO] [cached since 0.002711s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,088 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,088 [INFO] [cached since 0.003211s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,088 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,088 [INFO] [cached since 0.00392s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,089 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,089 [INFO] [cached since 0.004394s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,089 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,089 [INFO] [cached since 0.004907s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,090 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:02:07,090 [INFO] [cached since 0.005263s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:02:07,090 [INFO] COMMIT
2025-04-16 17:02:07,091 [INFO] BEGIN (implicit)
2025-04-16 17:02:07,109 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:02:07,109 [INFO] [generated in 0.00017s] ()
2025-04-16 17:02:07,111 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 17:02:07,111 [INFO] [generated in 0.00012s] ()
2025-04-16 17:02:07,111 [INFO] ROLLBACK
2025-04-16 17:02:07,112 [INFO] Start polling
2025-04-16 17:02:07,234 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 17:02:41,956 [INFO] Update id=423805016 is handled. Duration 412 ms by bot id=7974627539
2025-04-16 17:02:43,463 [INFO] Update id=423805017 is handled. Duration 133 ms by bot id=7974627539
2025-04-16 17:03:34,748 [INFO] Update id=423805018 is handled. Duration 186 ms by bot id=7974627539
2025-04-16 17:03:40,018 [INFO] BEGIN (implicit)
2025-04-16 17:03:40,018 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:03:40,019 [INFO] [cached since 92.91s ago] ()
2025-04-16 17:03:40,181 [INFO] ROLLBACK
2025-04-16 17:03:40,182 [INFO] Update id=423805019 is handled. Duration 164 ms by bot id=7974627539
2025-04-16 17:03:44,910 [INFO] Update id=423805020 is handled. Duration 833 ms by bot id=7974627539
2025-04-16 17:03:49,495 [INFO] Update id=423805021 is handled. Duration 292 ms by bot id=7974627539
2025-04-16 17:11:45,592 [INFO] Приложение запущено
2025-04-16 17:11:45,714 [DEBUG] Using selector: EpollSelector
2025-04-16 17:11:46,627 [INFO] select pg_catalog.version()
2025-04-16 17:11:46,628 [INFO] [raw sql] ()
2025-04-16 17:11:46,628 [INFO] select current_schema()
2025-04-16 17:11:46,629 [INFO] [raw sql] ()
2025-04-16 17:11:46,629 [INFO] show standard_conforming_strings
2025-04-16 17:11:46,629 [INFO] [raw sql] ()
2025-04-16 17:11:46,630 [INFO] BEGIN (implicit)
2025-04-16 17:11:46,632 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,632 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,634 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,634 [INFO] [cached since 0.001977s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,634 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,634 [INFO] [cached since 0.002504s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,635 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,635 [INFO] [cached since 0.002953s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,635 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,635 [INFO] [cached since 0.003385s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,636 [INFO] [cached since 0.003771s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,636 [INFO] [cached since 0.004221s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,636 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:11:46,636 [INFO] [cached since 0.004577s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:11:46,637 [INFO] COMMIT
2025-04-16 17:11:46,638 [INFO] BEGIN (implicit)
2025-04-16 17:11:46,658 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:11:46,658 [INFO] [generated in 0.00018s] ()
2025-04-16 17:11:46,660 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 17:11:46,660 [INFO] [generated in 0.00016s] ()
2025-04-16 17:11:46,661 [INFO] ROLLBACK
2025-04-16 17:11:46,662 [INFO] Start polling
2025-04-16 17:11:46,771 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 17:19:37,841 [INFO] Приложение запущено
2025-04-16 17:19:37,847 [DEBUG] Using selector: EpollSelector
2025-04-16 17:19:38,354 [INFO] select pg_catalog.version()
2025-04-16 17:19:38,354 [INFO] [raw sql] ()
2025-04-16 17:19:38,355 [INFO] select current_schema()
2025-04-16 17:19:38,355 [INFO] [raw sql] ()
2025-04-16 17:19:38,356 [INFO] show standard_conforming_strings
2025-04-16 17:19:38,356 [INFO] [raw sql] ()
2025-04-16 17:19:38,356 [INFO] BEGIN (implicit)
2025-04-16 17:19:38,358 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,359 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,360 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,360 [INFO] [cached since 0.001479s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,360 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,361 [INFO] [cached since 0.002191s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,361 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,361 [INFO] [cached since 0.002849s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,362 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,362 [INFO] [cached since 0.003337s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,362 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,362 [INFO] [cached since 0.003778s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,363 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,363 [INFO] [cached since 0.004201s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,363 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:19:38,363 [INFO] [cached since 0.004546s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:19:38,363 [INFO] COMMIT
2025-04-16 17:19:38,364 [INFO] BEGIN (implicit)
2025-04-16 17:19:38,383 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:19:38,383 [INFO] [generated in 0.00017s] ()
2025-04-16 17:19:38,385 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 17:19:38,385 [INFO] [generated in 0.00012s] ()
2025-04-16 17:19:38,385 [INFO] ROLLBACK
2025-04-16 17:19:38,386 [INFO] Start polling
2025-04-16 17:19:38,504 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 17:24:48,627 [INFO] Update id=423805022 is handled. Duration 435 ms by bot id=7974627539
2025-04-16 17:24:49,580 [INFO] BEGIN (implicit)
2025-04-16 17:24:49,581 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:24:49,581 [INFO] [cached since 311.2s ago] ()
2025-04-16 17:24:49,743 [INFO] ROLLBACK
2025-04-16 17:24:49,744 [INFO] Update id=423805023 is handled. Duration 164 ms by bot id=7974627539
2025-04-16 17:24:51,459 [INFO] Update id=423805024 is handled. Duration 235 ms by bot id=7974627539
2025-04-16 17:25:00,194 [INFO] Update id=423805025 is handled. Duration 439 ms by bot id=7974627539
2025-04-16 17:25:03,051 [INFO] BEGIN (implicit)
2025-04-16 17:25:03,052 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:25:03,052 [INFO] [cached since 324.7s ago] ()
2025-04-16 17:25:03,256 [INFO] ROLLBACK
2025-04-16 17:25:03,256 [INFO] Update id=423805026 is handled. Duration 206 ms by bot id=7974627539
2025-04-16 17:25:05,656 [INFO] Update id=423805027 is handled. Duration 313 ms by bot id=7974627539
2025-04-16 17:25:11,156 [INFO] BEGIN (implicit)
2025-04-16 17:25:11,156 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category 
WHERE category.name = $1::VARCHAR
2025-04-16 17:25:11,156 [INFO] [generated in 0.00013s] ('продукты',)
2025-04-16 17:25:11,159 [INFO] INSERT INTO category (name, created, updated) VALUES ($1::VARCHAR, now(), now()) RETURNING category.id, category.created, category.updated
2025-04-16 17:25:11,159 [INFO] [generated in 0.00015s] ('продукты',)
2025-04-16 17:25:11,471 [INFO] COMMIT
2025-04-16 17:25:11,673 [INFO] BEGIN (implicit)
2025-04-16 17:25:11,673 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:25:11,673 [INFO] [cached since 333.3s ago] ()
2025-04-16 17:25:11,860 [INFO] ROLLBACK
2025-04-16 17:25:11,860 [INFO] Update id=423805028 is handled. Duration 706 ms by bot id=7974627539
2025-04-16 17:25:17,632 [INFO] BEGIN (implicit)
2025-04-16 17:25:17,632 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:25:17,632 [INFO] [cached since 339.2s ago] ()
2025-04-16 17:25:17,754 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-16 17:25:17,755 [INFO] [generated in 0.00016s] ()
2025-04-16 17:25:18,110 [INFO] ROLLBACK
2025-04-16 17:25:18,111 [INFO] Update id=423805029 is handled. Duration 479 ms by bot id=7974627539
2025-04-16 17:25:19,576 [INFO] BEGIN (implicit)
2025-04-16 17:25:19,576 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-16 17:25:19,576 [INFO] [cached since 1.822s ago] ()
2025-04-16 17:25:19,895 [INFO] ROLLBACK
2025-04-16 17:25:19,896 [INFO] Update id=423805030 is handled. Duration 321 ms by bot id=7974627539
2025-04-16 17:26:32,974 [INFO] Update id=423805031 is handled. Duration 156 ms by bot id=7974627539
2025-04-16 17:26:43,477 [INFO] Update id=423805032 is handled. Duration 233 ms by bot id=7974627539
2025-04-16 17:26:56,932 [INFO] Данные для обновления/добавления товара: {'name': 'чай каркаде', 'description': 'красный чай', 'category': 5, 'seller': 1, 'quantity': 10, 'purchase_price': 10.0, 'price': 15.0, 'image': 'AgACAgIAAxkBAAICJ2f_zEAlNov-dQ1Fc5UwcbxPqGc1AAK47TEb1KX5Sx0V5Xf3FWj5AQADAgADeQADNgQ'}
2025-04-16 17:26:56,932 [INFO] Добавляем новый товар с данными: {'name': 'чай каркаде', 'description': 'красный чай', 'category': 5, 'seller': 1, 'quantity': 10, 'purchase_price': 10.0, 'price': 15.0, 'image': 'AgACAgIAAxkBAAICJ2f_zEAlNov-dQ1Fc5UwcbxPqGc1AAK47TEb1KX5Sx0V5Xf3FWj5AQADAgADeQADNgQ'}
2025-04-16 17:26:56,932 [INFO] BEGIN (implicit)
2025-04-16 17:26:56,934 [INFO] INSERT INTO product (name, description, purchase_price, price, image, category_id, seller_id, quantity, created, updated) VALUES ($1::VARCHAR, $2::VARCHAR, $3::NUMERIC(5, 2), $4::NUMERIC(5, 2), $5::VARCHAR, $6::INTEGER, $7::INTEGER, $8::INTEGER, now(), now()) RETURNING product.id, product.created, product.updated
2025-04-16 17:26:56,934 [INFO] [generated in 0.00016s] ('чай каркаде', 'красный чай', 10.0, 15.0, 'AgACAgIAAxkBAAICJ2f_zEAlNov-dQ1Fc5UwcbxPqGc1AAK47TEb1KX5Sx0V5Xf3FWj5AQADAgADeQADNgQ', 5, 1, 10)
2025-04-16 17:26:57,017 [INFO] COMMIT
2025-04-16 17:26:57,076 [ERROR] Ошибка при обновлении/добавлении товара: 'dict' object has no attribute 'id'
2025-04-16 17:26:57,215 [INFO] Update id=423805033 is handled. Duration 284 ms by bot id=7974627539
2025-04-16 17:27:47,998 [INFO] Приложение запущено
2025-04-16 17:27:48,068 [DEBUG] Using selector: EpollSelector
2025-04-16 17:27:48,683 [INFO] select pg_catalog.version()
2025-04-16 17:27:48,683 [INFO] [raw sql] ()
2025-04-16 17:27:48,684 [INFO] select current_schema()
2025-04-16 17:27:48,684 [INFO] [raw sql] ()
2025-04-16 17:27:48,685 [INFO] show standard_conforming_strings
2025-04-16 17:27:48,685 [INFO] [raw sql] ()
2025-04-16 17:27:48,685 [INFO] BEGIN (implicit)
2025-04-16 17:27:48,688 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,688 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,689 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,689 [INFO] [cached since 0.001648s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,690 [INFO] [cached since 0.002095s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,690 [INFO] [cached since 0.002446s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,690 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,690 [INFO] [cached since 0.002819s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,691 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,691 [INFO] [cached since 0.003162s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,691 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,691 [INFO] [cached since 0.003514s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,691 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-16 17:27:48,691 [INFO] [cached since 0.003776s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-16 17:27:48,692 [INFO] COMMIT
2025-04-16 17:27:48,692 [INFO] BEGIN (implicit)
2025-04-16 17:27:48,709 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:27:48,709 [INFO] [generated in 0.00016s] ()
2025-04-16 17:27:48,712 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-16 17:27:48,712 [INFO] [generated in 0.00051s] ()
2025-04-16 17:27:48,715 [INFO] ROLLBACK
2025-04-16 17:27:48,715 [INFO] Start polling
2025-04-16 17:27:48,830 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-16 17:27:51,810 [INFO] BEGIN (implicit)
2025-04-16 17:27:51,811 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:27:51,811 [INFO] [cached since 3.102s ago] ()
2025-04-16 17:27:52,363 [INFO] ROLLBACK
2025-04-16 17:27:52,364 [INFO] Update id=423805035 is handled. Duration 555 ms by bot id=7974627539
2025-04-16 17:27:53,370 [INFO] BEGIN (implicit)
2025-04-16 17:27:53,372 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-16 17:27:53,372 [INFO] [generated in 0.00012s] ()
2025-04-16 17:27:53,374 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-16 17:27:53,374 [INFO] [generated in 0.00017s] (4, 5)
2025-04-16 17:27:53,377 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-16 17:27:53,377 [INFO] [generated in 0.00035s] (1,)
2025-04-16 17:27:53,916 [INFO] ROLLBACK
2025-04-16 17:27:53,916 [INFO] Update id=423805036 is handled. Duration 546 ms by bot id=7974627539
2025-04-16 17:28:03,404 [INFO] Update id=423805037 is handled. Duration 157 ms by bot id=7974627539
2025-04-16 17:28:14,018 [INFO] Update id=423805038 is handled. Duration 188 ms by bot id=7974627539
2025-04-16 17:28:20,822 [INFO] BEGIN (implicit)
2025-04-16 17:28:20,822 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:28:20,822 [INFO] [cached since 32.11s ago] ()
2025-04-16 17:28:21,033 [INFO] ROLLBACK
2025-04-16 17:28:21,034 [INFO] Update id=423805039 is handled. Duration 213 ms by bot id=7974627539
2025-04-16 17:28:23,121 [INFO] BEGIN (implicit)
2025-04-16 17:28:23,121 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-16 17:28:23,121 [INFO] [cached since 34.41s ago] ()
2025-04-16 17:28:23,283 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-16 17:28:23,283 [INFO] [generated in 0.00021s] ()
2025-04-16 17:28:23,425 [INFO] ROLLBACK
2025-04-16 17:28:23,425 [INFO] Update id=423805040 is handled. Duration 305 ms by bot id=7974627539
2025-04-16 17:28:25,076 [INFO] BEGIN (implicit)
2025-04-16 17:28:25,076 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-16 17:28:25,076 [INFO] [cached since 1.793s ago] ()
2025-04-16 17:28:25,543 [INFO] ROLLBACK
2025-04-16 17:28:25,543 [INFO] Update id=423805041 is handled. Duration 468 ms by bot id=7974627539
2025-04-16 17:28:28,798 [INFO] Update id=423805042 is handled. Duration 192 ms by bot id=7974627539
2025-04-16 17:28:38,244 [INFO] Update id=423805043 is handled. Duration 133 ms by bot id=7974627539
2025-04-16 17:28:57,241 [INFO] Данные для обновления/добавления товара: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'purchase_price': 10.0, 'price': 15.0, 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-16 17:28:57,241 [INFO] Добавляем новый товар с данными: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'purchase_price': 10.0, 'price': 15.0, 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-16 17:28:57,242 [INFO] BEGIN (implicit)
2025-04-16 17:28:57,243 [INFO] INSERT INTO product (name, description, purchase_price, price, image, category_id, seller_id, quantity, created, updated) VALUES ($1::VARCHAR, $2::VARCHAR, $3::NUMERIC(5, 2), $4::NUMERIC(5, 2), $5::VARCHAR, $6::INTEGER, $7::INTEGER, $8::INTEGER, now(), now()) RETURNING product.id, product.created, product.updated
2025-04-16 17:28:57,243 [INFO] [generated in 0.00014s] ('чай имбирьный', 'полезный прозрачный чай', 10.0, 15.0, 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ', 5, 1, 15)
2025-04-16 17:28:57,244 [INFO] COMMIT
2025-04-16 17:28:57,597 [INFO] Update id=423805044 is handled. Duration 357 ms by bot id=7974627539
2025-04-19 16:17:51,267 [INFO] Приложение запущено
2025-04-19 16:17:52,022 [DEBUG] Using selector: EpollSelector
2025-04-19 16:17:53,251 [INFO] select pg_catalog.version()
2025-04-19 16:17:53,251 [INFO] [raw sql] ()
2025-04-19 16:17:53,279 [INFO] select current_schema()
2025-04-19 16:17:53,279 [INFO] [raw sql] ()
2025-04-19 16:17:53,280 [INFO] show standard_conforming_strings
2025-04-19 16:17:53,280 [INFO] [raw sql] ()
2025-04-19 16:17:53,281 [INFO] BEGIN (implicit)
2025-04-19 16:17:53,283 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,283 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,361 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,361 [INFO] [cached since 0.07814s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,362 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,362 [INFO] [cached since 0.07905s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,363 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,363 [INFO] [cached since 0.07955s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,363 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,363 [INFO] [cached since 0.08003s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,364 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,364 [INFO] [cached since 0.08041s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,364 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,364 [INFO] [cached since 0.08086s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,364 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:17:53,364 [INFO] [cached since 0.08115s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:17:53,365 [INFO] COMMIT
2025-04-19 16:17:53,365 [INFO] BEGIN (implicit)
2025-04-19 16:17:53,384 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:17:53,384 [INFO] [generated in 0.00021s] ()
2025-04-19 16:17:53,616 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-19 16:17:53,616 [INFO] [generated in 0.00016s] ()
2025-04-19 16:17:53,671 [INFO] ROLLBACK
2025-04-19 16:17:53,671 [INFO] Start polling
2025-04-19 16:17:53,773 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-19 16:18:16,996 [INFO] BEGIN (implicit)
2025-04-19 16:18:16,996 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:18:16,996 [INFO] [cached since 23.61s ago] ()
2025-04-19 16:18:17,378 [INFO] ROLLBACK
2025-04-19 16:18:17,378 [INFO] Update id=423805045 is handled. Duration 383 ms by bot id=7974627539
2025-04-19 16:18:20,375 [INFO] BEGIN (implicit)
2025-04-19 16:18:20,377 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-19 16:18:20,377 [INFO] [generated in 0.00014s] (5,)
2025-04-19 16:18:20,555 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-19 16:18:20,556 [INFO] [generated in 0.00020s] (1,)
2025-04-19 16:18:20,611 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-19 16:18:20,611 [INFO] [generated in 0.00025s] (5,)
2025-04-19 16:18:21,230 [INFO] ROLLBACK
2025-04-19 16:18:21,231 [INFO] Update id=423805046 is handled. Duration 857 ms by bot id=7974627539
2025-04-19 16:18:22,586 [INFO] BEGIN (implicit)
2025-04-19 16:18:22,587 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-19 16:18:22,587 [INFO] [generated in 0.00013s] (3,)
2025-04-19 16:18:22,588 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-19 16:18:22,588 [INFO] [cached since 2.032s ago] (1,)
2025-04-19 16:18:22,588 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-19 16:18:22,589 [INFO] [cached since 1.978s ago] (5,)
2025-04-19 16:18:22,865 [INFO] ROLLBACK
2025-04-19 16:18:22,866 [INFO] Update id=423805047 is handled. Duration 281 ms by bot id=7974627539
2025-04-19 16:18:43,991 [INFO] Update id=423805048 is handled. Duration 137 ms by bot id=7974627539
2025-04-19 16:18:45,848 [INFO] BEGIN (implicit)
2025-04-19 16:18:45,848 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:18:45,848 [INFO] [cached since 52.46s ago] ()
2025-04-19 16:18:46,030 [INFO] ROLLBACK
2025-04-19 16:18:46,031 [INFO] Update id=423805049 is handled. Duration 184 ms by bot id=7974627539
2025-04-19 16:18:49,234 [INFO] BEGIN (implicit)
2025-04-19 16:18:49,235 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-19 16:18:49,235 [INFO] [generated in 0.00011s] ()
2025-04-19 16:18:49,402 [INFO] ROLLBACK
2025-04-19 16:18:49,402 [INFO] Update id=423805050 is handled. Duration 168 ms by bot id=7974627539
2025-04-19 16:18:50,876 [INFO] Update id=423805051 is handled. Duration 148 ms by bot id=7974627539
2025-04-19 16:18:55,511 [INFO] Update id=423805052 is handled. Duration 204 ms by bot id=7974627539
2025-04-19 16:19:01,003 [INFO] Update id=423805053 is handled. Duration 197 ms by bot id=7974627539
2025-04-19 16:19:02,862 [INFO] Данные для обновления/добавления товара: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'price': Decimal('15.00'), 'purchase_price': Decimal('10.00'), 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-19 16:19:02,862 [INFO] Обновляем товар с ID 3 данными: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'price': Decimal('15.00'), 'purchase_price': Decimal('10.00'), 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-19 16:19:02,863 [INFO] BEGIN (implicit)
2025-04-19 16:19:02,864 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-19 16:19:02,864 [INFO] [generated in 0.00018s] ('чай имбирьный', 'полезный прозрачный чай', 10.0, 15.0, 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ', 5, 1, 15, 3)
2025-04-19 16:19:03,047 [INFO] COMMIT
2025-04-19 16:19:03,117 [ERROR] Ошибка при обновлении/добавлении товара: Object of type Decimal is not JSON serializable
2025-04-19 16:19:03,305 [INFO] Update id=423805054 is handled. Duration 444 ms by bot id=7974627539
2025-04-19 16:21:25,535 [INFO] Приложение запущено
2025-04-19 16:21:25,541 [DEBUG] Using selector: EpollSelector
2025-04-19 16:21:26,069 [INFO] select pg_catalog.version()
2025-04-19 16:21:26,069 [INFO] [raw sql] ()
2025-04-19 16:21:26,070 [INFO] select current_schema()
2025-04-19 16:21:26,070 [INFO] [raw sql] ()
2025-04-19 16:21:26,071 [INFO] show standard_conforming_strings
2025-04-19 16:21:26,071 [INFO] [raw sql] ()
2025-04-19 16:21:26,071 [INFO] BEGIN (implicit)
2025-04-19 16:21:26,074 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,074 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,075 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,076 [INFO] [cached since 0.001836s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,076 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,076 [INFO] [cached since 0.002333s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,076 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,077 [INFO] [cached since 0.00279s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,077 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,077 [INFO] [cached since 0.003216s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,077 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,077 [INFO] [cached since 0.003641s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,078 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,078 [INFO] [cached since 0.00406s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,078 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-19 16:21:26,078 [INFO] [cached since 0.004437s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-19 16:21:26,079 [INFO] COMMIT
2025-04-19 16:21:26,079 [INFO] BEGIN (implicit)
2025-04-19 16:21:26,099 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:21:26,099 [INFO] [generated in 0.00016s] ()
2025-04-19 16:21:26,101 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-19 16:21:26,101 [INFO] [generated in 0.00012s] ()
2025-04-19 16:21:26,101 [INFO] ROLLBACK
2025-04-19 16:21:26,102 [INFO] Start polling
2025-04-19 16:21:26,187 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-19 16:21:54,798 [INFO] BEGIN (implicit)
2025-04-19 16:21:54,798 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:21:54,798 [INFO] [cached since 28.7s ago] ()
2025-04-19 16:21:55,397 [INFO] ROLLBACK
2025-04-19 16:21:55,397 [INFO] Update id=423805055 is handled. Duration 600 ms by bot id=7974627539
2025-04-19 16:21:56,528 [INFO] BEGIN (implicit)
2025-04-19 16:21:56,530 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-19 16:21:56,530 [INFO] [generated in 0.00012s] ()
2025-04-19 16:21:56,532 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-19 16:21:56,532 [INFO] [generated in 0.00017s] (4, 5)
2025-04-19 16:21:56,534 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-19 16:21:56,534 [INFO] [generated in 0.00021s] (1,)
2025-04-19 16:21:58,148 [INFO] ROLLBACK
2025-04-19 16:21:58,148 [INFO] Update id=423805056 is handled. Duration 1621 ms by bot id=7974627539
2025-04-19 16:22:06,014 [INFO] BEGIN (implicit)
2025-04-19 16:22:06,015 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.id = $1::INTEGER
2025-04-19 16:22:06,015 [INFO] [generated in 0.00013s] (3,)
2025-04-19 16:22:06,016 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-19 16:22:06,016 [INFO] [cached since 9.485s ago] (5,)
2025-04-19 16:22:06,017 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-19 16:22:06,017 [INFO] [cached since 9.483s ago] (1,)
2025-04-19 16:22:06,308 [INFO] ROLLBACK
2025-04-19 16:22:06,308 [INFO] Update id=423805057 is handled. Duration 295 ms by bot id=7974627539
2025-04-19 16:22:10,579 [INFO] Update id=423805058 is handled. Duration 188 ms by bot id=7974627539
2025-04-19 16:22:11,493 [INFO] BEGIN (implicit)
2025-04-19 16:22:11,493 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-19 16:22:11,493 [INFO] [cached since 45.39s ago] ()
2025-04-19 16:22:11,677 [INFO] ROLLBACK
2025-04-19 16:22:11,677 [INFO] Update id=423805059 is handled. Duration 185 ms by bot id=7974627539
2025-04-19 16:22:13,730 [INFO] BEGIN (implicit)
2025-04-19 16:22:13,731 [INFO] SELECT sellers.id, sellers.name, sellers.description, sellers.phone, sellers.address, sellers.created, sellers.updated 
FROM sellers
2025-04-19 16:22:13,731 [INFO] [generated in 0.00011s] ()
2025-04-19 16:22:13,897 [INFO] ROLLBACK
2025-04-19 16:22:13,897 [INFO] Update id=423805060 is handled. Duration 168 ms by bot id=7974627539
2025-04-19 16:22:15,114 [INFO] Update id=423805061 is handled. Duration 184 ms by bot id=7974627539
2025-04-19 16:22:17,254 [INFO] Update id=423805062 is handled. Duration 227 ms by bot id=7974627539
2025-04-19 16:22:19,081 [INFO] Update id=423805063 is handled. Duration 204 ms by bot id=7974627539
2025-04-19 16:22:23,673 [INFO] Данные для обновления/добавления товара: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'price': Decimal('15.00'), 'purchase_price': Decimal('10.00'), 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-19 16:22:23,673 [INFO] Обновляем товар с ID 3 данными: {'name': 'чай имбирьный', 'description': 'полезный прозрачный чай', 'category': 5, 'seller': 1, 'quantity': 15, 'price': Decimal('15.00'), 'purchase_price': Decimal('10.00'), 'image': 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ'}
2025-04-19 16:22:23,673 [INFO] BEGIN (implicit)
2025-04-19 16:22:23,674 [INFO] UPDATE product SET name=$1::VARCHAR, description=$2::VARCHAR, purchase_price=$3::NUMERIC(5, 2), price=$4::NUMERIC(5, 2), image=$5::VARCHAR, category_id=$6::INTEGER, seller_id=$7::INTEGER, quantity=$8::INTEGER, updated=now() WHERE product.id = $9::INTEGER
2025-04-19 16:22:23,675 [INFO] [generated in 0.00015s] ('чай имбирьный', 'полезный прозрачный чай', 10.0, 15.0, 'AgACAgIAAxkBAAICOmf_zLmx1LtPt0Ha9L1oag-zdwuIAALe_TEbBf0BSDtnhzH6S5E2AQADAgADeQADNgQ', 5, 1, 15, 3)
2025-04-19 16:22:23,676 [INFO] COMMIT
2025-04-19 16:22:23,983 [INFO] Update id=423805064 is handled. Duration 311 ms by bot id=7974627539
