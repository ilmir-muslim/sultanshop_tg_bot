2025-04-26 14:46:41,337 [INFO] Приложение запущено
2025-04-26 14:46:41,400 [DEBUG] Using selector: EpollSelector
2025-04-26 14:46:42,315 [INFO] select pg_catalog.version()
2025-04-26 14:46:42,315 [INFO] [raw sql] ()
2025-04-26 14:46:42,317 [INFO] select current_schema()
2025-04-26 14:46:42,317 [INFO] [raw sql] ()
2025-04-26 14:46:42,318 [INFO] show standard_conforming_strings
2025-04-26 14:46:42,319 [INFO] [raw sql] ()
2025-04-26 14:46:42,320 [INFO] BEGIN (implicit)
2025-04-26 14:46:42,323 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,323 [INFO] [generated in 0.00024s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,326 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,326 [INFO] [cached since 0.002513s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,326 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,326 [INFO] [cached since 0.003197s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,327 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,327 [INFO] [cached since 0.003763s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,327 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,327 [INFO] [cached since 0.004256s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,328 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,328 [INFO] [cached since 0.004771s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,328 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,328 [INFO] [cached since 0.005241s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,329 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:46:42,329 [INFO] [cached since 0.005603s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:46:42,329 [INFO] COMMIT
2025-04-26 14:46:42,330 [INFO] BEGIN (implicit)
2025-04-26 14:46:42,348 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 14:46:42,348 [INFO] [generated in 0.00017s] ()
2025-04-26 14:46:42,350 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 14:46:42,351 [INFO] [generated in 0.00029s] ()
2025-04-26 14:46:42,352 [INFO] ROLLBACK
2025-04-26 14:46:42,353 [INFO] Start polling
2025-04-26 14:46:42,353 [INFO] Функция send_random_item_periodically запущена
2025-04-26 14:46:42,367 [DEBUG] Загружено 2 товаров из файла
2025-04-26 14:46:42,367 [DEBUG] Выбран товар: чай каркаде
2025-04-26 14:46:42,416 [INFO] BEGIN (implicit)
2025-04-26 14:46:42,417 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 14:46:42,417 [INFO] [generated in 0.00013s] ('чай каркаде',)
2025-04-26 14:46:42,649 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 14:46:42,784 [INFO] BEGIN (implicit)
2025-04-26 14:46:42,785 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 14:46:42,785 [INFO] [generated in 0.00014s] ('main',)
2025-04-26 14:46:42,787 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:46:42,788 [INFO] [generated in 0.00038s] (6903748145,)
2025-04-26 14:46:43,098 [INFO] ID товара: 2
2025-04-26 14:46:43,098 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 14:46:43,278 [INFO] Отправлено в -1002130857709
2025-04-26 14:46:43,278 [INFO] ROLLBACK
2025-04-26 14:46:43,439 [INFO] ROLLBACK
2025-04-26 14:46:43,440 [INFO] Update id=423805234 is handled. Duration 675 ms by bot id=7974627539
2025-04-26 14:46:44,927 [INFO] BEGIN (implicit)
2025-04-26 14:46:44,929 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:46:44,930 [INFO] [generated in 0.00014s] (6903748145,)
2025-04-26 14:46:45,399 [INFO] ROLLBACK
2025-04-26 14:46:45,399 [INFO] Update id=423805235 is handled. Duration 472 ms by bot id=7974627539
2025-04-26 14:49:26,689 [INFO] Приложение запущено
2025-04-26 14:49:26,753 [DEBUG] Using selector: EpollSelector
2025-04-26 14:49:27,321 [INFO] select pg_catalog.version()
2025-04-26 14:49:27,321 [INFO] [raw sql] ()
2025-04-26 14:49:27,322 [INFO] select current_schema()
2025-04-26 14:49:27,322 [INFO] [raw sql] ()
2025-04-26 14:49:27,323 [INFO] show standard_conforming_strings
2025-04-26 14:49:27,323 [INFO] [raw sql] ()
2025-04-26 14:49:27,323 [INFO] BEGIN (implicit)
2025-04-26 14:49:27,327 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,327 [INFO] [generated in 0.00018s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,329 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,329 [INFO] [cached since 0.002309s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,329 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,329 [INFO] [cached since 0.002813s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,330 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,330 [INFO] [cached since 0.003287s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,330 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,330 [INFO] [cached since 0.003706s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,331 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,331 [INFO] [cached since 0.00411s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,331 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,331 [INFO] [cached since 0.004512s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,331 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:49:27,331 [INFO] [cached since 0.00484s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:49:27,332 [INFO] COMMIT
2025-04-26 14:49:27,333 [INFO] BEGIN (implicit)
2025-04-26 14:49:27,349 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 14:49:27,349 [INFO] [generated in 0.00016s] ()
2025-04-26 14:49:27,351 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 14:49:27,351 [INFO] [generated in 0.00011s] ()
2025-04-26 14:49:27,352 [INFO] ROLLBACK
2025-04-26 14:49:27,352 [INFO] Start polling
2025-04-26 14:49:27,352 [INFO] Функция send_random_item_periodically запущена
2025-04-26 14:49:27,452 [DEBUG] Загружено 1 товаров из файла
2025-04-26 14:49:27,452 [DEBUG] Выбран товар: мышка
2025-04-26 14:49:27,453 [INFO] BEGIN (implicit)
2025-04-26 14:49:27,454 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 14:49:27,454 [INFO] [generated in 0.00012s] ('мышка',)
2025-04-26 14:49:27,560 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 14:49:27,793 [INFO] ID товара: 1
2025-04-26 14:49:27,793 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 14:49:27,928 [INFO] Отправлено в -1002130857709
2025-04-26 14:49:27,929 [INFO] ROLLBACK
2025-04-26 14:49:32,370 [INFO] BEGIN (implicit)
2025-04-26 14:49:32,370 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 14:49:32,370 [INFO] [generated in 0.00015s] ('main',)
2025-04-26 14:49:32,372 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:49:32,372 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-26 14:49:32,607 [INFO] ROLLBACK
2025-04-26 14:49:32,607 [INFO] Update id=423805236 is handled. Duration 238 ms by bot id=7974627539
2025-04-26 14:49:33,550 [INFO] BEGIN (implicit)
2025-04-26 14:49:33,553 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:49:33,553 [INFO] [generated in 0.00015s] (6903748145,)
2025-04-26 14:49:34,060 [INFO] ROLLBACK
2025-04-26 14:49:34,060 [INFO] Update id=423805237 is handled. Duration 510 ms by bot id=7974627539
2025-04-26 14:50:22,153 [INFO] Приложение запущено
2025-04-26 14:50:22,159 [DEBUG] Using selector: EpollSelector
2025-04-26 14:50:22,568 [INFO] select pg_catalog.version()
2025-04-26 14:50:22,569 [INFO] [raw sql] ()
2025-04-26 14:50:22,569 [INFO] select current_schema()
2025-04-26 14:50:22,569 [INFO] [raw sql] ()
2025-04-26 14:50:22,570 [INFO] show standard_conforming_strings
2025-04-26 14:50:22,570 [INFO] [raw sql] ()
2025-04-26 14:50:22,570 [INFO] BEGIN (implicit)
2025-04-26 14:50:22,573 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,573 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,574 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,574 [INFO] [cached since 0.001492s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,575 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,575 [INFO] [cached since 0.001978s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,575 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,575 [INFO] [cached since 0.002417s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,575 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,576 [INFO] [cached since 0.002806s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,576 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,576 [INFO] [cached since 0.003169s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,576 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,576 [INFO] [cached since 0.003554s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,576 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 14:50:22,577 [INFO] [cached since 0.003834s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 14:50:22,577 [INFO] COMMIT
2025-04-26 14:50:22,577 [INFO] BEGIN (implicit)
2025-04-26 14:50:22,592 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 14:50:22,592 [INFO] [generated in 0.00016s] ()
2025-04-26 14:50:22,594 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 14:50:22,594 [INFO] [generated in 0.00013s] ()
2025-04-26 14:50:22,595 [INFO] ROLLBACK
2025-04-26 14:50:22,596 [INFO] Start polling
2025-04-26 14:50:22,596 [INFO] Функция send_random_item_periodically запущена
2025-04-26 14:50:22,596 [DEBUG] Загружено 0 товаров из файла
2025-04-26 14:50:22,596 [INFO] BEGIN (implicit)
2025-04-26 14:50:22,599 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 14:50:22,600 [INFO] [generated in 0.00028s] ()
2025-04-26 14:50:22,602 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 14:50:22,602 [INFO] [generated in 0.00019s] (4, 5)
2025-04-26 14:50:22,604 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 14:50:22,604 [INFO] [generated in 0.00015s] (1,)
2025-04-26 14:50:22,605 [INFO] Сохранено 3 товаров в файл
2025-04-26 14:50:22,605 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 14:50:22,606 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 14:50:22,606 [INFO] [generated in 0.00015s] ('чай имбирьный',)
2025-04-26 14:50:22,694 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 14:50:22,911 [INFO] ID товара: 3
2025-04-26 14:50:22,912 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 14:50:23,072 [INFO] Отправлено в -1002130857709
2025-04-26 14:50:23,072 [INFO] ROLLBACK
2025-04-26 14:50:27,009 [INFO] BEGIN (implicit)
2025-04-26 14:50:27,010 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 14:50:27,010 [INFO] [generated in 0.00014s] ('main',)
2025-04-26 14:50:27,012 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:50:27,012 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 14:50:27,286 [INFO] ROLLBACK
2025-04-26 14:50:27,286 [INFO] Update id=423805238 is handled. Duration 277 ms by bot id=7974627539
2025-04-26 14:50:28,086 [INFO] BEGIN (implicit)
2025-04-26 14:50:28,088 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 14:50:28,088 [INFO] [generated in 0.00015s] (6903748145,)
2025-04-26 14:50:28,381 [INFO] ROLLBACK
2025-04-26 14:50:28,381 [INFO] Update id=423805239 is handled. Duration 295 ms by bot id=7974627539
2025-04-26 15:00:48,125 [INFO] Приложение запущено
2025-04-26 15:00:48,131 [DEBUG] Using selector: EpollSelector
2025-04-26 15:00:54,612 [INFO] select pg_catalog.version()
2025-04-26 15:00:54,612 [INFO] [raw sql] ()
2025-04-26 15:00:54,613 [INFO] select current_schema()
2025-04-26 15:00:54,613 [INFO] [raw sql] ()
2025-04-26 15:00:54,614 [INFO] show standard_conforming_strings
2025-04-26 15:00:54,614 [INFO] [raw sql] ()
2025-04-26 15:00:54,614 [INFO] BEGIN (implicit)
2025-04-26 15:00:54,617 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,617 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,619 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,619 [INFO] [cached since 0.002182s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,619 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,619 [INFO] [cached since 0.002783s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,620 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,620 [INFO] [cached since 0.003215s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,620 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,620 [INFO] [cached since 0.00358s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,620 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,621 [INFO] [cached since 0.00392s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,621 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,621 [INFO] [cached since 0.004267s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,621 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:00:54,621 [INFO] [cached since 0.004535s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:00:54,621 [INFO] COMMIT
2025-04-26 15:00:54,622 [INFO] BEGIN (implicit)
2025-04-26 15:00:54,637 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:00:54,637 [INFO] [generated in 0.00016s] ()
2025-04-26 15:00:54,639 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:00:54,639 [INFO] [generated in 0.00017s] ()
2025-04-26 15:00:54,640 [INFO] ROLLBACK
2025-04-26 15:00:54,641 [INFO] Start polling
2025-04-26 15:00:54,641 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:00:54,641 [DEBUG] Загружено 2 товаров из файла
2025-04-26 15:00:54,641 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:00:54,642 [INFO] BEGIN (implicit)
2025-04-26 15:00:54,643 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:00:54,643 [INFO] [generated in 0.00014s] ('чай каркаде',)
2025-04-26 15:00:54,645 [INFO] ID товара: 2
2025-04-26 15:00:55,011 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:00:56,790 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:00:57,052 [INFO] Отправлено в -1002130857709
2025-04-26 15:00:57,053 [INFO] ROLLBACK
2025-04-26 15:01:02,242 [INFO] BEGIN (implicit)
2025-04-26 15:01:02,243 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:01:02,243 [INFO] [generated in 0.00014s] ('main',)
2025-04-26 15:01:02,245 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:01:02,245 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 15:01:02,564 [INFO] ROLLBACK
2025-04-26 15:01:02,564 [INFO] Update id=423805240 is handled. Duration 322 ms by bot id=7974627539
2025-04-26 15:01:36,115 [INFO] Start command message: /start add_to_cart_2
2025-04-26 15:01:36,115 [INFO] Start command args: add_to_cart_2
2025-04-26 15:01:36,116 [INFO] BEGIN (implicit)
2025-04-26 15:01:36,117 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:01:36,117 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-26 15:01:36,119 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:01:36,119 [INFO] [generated in 0.00014s] (6903748145, 2)
2025-04-26 15:01:36,120 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:01:36,120 [INFO] [generated in 0.00011s] (3, 18)
2025-04-26 15:01:36,121 [INFO] COMMIT
2025-04-26 15:01:36,688 [INFO] Update id=423805241 is handled. Duration 573 ms by bot id=7974627539
2025-04-26 15:08:12,710 [INFO] Приложение запущено
2025-04-26 15:08:12,717 [DEBUG] Using selector: EpollSelector
2025-04-26 15:08:13,931 [INFO] select pg_catalog.version()
2025-04-26 15:08:13,931 [INFO] [raw sql] ()
2025-04-26 15:08:13,932 [INFO] select current_schema()
2025-04-26 15:08:13,932 [INFO] [raw sql] ()
2025-04-26 15:08:13,932 [INFO] show standard_conforming_strings
2025-04-26 15:08:13,932 [INFO] [raw sql] ()
2025-04-26 15:08:13,933 [INFO] BEGIN (implicit)
2025-04-26 15:08:13,935 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,935 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,937 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,937 [INFO] [cached since 0.001581s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,937 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,937 [INFO] [cached since 0.002078s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,938 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,938 [INFO] [cached since 0.002488s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,938 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,938 [INFO] [cached since 0.002847s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,938 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,938 [INFO] [cached since 0.003253s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,939 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,939 [INFO] [cached since 0.003658s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,939 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:08:13,939 [INFO] [cached since 0.003955s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:08:13,939 [INFO] COMMIT
2025-04-26 15:08:13,940 [INFO] BEGIN (implicit)
2025-04-26 15:08:13,956 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:08:13,956 [INFO] [generated in 0.00015s] ()
2025-04-26 15:08:13,957 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:08:13,957 [INFO] [generated in 0.00011s] ()
2025-04-26 15:08:13,958 [INFO] ROLLBACK
2025-04-26 15:08:13,958 [INFO] Start polling
2025-04-26 15:08:13,958 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:08:13,958 [DEBUG] Загружено 1 товаров из файла
2025-04-26 15:08:13,958 [DEBUG] Выбран товар: мышка
2025-04-26 15:08:13,972 [INFO] BEGIN (implicit)
2025-04-26 15:08:13,973 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:08:13,973 [INFO] [generated in 0.00013s] ('мышка',)
2025-04-26 15:08:13,976 [INFO] ID товара: 1
2025-04-26 15:08:14,674 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:08:14,909 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 15:08:14,909 [ERROR] Ошибка отправки в -1002130857709: Bot.send_message() got an unexpected keyword argument 'show_alert'
2025-04-26 15:08:14,909 [INFO] ROLLBACK
2025-04-26 15:08:24,479 [INFO] Start command message: /start add_to_cart_2
2025-04-26 15:08:24,479 [INFO] Start command args: add_to_cart_2
2025-04-26 15:08:24,480 [INFO] BEGIN (implicit)
2025-04-26 15:08:24,481 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:08:24,481 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:08:24,482 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:08:24,482 [INFO] [generated in 0.00011s] (6903748145, 2)
2025-04-26 15:08:24,484 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:08:24,484 [INFO] [generated in 0.00012s] (4, 18)
2025-04-26 15:08:24,485 [INFO] COMMIT
2025-04-26 15:08:24,576 [INFO] BEGIN (implicit)
2025-04-26 15:08:24,576 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:08:24,576 [INFO] [generated in 0.00013s] ('main',)
2025-04-26 15:08:24,578 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:08:24,578 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 15:08:24,796 [INFO] ROLLBACK
2025-04-26 15:08:24,796 [INFO] Update id=423805242 is handled. Duration 317 ms by bot id=7974627539
2025-04-26 15:09:38,358 [INFO] Приложение запущено
2025-04-26 15:09:38,364 [DEBUG] Using selector: EpollSelector
2025-04-26 15:09:42,217 [INFO] select pg_catalog.version()
2025-04-26 15:09:42,217 [INFO] [raw sql] ()
2025-04-26 15:09:42,219 [INFO] select current_schema()
2025-04-26 15:09:42,219 [INFO] [raw sql] ()
2025-04-26 15:09:42,220 [INFO] show standard_conforming_strings
2025-04-26 15:09:42,220 [INFO] [raw sql] ()
2025-04-26 15:09:42,220 [INFO] BEGIN (implicit)
2025-04-26 15:09:42,223 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,223 [INFO] [generated in 0.00027s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,225 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,225 [INFO] [cached since 0.002689s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,226 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,226 [INFO] [cached since 0.003191s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,226 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,226 [INFO] [cached since 0.003566s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,226 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,226 [INFO] [cached since 0.003907s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,227 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,227 [INFO] [cached since 0.00439s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,227 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,227 [INFO] [cached since 0.004811s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,228 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:09:42,228 [INFO] [cached since 0.005186s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:09:42,228 [INFO] COMMIT
2025-04-26 15:09:42,229 [INFO] BEGIN (implicit)
2025-04-26 15:09:42,245 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:09:42,245 [INFO] [generated in 0.00016s] ()
2025-04-26 15:09:42,247 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:09:42,247 [INFO] [generated in 0.00012s] ()
2025-04-26 15:09:42,247 [INFO] ROLLBACK
2025-04-26 15:09:42,248 [INFO] Start polling
2025-04-26 15:09:42,248 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:09:42,248 [DEBUG] Загружено 0 товаров из файла
2025-04-26 15:09:42,248 [INFO] BEGIN (implicit)
2025-04-26 15:09:42,250 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 15:09:42,251 [INFO] [generated in 0.00015s] ()
2025-04-26 15:09:42,254 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 15:09:42,254 [INFO] [generated in 0.00031s] (4, 5)
2025-04-26 15:09:42,256 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:09:42,256 [INFO] [generated in 0.00019s] (1,)
2025-04-26 15:09:42,257 [INFO] Сохранено 3 товаров в файл
2025-04-26 15:09:42,257 [DEBUG] Выбран товар: мышка
2025-04-26 15:09:42,338 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:09:42,338 [INFO] [generated in 0.00016s] ('мышка',)
2025-04-26 15:09:42,339 [INFO] ID товара: 1
2025-04-26 15:09:42,465 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:09:42,849 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 15:09:43,327 [INFO] Отправлено в -1002130857709
2025-04-26 15:09:43,327 [INFO] ROLLBACK
2025-04-26 15:10:12,270 [INFO] Приложение запущено
2025-04-26 15:10:12,276 [DEBUG] Using selector: EpollSelector
2025-04-26 15:10:12,687 [INFO] select pg_catalog.version()
2025-04-26 15:10:12,687 [INFO] [raw sql] ()
2025-04-26 15:10:12,688 [INFO] select current_schema()
2025-04-26 15:10:12,688 [INFO] [raw sql] ()
2025-04-26 15:10:12,689 [INFO] show standard_conforming_strings
2025-04-26 15:10:12,689 [INFO] [raw sql] ()
2025-04-26 15:10:12,689 [INFO] BEGIN (implicit)
2025-04-26 15:10:12,692 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,692 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,693 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,693 [INFO] [cached since 0.001791s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,694 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,694 [INFO] [cached since 0.002245s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,694 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,694 [INFO] [cached since 0.002617s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,694 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,694 [INFO] [cached since 0.002969s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,695 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,695 [INFO] [cached since 0.003363s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,695 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,695 [INFO] [cached since 0.00383s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,696 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:10:12,696 [INFO] [cached since 0.004219s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:10:12,696 [INFO] COMMIT
2025-04-26 15:10:12,697 [INFO] BEGIN (implicit)
2025-04-26 15:10:12,713 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:10:12,713 [INFO] [generated in 0.00018s] ()
2025-04-26 15:10:12,715 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:10:12,715 [INFO] [generated in 0.00014s] ()
2025-04-26 15:10:12,716 [INFO] ROLLBACK
2025-04-26 15:10:12,717 [INFO] Start polling
2025-04-26 15:10:12,717 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:10:12,717 [DEBUG] Загружено 2 товаров из файла
2025-04-26 15:10:12,717 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 15:10:12,718 [INFO] BEGIN (implicit)
2025-04-26 15:10:12,719 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:10:12,719 [INFO] [generated in 0.00012s] ('чай имбирьный',)
2025-04-26 15:10:12,721 [INFO] ID товара: 3
2025-04-26 15:10:12,832 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:10:13,154 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 15:10:13,419 [INFO] Отправлено в -1002130857709
2025-04-26 15:10:13,419 [INFO] ROLLBACK
2025-04-26 15:10:14,862 [INFO] Start command message: /start add_to_cart_1
2025-04-26 15:10:14,862 [INFO] Start command args: add_to_cart_1
2025-04-26 15:10:14,862 [INFO] BEGIN (implicit)
2025-04-26 15:10:14,863 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:10:14,863 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-26 15:10:14,865 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:10:14,865 [INFO] [generated in 0.00011s] (6903748145, 1)
2025-04-26 15:10:14,867 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:10:14,867 [INFO] [generated in 0.00011s] (3, 17)
2025-04-26 15:10:14,868 [INFO] COMMIT
2025-04-26 15:10:14,900 [INFO] BEGIN (implicit)
2025-04-26 15:10:14,901 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:10:14,901 [INFO] [generated in 0.00013s] ('main',)
2025-04-26 15:10:14,903 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:10:14,903 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 15:10:15,157 [INFO] ROLLBACK
2025-04-26 15:10:15,157 [INFO] Update id=423805243 is handled. Duration 295 ms by bot id=7974627539
2025-04-26 15:10:19,878 [INFO] BEGIN (implicit)
2025-04-26 15:10:19,881 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:10:19,881 [INFO] [generated in 0.00015s] (6903748145,)
2025-04-26 15:10:21,073 [INFO] ROLLBACK
2025-04-26 15:10:21,073 [INFO] Update id=423805244 is handled. Duration 1195 ms by bot id=7974627539
2025-04-26 15:10:26,195 [INFO] BEGIN (implicit)
2025-04-26 15:10:26,195 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:10:26,195 [INFO] [cached since 11.29s ago] ('main',)
2025-04-26 15:10:26,196 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:10:26,196 [INFO] [cached since 11.29s ago] (6903748145,)
2025-04-26 15:10:29,299 [INFO] ROLLBACK
2025-04-26 15:10:29,300 [INFO] Update id=423805245 is handled. Duration 3105 ms by bot id=7974627539
2025-04-26 15:10:50,228 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:10:50,228 [INFO] Start command args: add_to_cart_3
2025-04-26 15:10:50,228 [INFO] BEGIN (implicit)
2025-04-26 15:10:50,229 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:10:50,229 [INFO] [cached since 35.37s ago] (6903748145,)
2025-04-26 15:10:50,230 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:10:50,230 [INFO] [cached since 35.36s ago] (6903748145, 3)
2025-04-26 15:10:50,231 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-26 15:10:50,231 [INFO] [generated in 0.00014s] (6903748145, 3, 1)
2025-04-26 15:10:50,410 [INFO] COMMIT
2025-04-26 15:10:50,450 [INFO] BEGIN (implicit)
2025-04-26 15:10:50,450 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:10:50,450 [INFO] [cached since 35.55s ago] ('main',)
2025-04-26 15:10:50,451 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:10:50,451 [INFO] [cached since 35.55s ago] (6903748145,)
2025-04-26 15:10:50,752 [INFO] ROLLBACK
2025-04-26 15:10:50,753 [INFO] Update id=423805246 is handled. Duration 525 ms by bot id=7974627539
2025-04-26 15:11:13,423 [DEBUG] Загружено 1 товаров из файла
2025-04-26 15:11:13,423 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:11:13,424 [INFO] BEGIN (implicit)
2025-04-26 15:11:13,424 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:11:13,424 [INFO] [cached since 60.71s ago] ('чай каркаде',)
2025-04-26 15:11:13,425 [INFO] ID товара: 2
2025-04-26 15:11:13,425 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:11:14,339 [INFO] Отправлено в -1002130857709
2025-04-26 15:11:14,339 [INFO] ROLLBACK
2025-04-26 15:11:51,865 [INFO] Приложение запущено
2025-04-26 15:11:51,871 [DEBUG] Using selector: EpollSelector
2025-04-26 15:11:52,456 [INFO] select pg_catalog.version()
2025-04-26 15:11:52,456 [INFO] [raw sql] ()
2025-04-26 15:11:52,457 [INFO] select current_schema()
2025-04-26 15:11:52,457 [INFO] [raw sql] ()
2025-04-26 15:11:52,458 [INFO] show standard_conforming_strings
2025-04-26 15:11:52,458 [INFO] [raw sql] ()
2025-04-26 15:11:52,458 [INFO] BEGIN (implicit)
2025-04-26 15:11:52,461 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,461 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,463 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,463 [INFO] [cached since 0.001727s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,463 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,463 [INFO] [cached since 0.002361s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,464 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,464 [INFO] [cached since 0.00283s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,464 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,464 [INFO] [cached since 0.003263s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,465 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,465 [INFO] [cached since 0.003692s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,465 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,465 [INFO] [cached since 0.004072s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,465 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:11:52,465 [INFO] [cached since 0.004363s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:11:52,466 [INFO] COMMIT
2025-04-26 15:11:52,466 [INFO] BEGIN (implicit)
2025-04-26 15:11:52,481 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:11:52,481 [INFO] [generated in 0.00024s] ()
2025-04-26 15:11:52,483 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:11:52,484 [INFO] [generated in 0.00021s] ()
2025-04-26 15:11:52,485 [INFO] ROLLBACK
2025-04-26 15:11:52,485 [INFO] Start polling
2025-04-26 15:11:52,486 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:11:52,486 [DEBUG] Загружено 0 товаров из файла
2025-04-26 15:11:52,487 [INFO] BEGIN (implicit)
2025-04-26 15:11:52,489 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 15:11:52,489 [INFO] [generated in 0.00011s] ()
2025-04-26 15:11:52,491 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:11:52,491 [INFO] [generated in 0.00019s] (1,)
2025-04-26 15:11:52,493 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 15:11:52,493 [INFO] [generated in 0.00014s] (4, 5)
2025-04-26 15:11:52,494 [INFO] Сохранено 3 товаров в файл
2025-04-26 15:11:52,494 [DEBUG] Выбран товар: мышка
2025-04-26 15:11:52,495 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:11:52,495 [INFO] [generated in 0.00010s] ('мышка',)
2025-04-26 15:11:52,496 [INFO] ID товара: 1
2025-04-26 15:11:52,679 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:11:53,024 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 15:11:53,233 [INFO] Отправлено в -1002130857709
2025-04-26 15:11:53,233 [INFO] ROLLBACK
2025-04-26 15:12:21,079 [INFO] Приложение запущено
2025-04-26 15:12:21,085 [DEBUG] Using selector: EpollSelector
2025-04-26 15:12:21,498 [INFO] select pg_catalog.version()
2025-04-26 15:12:21,498 [INFO] [raw sql] ()
2025-04-26 15:12:21,499 [INFO] select current_schema()
2025-04-26 15:12:21,499 [INFO] [raw sql] ()
2025-04-26 15:12:21,499 [INFO] show standard_conforming_strings
2025-04-26 15:12:21,499 [INFO] [raw sql] ()
2025-04-26 15:12:21,500 [INFO] BEGIN (implicit)
2025-04-26 15:12:21,502 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,502 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,503 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,503 [INFO] [cached since 0.001653s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,504 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,504 [INFO] [cached since 0.002195s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,504 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,505 [INFO] [cached since 0.002707s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,505 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,505 [INFO] [cached since 0.003146s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,505 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,505 [INFO] [cached since 0.003555s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,506 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,506 [INFO] [cached since 0.00398s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,506 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:21,506 [INFO] [cached since 0.004365s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:21,507 [INFO] COMMIT
2025-04-26 15:12:21,507 [INFO] BEGIN (implicit)
2025-04-26 15:12:21,524 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:12:21,525 [INFO] [generated in 0.00016s] ()
2025-04-26 15:12:21,526 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:12:21,526 [INFO] [generated in 0.00011s] ()
2025-04-26 15:12:21,527 [INFO] ROLLBACK
2025-04-26 15:12:21,527 [INFO] Start polling
2025-04-26 15:12:21,527 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:12:21,527 [DEBUG] Загружено 2 товаров из файла
2025-04-26 15:12:21,527 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 15:12:21,528 [INFO] BEGIN (implicit)
2025-04-26 15:12:21,529 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:12:21,529 [INFO] [generated in 0.00014s] ('чай имбирьный',)
2025-04-26 15:12:21,531 [INFO] ID товара: 3
2025-04-26 15:12:21,651 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:12:21,917 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 15:12:22,121 [INFO] Отправлено в -1002130857709
2025-04-26 15:12:22,121 [INFO] ROLLBACK
2025-04-26 15:12:29,755 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:12:29,755 [INFO] Start command args: add_to_cart_3
2025-04-26 15:12:29,755 [INFO] BEGIN (implicit)
2025-04-26 15:12:29,756 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:12:29,756 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:12:29,758 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:12:29,758 [INFO] [generated in 0.00013s] (6903748145, 3)
2025-04-26 15:12:29,760 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:12:29,760 [INFO] [generated in 0.00018s] (2, 19)
2025-04-26 15:12:29,762 [INFO] COMMIT
2025-04-26 15:12:29,928 [INFO] BEGIN (implicit)
2025-04-26 15:12:29,929 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:12:29,929 [INFO] [generated in 0.00020s] ('main',)
2025-04-26 15:12:29,931 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:12:29,931 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:12:30,144 [INFO] ROLLBACK
2025-04-26 15:12:30,144 [INFO] Update id=423805247 is handled. Duration 389 ms by bot id=7974627539
2025-04-26 15:12:36,093 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:12:36,093 [INFO] Start command args: add_to_cart_3
2025-04-26 15:12:36,093 [INFO] BEGIN (implicit)
2025-04-26 15:12:36,094 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:12:36,094 [INFO] [cached since 6.338s ago] (6903748145,)
2025-04-26 15:12:36,095 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:12:36,095 [INFO] [cached since 6.337s ago] (6903748145, 3)
2025-04-26 15:12:36,095 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:12:36,095 [INFO] [cached since 6.335s ago] (3, 19)
2025-04-26 15:12:36,096 [INFO] COMMIT
2025-04-26 15:12:36,467 [INFO] BEGIN (implicit)
2025-04-26 15:12:36,468 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:12:36,468 [INFO] [cached since 6.539s ago] ('main',)
2025-04-26 15:12:36,469 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:12:36,469 [INFO] [cached since 6.538s ago] (6903748145,)
2025-04-26 15:12:36,673 [INFO] ROLLBACK
2025-04-26 15:12:36,674 [INFO] Update id=423805248 is handled. Duration 581 ms by bot id=7974627539
2025-04-26 15:12:51,309 [INFO] Приложение запущено
2025-04-26 15:12:51,318 [DEBUG] Using selector: EpollSelector
2025-04-26 15:12:51,870 [INFO] select pg_catalog.version()
2025-04-26 15:12:51,870 [INFO] [raw sql] ()
2025-04-26 15:12:51,871 [INFO] select current_schema()
2025-04-26 15:12:51,871 [INFO] [raw sql] ()
2025-04-26 15:12:51,872 [INFO] show standard_conforming_strings
2025-04-26 15:12:51,872 [INFO] [raw sql] ()
2025-04-26 15:12:51,873 [INFO] BEGIN (implicit)
2025-04-26 15:12:51,876 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,876 [INFO] [generated in 0.00022s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,878 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,878 [INFO] [cached since 0.002235s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,879 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,879 [INFO] [cached since 0.002735s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,879 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,879 [INFO] [cached since 0.00314s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,879 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,879 [INFO] [cached since 0.003543s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,880 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,880 [INFO] [cached since 0.003914s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,880 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,880 [INFO] [cached since 0.004274s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,880 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:12:51,880 [INFO] [cached since 0.004571s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:12:51,881 [INFO] COMMIT
2025-04-26 15:12:51,881 [INFO] BEGIN (implicit)
2025-04-26 15:12:51,896 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:12:51,897 [INFO] [generated in 0.00026s] ()
2025-04-26 15:12:51,899 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:12:51,899 [INFO] [generated in 0.00012s] ()
2025-04-26 15:12:51,900 [INFO] ROLLBACK
2025-04-26 15:12:51,900 [INFO] Start polling
2025-04-26 15:12:51,900 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:12:51,900 [DEBUG] Загружено 1 товаров из файла
2025-04-26 15:12:51,900 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:12:51,900 [INFO] BEGIN (implicit)
2025-04-26 15:12:51,901 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:12:51,901 [INFO] [generated in 0.00011s] ('чай каркаде',)
2025-04-26 15:12:51,903 [INFO] ID товара: 2
2025-04-26 15:12:52,045 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:12:52,633 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:12:52,852 [INFO] Отправлено в -1002130857709
2025-04-26 15:12:52,852 [INFO] ROLLBACK
2025-04-26 15:12:56,117 [INFO] Start command message: /start add_to_cart_2
2025-04-26 15:12:56,117 [INFO] Start command args: add_to_cart_2
2025-04-26 15:12:56,117 [INFO] BEGIN (implicit)
2025-04-26 15:12:56,118 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:12:56,118 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:12:56,120 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:12:56,120 [INFO] [generated in 0.00012s] (6903748145, 2)
2025-04-26 15:12:56,122 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:12:56,122 [INFO] [generated in 0.00023s] (5, 18)
2025-04-26 15:12:56,123 [INFO] COMMIT
2025-04-26 15:12:56,243 [INFO] BEGIN (implicit)
2025-04-26 15:12:56,243 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:12:56,243 [INFO] [generated in 0.00013s] ('main',)
2025-04-26 15:12:56,245 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:12:56,245 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 15:12:56,377 [INFO] ROLLBACK
2025-04-26 15:12:56,378 [INFO] Update id=423805249 is handled. Duration 261 ms by bot id=7974627539
2025-04-26 15:12:59,977 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:12:59,977 [INFO] Start command args: add_to_cart_3
2025-04-26 15:12:59,977 [INFO] BEGIN (implicit)
2025-04-26 15:12:59,977 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:12:59,977 [INFO] [cached since 3.86s ago] (6903748145,)
2025-04-26 15:12:59,978 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:12:59,979 [INFO] [cached since 3.859s ago] (6903748145, 3)
2025-04-26 15:12:59,979 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:12:59,979 [INFO] [cached since 3.857s ago] (4, 19)
2025-04-26 15:12:59,980 [INFO] COMMIT
2025-04-26 15:13:00,007 [INFO] BEGIN (implicit)
2025-04-26 15:13:00,008 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:13:00,008 [INFO] [cached since 3.764s ago] ('main',)
2025-04-26 15:13:00,009 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:00,009 [INFO] [cached since 3.764s ago] (6903748145,)
2025-04-26 15:13:00,186 [INFO] ROLLBACK
2025-04-26 15:13:00,187 [INFO] Update id=423805250 is handled. Duration 210 ms by bot id=7974627539
2025-04-26 15:13:09,087 [INFO] BEGIN (implicit)
2025-04-26 15:13:09,090 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:09,091 [INFO] [generated in 0.00018s] (6903748145,)
2025-04-26 15:13:09,482 [INFO] ROLLBACK
2025-04-26 15:13:09,482 [INFO] Update id=423805251 is handled. Duration 395 ms by bot id=7974627539
2025-04-26 15:13:11,397 [INFO] BEGIN (implicit)
2025-04-26 15:13:11,398 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:13:11,398 [INFO] [generated in 0.00013s] (6903748145, 1)
2025-04-26 15:13:11,398 [INFO] COMMIT
2025-04-26 15:13:11,520 [INFO] BEGIN (implicit)
2025-04-26 15:13:11,520 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:11,520 [INFO] [cached since 2.43s ago] (6903748145,)
2025-04-26 15:13:11,856 [INFO] ROLLBACK
2025-04-26 15:13:11,856 [INFO] Update id=423805252 is handled. Duration 460 ms by bot id=7974627539
2025-04-26 15:13:12,698 [INFO] BEGIN (implicit)
2025-04-26 15:13:12,698 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:13:12,698 [INFO] [cached since 1.301s ago] (6903748145, 2)
2025-04-26 15:13:12,699 [INFO] COMMIT
2025-04-26 15:13:12,822 [INFO] BEGIN (implicit)
2025-04-26 15:13:12,822 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:12,822 [INFO] [cached since 3.732s ago] (6903748145,)
2025-04-26 15:13:13,258 [INFO] ROLLBACK
2025-04-26 15:13:13,258 [INFO] Update id=423805253 is handled. Duration 560 ms by bot id=7974627539
2025-04-26 15:13:16,018 [INFO] BEGIN (implicit)
2025-04-26 15:13:16,018 [INFO] DELETE FROM cart WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:13:16,018 [INFO] [cached since 4.621s ago] (6903748145, 3)
2025-04-26 15:13:16,019 [INFO] COMMIT
2025-04-26 15:13:16,140 [INFO] BEGIN (implicit)
2025-04-26 15:13:16,140 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:16,140 [INFO] [cached since 7.05s ago] (6903748145,)
2025-04-26 15:13:16,141 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:13:16,141 [INFO] [cached since 19.9s ago] ('cart',)
2025-04-26 15:13:16,422 [INFO] ROLLBACK
2025-04-26 15:13:16,422 [INFO] Update id=423805254 is handled. Duration 404 ms by bot id=7974627539
2025-04-26 15:13:17,719 [INFO] BEGIN (implicit)
2025-04-26 15:13:17,720 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:13:17,720 [INFO] [cached since 21.48s ago] ('main',)
2025-04-26 15:13:17,721 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:17,721 [INFO] [cached since 21.48s ago] (6903748145,)
2025-04-26 15:13:18,033 [INFO] ROLLBACK
2025-04-26 15:13:18,034 [INFO] Update id=423805255 is handled. Duration 315 ms by bot id=7974627539
2025-04-26 15:13:40,833 [INFO] Приложение запущено
2025-04-26 15:13:40,839 [DEBUG] Using selector: EpollSelector
2025-04-26 15:13:41,328 [INFO] select pg_catalog.version()
2025-04-26 15:13:41,328 [INFO] [raw sql] ()
2025-04-26 15:13:41,329 [INFO] select current_schema()
2025-04-26 15:13:41,329 [INFO] [raw sql] ()
2025-04-26 15:13:41,329 [INFO] show standard_conforming_strings
2025-04-26 15:13:41,329 [INFO] [raw sql] ()
2025-04-26 15:13:41,330 [INFO] BEGIN (implicit)
2025-04-26 15:13:41,332 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,332 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,334 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,334 [INFO] [cached since 0.001686s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,334 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,334 [INFO] [cached since 0.002114s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,335 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,335 [INFO] [cached since 0.002564s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,335 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,335 [INFO] [cached since 0.002937s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,335 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,335 [INFO] [cached since 0.003273s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,336 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,336 [INFO] [cached since 0.003603s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,336 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:13:41,336 [INFO] [cached since 0.003882s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:13:41,336 [INFO] COMMIT
2025-04-26 15:13:41,337 [INFO] BEGIN (implicit)
2025-04-26 15:13:41,352 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:13:41,352 [INFO] [generated in 0.00017s] ()
2025-04-26 15:13:41,354 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:13:41,354 [INFO] [generated in 0.00015s] ()
2025-04-26 15:13:41,355 [INFO] ROLLBACK
2025-04-26 15:13:41,356 [INFO] Start polling
2025-04-26 15:13:41,356 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:13:41,356 [DEBUG] Загружено 0 товаров из файла
2025-04-26 15:13:41,357 [INFO] BEGIN (implicit)
2025-04-26 15:13:41,359 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 15:13:41,359 [INFO] [generated in 0.00011s] ()
2025-04-26 15:13:41,361 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 15:13:41,361 [INFO] [generated in 0.00018s] (4, 5)
2025-04-26 15:13:41,363 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:13:41,363 [INFO] [generated in 0.00015s] (1,)
2025-04-26 15:13:41,364 [INFO] Сохранено 3 товаров в файл
2025-04-26 15:13:41,364 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 15:13:41,365 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:13:41,365 [INFO] [generated in 0.00011s] ('чай имбирьный',)
2025-04-26 15:13:41,366 [INFO] ID товара: 3
2025-04-26 15:13:41,474 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:13:42,464 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 15:13:42,598 [INFO] Отправлено в -1002130857709
2025-04-26 15:13:42,598 [INFO] ROLLBACK
2025-04-26 15:13:47,688 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:13:47,688 [INFO] Start command args: add_to_cart_3
2025-04-26 15:13:47,689 [INFO] BEGIN (implicit)
2025-04-26 15:13:47,690 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:13:47,690 [INFO] [generated in 0.00014s] (6903748145,)
2025-04-26 15:13:47,691 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:13:47,691 [INFO] [generated in 0.00011s] (6903748145, 3)
2025-04-26 15:13:47,693 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-26 15:13:47,693 [INFO] [generated in 0.00011s] (6903748145, 3, 1)
2025-04-26 15:13:47,694 [INFO] COMMIT
2025-04-26 15:13:47,918 [INFO] BEGIN (implicit)
2025-04-26 15:13:47,918 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:13:47,918 [INFO] [generated in 0.00017s] ('main',)
2025-04-26 15:13:47,920 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:13:47,920 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-26 15:13:48,162 [INFO] ROLLBACK
2025-04-26 15:13:48,164 [INFO] Update id=423805256 is handled. Duration 475 ms by bot id=7974627539
2025-04-26 15:16:57,416 [INFO] Приложение запущено
2025-04-26 15:16:57,421 [DEBUG] Using selector: EpollSelector
2025-04-26 15:16:57,911 [INFO] select pg_catalog.version()
2025-04-26 15:16:57,911 [INFO] [raw sql] ()
2025-04-26 15:16:57,912 [INFO] select current_schema()
2025-04-26 15:16:57,912 [INFO] [raw sql] ()
2025-04-26 15:16:57,913 [INFO] show standard_conforming_strings
2025-04-26 15:16:57,913 [INFO] [raw sql] ()
2025-04-26 15:16:57,913 [INFO] BEGIN (implicit)
2025-04-26 15:16:57,916 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,916 [INFO] [generated in 0.00016s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,918 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,918 [INFO] [cached since 0.001759s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,918 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,918 [INFO] [cached since 0.002265s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,919 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,919 [INFO] [cached since 0.002749s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,919 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,919 [INFO] [cached since 0.003188s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,919 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,920 [INFO] [cached since 0.003647s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,920 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,920 [INFO] [cached since 0.004049s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,920 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:16:57,920 [INFO] [cached since 0.004359s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:16:57,921 [INFO] COMMIT
2025-04-26 15:16:57,921 [INFO] BEGIN (implicit)
2025-04-26 15:16:57,937 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:16:57,937 [INFO] [generated in 0.00022s] ()
2025-04-26 15:16:57,939 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:16:57,939 [INFO] [generated in 0.00018s] ()
2025-04-26 15:16:57,940 [INFO] ROLLBACK
2025-04-26 15:16:57,941 [INFO] Start polling
2025-04-26 15:16:57,941 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:16:57,941 [DEBUG] Загружено 2 товаров из файла
2025-04-26 15:16:57,941 [DEBUG] Выбран товар: мышка
2025-04-26 15:16:57,941 [INFO] BEGIN (implicit)
2025-04-26 15:16:57,942 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:16:57,942 [INFO] [generated in 0.00011s] ('мышка',)
2025-04-26 15:16:57,944 [INFO] ID товара: 1
2025-04-26 15:16:58,069 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:16:58,385 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 15:16:58,561 [INFO] Отправлено в -1002130857709
2025-04-26 15:16:58,561 [INFO] ROLLBACK
2025-04-26 15:17:03,215 [INFO] BEGIN (implicit)
2025-04-26 15:17:03,216 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:17:03,216 [INFO] [generated in 0.00014s] ('catalog',)
2025-04-26 15:17:03,217 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:17:03,217 [INFO] [cached since 5.28s ago] ()
2025-04-26 15:17:03,219 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:17:03,219 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 15:17:03,613 [INFO] ROLLBACK
2025-04-26 15:17:03,614 [INFO] Update id=423805257 is handled. Duration 398 ms by bot id=7974627539
2025-04-26 15:17:04,616 [INFO] BEGIN (implicit)
2025-04-26 15:17:04,618 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-26 15:17:04,618 [INFO] [generated in 0.00014s] (4,)
2025-04-26 15:17:04,621 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:17:04,621 [INFO] [generated in 0.00019s] (1,)
2025-04-26 15:17:04,623 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-26 15:17:04,624 [INFO] [generated in 0.00025s] (4,)
2025-04-26 15:17:04,625 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:17:04,625 [INFO] [cached since 1.406s ago] (6903748145,)
2025-04-26 15:17:05,239 [INFO] ROLLBACK
2025-04-26 15:17:05,240 [INFO] Update id=423805258 is handled. Duration 623 ms by bot id=7974627539
2025-04-26 15:17:06,141 [INFO] BEGIN (implicit)
2025-04-26 15:17:06,142 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:17:06,142 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:17:06,143 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:17:06,143 [INFO] [generated in 0.00012s] (6903748145, 1)
2025-04-26 15:17:06,145 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-26 15:17:06,145 [INFO] [generated in 0.00011s] (6903748145, 1, 1)
2025-04-26 15:17:06,146 [INFO] COMMIT
2025-04-26 15:17:06,629 [INFO] Update id=423805259 is handled. Duration 488 ms by bot id=7974627539
2025-04-26 15:17:11,204 [INFO] BEGIN (implicit)
2025-04-26 15:17:11,204 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product 
WHERE product.category_id = $1::INTEGER
2025-04-26 15:17:11,204 [INFO] [cached since 6.586s ago] (4,)
2025-04-26 15:17:11,206 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:17:11,206 [INFO] [cached since 6.585s ago] (1,)
2025-04-26 15:17:11,206 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER)
2025-04-26 15:17:11,207 [INFO] [cached since 6.583s ago] (4,)
2025-04-26 15:17:11,207 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:17:11,207 [INFO] [cached since 7.989s ago] (6903748145,)
2025-04-26 15:17:11,715 [INFO] ROLLBACK
2025-04-26 15:17:11,715 [INFO] Update id=423805260 is handled. Duration 512 ms by bot id=7974627539
2025-04-26 15:17:15,915 [INFO] BEGIN (implicit)
2025-04-26 15:17:15,915 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:17:15,915 [INFO] [cached since 12.7s ago] ('catalog',)
2025-04-26 15:17:15,916 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:17:15,916 [INFO] [cached since 17.98s ago] ()
2025-04-26 15:17:15,916 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:17:15,916 [INFO] [cached since 12.7s ago] (6903748145,)
2025-04-26 15:17:16,427 [INFO] ROLLBACK
2025-04-26 15:17:16,428 [INFO] Update id=423805261 is handled. Duration 513 ms by bot id=7974627539
2025-04-26 15:17:17,990 [INFO] BEGIN (implicit)
2025-04-26 15:17:17,990 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:17:17,991 [INFO] [cached since 14.77s ago] ('main',)
2025-04-26 15:17:17,991 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:17:17,991 [INFO] [cached since 14.77s ago] (6903748145,)
2025-04-26 15:17:18,385 [INFO] ROLLBACK
2025-04-26 15:17:18,386 [INFO] Update id=423805262 is handled. Duration 395 ms by bot id=7974627539
2025-04-26 15:20:13,837 [INFO] Приложение запущено
2025-04-26 15:20:13,843 [DEBUG] Using selector: EpollSelector
2025-04-26 15:20:14,351 [INFO] select pg_catalog.version()
2025-04-26 15:20:14,351 [INFO] [raw sql] ()
2025-04-26 15:20:14,352 [INFO] select current_schema()
2025-04-26 15:20:14,352 [INFO] [raw sql] ()
2025-04-26 15:20:14,352 [INFO] show standard_conforming_strings
2025-04-26 15:20:14,352 [INFO] [raw sql] ()
2025-04-26 15:20:14,353 [INFO] BEGIN (implicit)
2025-04-26 15:20:14,355 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,355 [INFO] [generated in 0.00015s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,356 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,356 [INFO] [cached since 0.001669s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,357 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,357 [INFO] [cached since 0.002182s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,357 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,357 [INFO] [cached since 0.002609s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,358 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,358 [INFO] [cached since 0.003027s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,358 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,358 [INFO] [cached since 0.003419s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,359 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,359 [INFO] [cached since 0.00384s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,359 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:20:14,359 [INFO] [cached since 0.004138s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:20:14,359 [INFO] COMMIT
2025-04-26 15:20:14,360 [INFO] BEGIN (implicit)
2025-04-26 15:20:14,374 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:20:14,374 [INFO] [generated in 0.00015s] ()
2025-04-26 15:20:14,376 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:20:14,376 [INFO] [generated in 0.00012s] ()
2025-04-26 15:20:14,376 [INFO] ROLLBACK
2025-04-26 15:20:14,377 [INFO] Start polling
2025-04-26 15:20:14,377 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:20:14,377 [DEBUG] Загружено 1 товаров из файла
2025-04-26 15:20:14,377 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:20:14,377 [INFO] BEGIN (implicit)
2025-04-26 15:20:14,378 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:20:14,379 [INFO] [generated in 0.00012s] ('чай каркаде',)
2025-04-26 15:20:14,380 [INFO] ID товара: 2
2025-04-26 15:20:14,486 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:20:14,761 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:20:14,990 [INFO] Отправлено в -1002130857709
2025-04-26 15:20:14,990 [INFO] ROLLBACK
2025-04-26 15:20:22,483 [INFO] Start command message: /start add_to_cart_2
2025-04-26 15:20:22,483 [INFO] Start command args: add_to_cart_2
2025-04-26 15:20:22,483 [INFO] BEGIN (implicit)
2025-04-26 15:20:22,484 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:20:22,484 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:20:22,486 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:20:22,486 [INFO] [generated in 0.00013s] (6903748145, 2)
2025-04-26 15:20:22,488 [INFO] INSERT INTO cart (user_id, product_id, quantity, created, updated) VALUES ($1::BIGINT, $2::INTEGER, $3::INTEGER, now(), now()) RETURNING cart.id, cart.created, cart.updated
2025-04-26 15:20:22,488 [INFO] [generated in 0.00012s] (6903748145, 2, 1)
2025-04-26 15:20:22,489 [INFO] COMMIT
2025-04-26 15:20:22,616 [ERROR] Ошибка в start_cmd: 'NoneType' object has no attribute 'answer'
2025-04-26 15:20:22,807 [INFO] Update id=423805263 is handled. Duration 324 ms by bot id=7974627539
2025-04-26 15:23:29,859 [INFO] Приложение запущено
2025-04-26 15:23:29,865 [DEBUG] Using selector: EpollSelector
2025-04-26 15:23:30,436 [INFO] select pg_catalog.version()
2025-04-26 15:23:30,436 [INFO] [raw sql] ()
2025-04-26 15:23:30,437 [INFO] select current_schema()
2025-04-26 15:23:30,437 [INFO] [raw sql] ()
2025-04-26 15:23:30,437 [INFO] show standard_conforming_strings
2025-04-26 15:23:30,437 [INFO] [raw sql] ()
2025-04-26 15:23:30,438 [INFO] BEGIN (implicit)
2025-04-26 15:23:30,440 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,440 [INFO] [generated in 0.00019s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,442 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,442 [INFO] [cached since 0.002205s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,443 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,443 [INFO] [cached since 0.002617s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,443 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,443 [INFO] [cached since 0.002987s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,444 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,444 [INFO] [cached since 0.003386s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,444 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,444 [INFO] [cached since 0.00374s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,444 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,444 [INFO] [cached since 0.004083s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,445 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:23:30,445 [INFO] [cached since 0.004362s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:23:30,445 [INFO] COMMIT
2025-04-26 15:23:30,445 [INFO] BEGIN (implicit)
2025-04-26 15:23:30,460 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:23:30,460 [INFO] [generated in 0.00016s] ()
2025-04-26 15:23:30,461 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:23:30,462 [INFO] [generated in 0.00013s] ()
2025-04-26 15:23:30,462 [INFO] ROLLBACK
2025-04-26 15:23:30,462 [INFO] Start polling
2025-04-26 15:23:30,463 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:23:30,463 [DEBUG] Загружено 0 товаров из файла
2025-04-26 15:23:30,463 [INFO] BEGIN (implicit)
2025-04-26 15:23:30,465 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 15:23:30,465 [INFO] [generated in 0.00013s] ()
2025-04-26 15:23:30,468 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 15:23:30,468 [INFO] [generated in 0.00020s] (4, 5)
2025-04-26 15:23:30,470 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:23:30,471 [INFO] [generated in 0.00021s] (1,)
2025-04-26 15:23:30,472 [INFO] Сохранено 3 товаров в файл
2025-04-26 15:23:30,472 [DEBUG] Выбран товар: мышка
2025-04-26 15:23:30,473 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:23:30,473 [INFO] [generated in 0.00013s] ('мышка',)
2025-04-26 15:23:30,474 [INFO] ID товара: 1
2025-04-26 15:23:30,570 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:23:30,818 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 15:23:30,967 [INFO] Отправлено в -1002130857709
2025-04-26 15:23:30,968 [INFO] ROLLBACK
2025-04-26 15:23:36,652 [INFO] Start command message: /start add_to_cart_1
2025-04-26 15:23:36,652 [INFO] Start command args: add_to_cart_1
2025-04-26 15:23:36,653 [INFO] BEGIN (implicit)
2025-04-26 15:23:36,654 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:23:36,654 [INFO] [generated in 0.00012s] (6903748145,)
2025-04-26 15:23:36,656 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:23:36,656 [INFO] [generated in 0.00016s] (6903748145, 1)
2025-04-26 15:23:36,658 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:23:36,658 [INFO] [generated in 0.00013s] (2, 21)
2025-04-26 15:23:36,659 [INFO] COMMIT
2025-04-26 15:23:36,784 [INFO] BEGIN (implicit)
2025-04-26 15:23:36,785 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:23:36,785 [INFO] [generated in 0.00020s] ('main',)
2025-04-26 15:23:36,787 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:23:36,787 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 15:23:37,106 [INFO] ROLLBACK
2025-04-26 15:23:37,107 [INFO] Update id=423805264 is handled. Duration 454 ms by bot id=7974627539
2025-04-26 15:24:30,973 [DEBUG] Загружено 2 товаров из файла
2025-04-26 15:24:30,973 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:24:30,974 [INFO] BEGIN (implicit)
2025-04-26 15:24:30,974 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:24:30,974 [INFO] [cached since 60.5s ago] ('чай каркаде',)
2025-04-26 15:24:30,975 [INFO] ID товара: 2
2025-04-26 15:24:30,975 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:24:31,172 [INFO] Отправлено в -1002130857709
2025-04-26 15:24:31,173 [INFO] ROLLBACK
2025-04-26 15:24:44,308 [INFO] Приложение запущено
2025-04-26 15:24:44,314 [DEBUG] Using selector: EpollSelector
2025-04-26 15:24:45,190 [INFO] select pg_catalog.version()
2025-04-26 15:24:45,190 [INFO] [raw sql] ()
2025-04-26 15:24:45,191 [INFO] select current_schema()
2025-04-26 15:24:45,191 [INFO] [raw sql] ()
2025-04-26 15:24:45,192 [INFO] show standard_conforming_strings
2025-04-26 15:24:45,192 [INFO] [raw sql] ()
2025-04-26 15:24:45,192 [INFO] BEGIN (implicit)
2025-04-26 15:24:45,195 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,195 [INFO] [generated in 0.00017s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,196 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,196 [INFO] [cached since 0.001869s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,197 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,197 [INFO] [cached since 0.002393s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,197 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,197 [INFO] [cached since 0.002803s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,198 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,198 [INFO] [cached since 0.003176s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,198 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,198 [INFO] [cached since 0.003522s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,198 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,198 [INFO] [cached since 0.003885s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,199 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 15:24:45,199 [INFO] [cached since 0.004183s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 15:24:45,199 [INFO] COMMIT
2025-04-26 15:24:45,200 [INFO] BEGIN (implicit)
2025-04-26 15:24:45,216 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 15:24:45,216 [INFO] [generated in 0.00016s] ()
2025-04-26 15:24:45,218 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 15:24:45,218 [INFO] [generated in 0.00011s] ()
2025-04-26 15:24:45,218 [INFO] ROLLBACK
2025-04-26 15:24:45,219 [INFO] Start polling
2025-04-26 15:24:45,219 [INFO] Функция send_random_item_periodically запущена
2025-04-26 15:24:45,219 [DEBUG] Загружено 1 товаров из файла
2025-04-26 15:24:45,219 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 15:24:45,219 [INFO] BEGIN (implicit)
2025-04-26 15:24:45,220 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:24:45,220 [INFO] [generated in 0.00011s] ('чай имбирьный',)
2025-04-26 15:24:45,221 [INFO] ID товара: 3
2025-04-26 15:24:45,309 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 15:24:45,659 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 15:24:45,817 [INFO] Отправлено в -1002130857709
2025-04-26 15:24:45,818 [INFO] ROLLBACK
2025-04-26 15:24:53,679 [INFO] Start command message: /start add_to_cart_3
2025-04-26 15:24:53,679 [INFO] Start command args: add_to_cart_3
2025-04-26 15:24:53,679 [INFO] BEGIN (implicit)
2025-04-26 15:24:53,680 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:24:53,680 [INFO] [generated in 0.00014s] (6903748145,)
2025-04-26 15:24:53,682 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:24:53,682 [INFO] [generated in 0.00011s] (6903748145, 3)
2025-04-26 15:24:53,684 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:24:53,684 [INFO] [generated in 0.00015s] (2, 20)
2025-04-26 15:24:53,685 [INFO] COMMIT
2025-04-26 15:24:53,959 [INFO] BEGIN (implicit)
2025-04-26 15:24:53,960 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:24:53,960 [INFO] [generated in 0.00013s] ('main',)
2025-04-26 15:24:53,962 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:24:53,962 [INFO] [generated in 0.00010s] (6903748145,)
2025-04-26 15:24:54,093 [INFO] ROLLBACK
2025-04-26 15:24:54,094 [INFO] Update id=423805265 is handled. Duration 415 ms by bot id=7974627539
2025-04-26 15:24:57,756 [INFO] Start command message: /start add_to_cart_2
2025-04-26 15:24:57,756 [INFO] Start command args: add_to_cart_2
2025-04-26 15:24:57,757 [INFO] BEGIN (implicit)
2025-04-26 15:24:57,757 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 15:24:57,757 [INFO] [cached since 4.077s ago] (6903748145,)
2025-04-26 15:24:57,758 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 15:24:57,758 [INFO] [cached since 4.076s ago] (6903748145, 2)
2025-04-26 15:24:57,759 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 15:24:57,759 [INFO] [cached since 4.075s ago] (2, 22)
2025-04-26 15:24:57,759 [INFO] COMMIT
2025-04-26 15:24:58,025 [INFO] BEGIN (implicit)
2025-04-26 15:24:58,025 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 15:24:58,025 [INFO] [cached since 4.066s ago] ('main',)
2025-04-26 15:24:58,026 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 15:24:58,026 [INFO] [cached since 4.065s ago] (6903748145,)
2025-04-26 15:24:58,221 [INFO] ROLLBACK
2025-04-26 15:24:58,222 [INFO] Update id=423805266 is handled. Duration 465 ms by bot id=7974627539
2025-04-26 15:25:45,827 [DEBUG] Загружено 0 товаров из файла
2025-04-26 15:25:45,827 [INFO] BEGIN (implicit)
2025-04-26 15:25:45,830 [INFO] SELECT product.id, product.name, product.description, product.purchase_price, product.price, product.image, product.category_id, product.seller_id, product.quantity, product.created, product.updated 
FROM product
2025-04-26 15:25:45,830 [INFO] [generated in 0.00015s] ()
2025-04-26 15:25:45,832 [INFO] SELECT category.id AS category_id, category.name AS category_name, category.created AS category_created, category.updated AS category_updated 
FROM category 
WHERE category.id IN ($1::INTEGER, $2::INTEGER)
2025-04-26 15:25:45,832 [INFO] [generated in 0.00019s] (4, 5)
2025-04-26 15:25:45,834 [INFO] SELECT sellers.id AS sellers_id, sellers.name AS sellers_name, sellers.description AS sellers_description, sellers.phone AS sellers_phone, sellers.address AS sellers_address, sellers.created AS sellers_created, sellers.updated AS sellers_updated 
FROM sellers 
WHERE sellers.id IN ($1::INTEGER)
2025-04-26 15:25:45,834 [INFO] [generated in 0.00023s] (1,)
2025-04-26 15:25:45,836 [INFO] Сохранено 3 товаров в файл
2025-04-26 15:25:45,836 [DEBUG] Выбран товар: чай каркаде
2025-04-26 15:25:45,836 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 15:25:45,836 [INFO] [cached since 60.62s ago] ('чай каркаде',)
2025-04-26 15:25:45,837 [INFO] ID товара: 2
2025-04-26 15:25:45,837 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_2
2025-04-26 15:25:46,042 [INFO] Отправлено в -1002130857709
2025-04-26 15:25:46,042 [INFO] ROLLBACK
2025-04-26 16:20:40,015 [INFO] Приложение запущено
2025-04-26 16:20:40,026 [DEBUG] Using selector: EpollSelector
2025-04-26 16:20:40,487 [INFO] select pg_catalog.version()
2025-04-26 16:20:40,487 [INFO] [raw sql] ()
2025-04-26 16:20:40,488 [INFO] select current_schema()
2025-04-26 16:20:40,489 [INFO] [raw sql] ()
2025-04-26 16:20:40,489 [INFO] show standard_conforming_strings
2025-04-26 16:20:40,489 [INFO] [raw sql] ()
2025-04-26 16:20:40,490 [INFO] BEGIN (implicit)
2025-04-26 16:20:40,493 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,493 [INFO] [generated in 0.00019s] ('banner', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,494 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,495 [INFO] [cached since 0.001806s ago] ('category', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,495 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,495 [INFO] [cached since 0.002232s ago] ('product', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,495 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,495 [INFO] [cached since 0.0026s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,496 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,496 [INFO] [cached since 0.003003s ago] ('sellers', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,496 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,496 [INFO] [cached since 0.003365s ago] ('cart', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,496 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,496 [INFO] [cached since 0.003728s ago] ('order', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,497 [INFO] SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-04-26 16:20:40,497 [INFO] [cached since 0.003994s ago] ('order_item', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-04-26 16:20:40,497 [INFO] COMMIT
2025-04-26 16:20:40,497 [INFO] BEGIN (implicit)
2025-04-26 16:20:40,513 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 16:20:40,513 [INFO] [generated in 0.00018s] ()
2025-04-26 16:20:40,515 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner
2025-04-26 16:20:40,515 [INFO] [generated in 0.00013s] ()
2025-04-26 16:20:40,516 [INFO] ROLLBACK
2025-04-26 16:20:40,516 [INFO] Start polling
2025-04-26 16:20:40,516 [INFO] Функция send_random_item_periodically запущена
2025-04-26 16:20:40,516 [DEBUG] Загружено 2 товаров из файла
2025-04-26 16:20:40,516 [DEBUG] Выбран товар: чай имбирьный
2025-04-26 16:20:40,517 [INFO] BEGIN (implicit)
2025-04-26 16:20:40,517 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 16:20:40,518 [INFO] [generated in 0.00012s] ('чай имбирьный',)
2025-04-26 16:20:40,519 [INFO] ID товара: 3
2025-04-26 16:20:40,617 [INFO] Run polling for bot @testing_apps_ilmir_bot id=7974627539 - 'testing_apps'
2025-04-26 16:20:40,852 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_3
2025-04-26 16:20:41,015 [INFO] Отправлено в -1002130857709
2025-04-26 16:20:41,016 [INFO] ROLLBACK
2025-04-26 16:21:22,107 [INFO] Start command message: /start add_to_cart_3
2025-04-26 16:21:22,107 [INFO] Start command args: add_to_cart_3
2025-04-26 16:21:22,107 [INFO] BEGIN (implicit)
2025-04-26 16:21:22,108 [INFO] SELECT users.id, users.user_id, users.first_name, users.last_name, users.phone, users.address, users.created, users.updated 
FROM users 
WHERE users.user_id = $1::BIGINT
2025-04-26 16:21:22,108 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 16:21:22,110 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated 
FROM cart 
WHERE cart.user_id = $1::BIGINT AND cart.product_id = $2::INTEGER
2025-04-26 16:21:22,110 [INFO] [generated in 0.00013s] (6903748145, 3)
2025-04-26 16:21:22,111 [INFO] UPDATE cart SET quantity=$1::INTEGER, updated=now() WHERE cart.id = $2::INTEGER
2025-04-26 16:21:22,111 [INFO] [generated in 0.00011s] (3, 20)
2025-04-26 16:21:22,112 [INFO] COMMIT
2025-04-26 16:21:22,465 [INFO] BEGIN (implicit)
2025-04-26 16:21:22,466 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 16:21:22,466 [INFO] [generated in 0.00013s] ('main',)
2025-04-26 16:21:22,468 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 16:21:22,468 [INFO] [generated in 0.00011s] (6903748145,)
2025-04-26 16:21:22,612 [INFO] ROLLBACK
2025-04-26 16:21:22,613 [INFO] Update id=423805267 is handled. Duration 506 ms by bot id=7974627539
2025-04-26 16:21:30,848 [INFO] BEGIN (implicit)
2025-04-26 16:21:30,848 [INFO] SELECT banner.id, banner.name, banner.image, banner.description, banner.created, banner.updated 
FROM banner 
WHERE banner.name = $1::VARCHAR
2025-04-26 16:21:30,849 [INFO] [cached since 8.383s ago] ('catalog',)
2025-04-26 16:21:30,850 [INFO] SELECT category.id, category.name, category.created, category.updated 
FROM category
2025-04-26 16:21:30,850 [INFO] [cached since 50.34s ago] ()
2025-04-26 16:21:30,850 [INFO] SELECT sum(cart.quantity) AS sum_1 
FROM cart 
WHERE cart.user_id = $1::BIGINT
2025-04-26 16:21:30,850 [INFO] [cached since 8.383s ago] (6903748145,)
2025-04-26 16:21:31,182 [INFO] ROLLBACK
2025-04-26 16:21:31,183 [INFO] Update id=423805268 is handled. Duration 335 ms by bot id=7974627539
2025-04-26 16:21:32,619 [INFO] BEGIN (implicit)
2025-04-26 16:21:32,621 [INFO] SELECT cart.id, cart.user_id, cart.product_id, cart.quantity, cart.created, cart.updated, product_1.id AS id_1, product_1.name, product_1.description, product_1.purchase_price, product_1.price, product_1.image, product_1.category_id, product_1.seller_id, product_1.quantity AS quantity_1, product_1.created AS created_1, product_1.updated AS updated_1 
FROM cart LEFT OUTER JOIN product AS product_1 ON product_1.id = cart.product_id 
WHERE cart.user_id = $1::BIGINT
2025-04-26 16:21:32,621 [INFO] [generated in 0.00013s] (6903748145,)
2025-04-26 16:21:32,978 [INFO] ROLLBACK
2025-04-26 16:21:32,978 [INFO] Update id=423805269 is handled. Duration 359 ms by bot id=7974627539
2025-04-26 16:21:41,020 [DEBUG] Загружено 1 товаров из файла
2025-04-26 16:21:41,020 [DEBUG] Выбран товар: мышка
2025-04-26 16:21:41,020 [INFO] BEGIN (implicit)
2025-04-26 16:21:41,020 [INFO] SELECT product.id 
FROM product 
WHERE product.name = $1::VARCHAR
2025-04-26 16:21:41,020 [INFO] [cached since 60.5s ago] ('мышка',)
2025-04-26 16:21:41,021 [INFO] ID товара: 1
2025-04-26 16:21:41,021 [INFO] Сформированная ссылка: https://t.me/testing_apps_ilmir_bot?start=add_to_cart_1
2025-04-26 16:21:41,183 [INFO] Отправлено в -1002130857709
2025-04-26 16:21:41,184 [INFO] ROLLBACK
